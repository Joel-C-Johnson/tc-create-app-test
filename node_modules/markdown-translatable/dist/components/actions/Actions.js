"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _styles = require("@material-ui/core/styles");

var _core = require("@material-ui/core");

var _icons = require("@material-ui/icons");

var _localStrings = require("../../core/localStrings");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function Actions(_ref) {
  var sectionable = _ref.sectionable,
      onSectionable = _ref.onSectionable,
      blockable = _ref.blockable,
      onBlockable = _ref.onBlockable,
      preview = _ref.preview,
      onPreview = _ref.onPreview,
      changed = _ref.changed,
      onSave = _ref.onSave;
  var classes = useStyles();

  var _onSave = (0, _react.useCallback)(onSave, [onSave]);

  var _onPreview = (0, _react.useCallback)(onPreview, [onPreview]);

  var _onSectionable = (0, _react.useCallback)(onSectionable, [onSectionable]);

  var _onBlockable = (0, _react.useCallback)(onBlockable, [onBlockable]);

  var togglePreview = (0, _react.useCallback)(function () {
    return _onPreview(!preview);
  }, [preview, _onPreview]);
  var toggleSectionable = (0, _react.useCallback)(function () {
    return _onSectionable(!sectionable);
  }, [sectionable, _onSectionable]);
  var toggleBlockable = (0, _react.useCallback)(function () {
    return _onBlockable(!blockable);
  }, [blockable, _onBlockable]);
  var saveIcon = (0, _react.useMemo)(function () {
    return changed ? /*#__PURE__*/_react.default.createElement(_icons.Save, null) : /*#__PURE__*/_react.default.createElement(_icons.SaveOutlined, null);
  }, [changed]);
  var previewIcon = (0, _react.useMemo)(function () {
    return !preview ? /*#__PURE__*/_react.default.createElement(_icons.Pageview, null) : /*#__PURE__*/_react.default.createElement(_icons.PageviewOutlined, null);
  }, [preview]);
  var sectionableIcon = (0, _react.useMemo)(function () {
    return sectionable ? /*#__PURE__*/_react.default.createElement(_icons.ViewStream, null) : /*#__PURE__*/_react.default.createElement(_icons.ViewStreamOutlined, null);
  }, [sectionable]);
  var blockableIcon = (0, _react.useMemo)(function () {
    return blockable ? /*#__PURE__*/_react.default.createElement(_icons.ShortText, null) : /*#__PURE__*/_react.default.createElement(_icons.Subject, null);
  }, [blockable]);
  var sectionsAction = (0, _react.useMemo)(function () {
    return /*#__PURE__*/_react.default.createElement(_core.Tooltip, {
      title: sectionable ? (0, _localStrings.localString)("Sections") : (0, _localStrings.localString)("NoSections"),
      arrow: true
    }, /*#__PURE__*/_react.default.createElement(_core.IconButton, {
      className: classes.action,
      "aria-label": "Sections",
      onClick: toggleSectionable
    }, sectionableIcon));
  }, [classes.action, sectionableIcon, toggleSectionable]);
  var blocksAction = (0, _react.useMemo)(function () {
    return /*#__PURE__*/_react.default.createElement(_core.Tooltip, {
      title: blockable ? (0, _localStrings.localString)("Blocks") : (0, _localStrings.localString)("NoBlocks"),
      arrow: true
    }, /*#__PURE__*/_react.default.createElement(_core.IconButton, {
      className: classes.action,
      "aria-label": "Blocks",
      onClick: toggleBlockable
    }, blockableIcon));
  }, [classes.action, blockableIcon, toggleBlockable]);
  var previewAction = (0, _react.useMemo)(function () {
    return /*#__PURE__*/_react.default.createElement(_core.Tooltip, {
      title: (0, _localStrings.localString)("Preview"),
      arrow: true
    }, /*#__PURE__*/_react.default.createElement(_core.IconButton, {
      className: classes.action,
      "aria-label": "Preview",
      onClick: togglePreview
    }, previewIcon));
  }, [classes.action, previewIcon, togglePreview]);
  var saveAction = (0, _react.useMemo)(function () {
    return /*#__PURE__*/_react.default.createElement(_core.Tooltip, {
      title: (0, _localStrings.localString)("Save"),
      arrow: true
    }, /*#__PURE__*/_react.default.createElement(_core.IconButton, {
      className: classes.action,
      "aria-label": "Save",
      disabled: !changed,
      onClick: _onSave
    }, saveIcon));
  }, [_onSave, changed, classes.action, saveIcon]);
  return /*#__PURE__*/_react.default.createElement("div", {
    className: classes.actions
  }, sectionsAction, blocksAction, previewAction, saveAction);
}

;
Actions.propTypes = {
  /** Divide editor by segments */
  sectionable: _propTypes.default.bool,

  /** Function to propogate changes to sectionable. */
  onSectionable: _propTypes.default.func.isRequired,

  /** Divide segments by blocks */
  blockable: _propTypes.default.bool,

  /** Function to propogate changes to blockable. */
  onBlockable: _propTypes.default.func.isRequired,

  /** Preview HTML or RAW Markdown */
  preview: _propTypes.default.bool,

  /** Function to propogate changes to preview. */
  onPreview: _propTypes.default.func.isRequired,

  /** Enable/Disable save icon if changed. */
  changed: _propTypes.default.bool,

  /** Function to propogate changes to save. */
  onSave: _propTypes.default.func.isRequired
};
var useStyles = (0, _styles.makeStyles)(function (theme) {
  return {
    actions: {
      textAlign: 'right',
      paddingRight: "".concat(theme.spacing(1.5), "px")
    },
    action: {
      marginLeft: "".concat(theme.spacing(1), "px")
    }
  };
});
var _default = Actions;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2FjdGlvbnMvQWN0aW9ucy5qcyJdLCJuYW1lcyI6WyJBY3Rpb25zIiwic2VjdGlvbmFibGUiLCJvblNlY3Rpb25hYmxlIiwiYmxvY2thYmxlIiwib25CbG9ja2FibGUiLCJwcmV2aWV3Iiwib25QcmV2aWV3IiwiY2hhbmdlZCIsIm9uU2F2ZSIsImNsYXNzZXMiLCJ1c2VTdHlsZXMiLCJfb25TYXZlIiwiX29uUHJldmlldyIsIl9vblNlY3Rpb25hYmxlIiwiX29uQmxvY2thYmxlIiwidG9nZ2xlUHJldmlldyIsInRvZ2dsZVNlY3Rpb25hYmxlIiwidG9nZ2xlQmxvY2thYmxlIiwic2F2ZUljb24iLCJwcmV2aWV3SWNvbiIsInNlY3Rpb25hYmxlSWNvbiIsImJsb2NrYWJsZUljb24iLCJzZWN0aW9uc0FjdGlvbiIsImFjdGlvbiIsImJsb2Nrc0FjdGlvbiIsInByZXZpZXdBY3Rpb24iLCJzYXZlQWN0aW9uIiwiYWN0aW9ucyIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImJvb2wiLCJmdW5jIiwiaXNSZXF1aXJlZCIsInRoZW1lIiwidGV4dEFsaWduIiwicGFkZGluZ1JpZ2h0Iiwic3BhY2luZyIsIm1hcmdpbkxlZnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQVVBOzs7Ozs7OztBQUVBLFNBQVNBLE9BQVQsT0FTRztBQUFBLE1BUkRDLFdBUUMsUUFSREEsV0FRQztBQUFBLE1BUERDLGFBT0MsUUFQREEsYUFPQztBQUFBLE1BTkRDLFNBTUMsUUFOREEsU0FNQztBQUFBLE1BTERDLFdBS0MsUUFMREEsV0FLQztBQUFBLE1BSkRDLE9BSUMsUUFKREEsT0FJQztBQUFBLE1BSERDLFNBR0MsUUFIREEsU0FHQztBQUFBLE1BRkRDLE9BRUMsUUFGREEsT0FFQztBQUFBLE1BRERDLE1BQ0MsUUFEREEsTUFDQztBQUNELE1BQU1DLE9BQU8sR0FBR0MsU0FBUyxFQUF6Qjs7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LFVBSlo7O0FBS2xCO0FBQ0E3QixFQUFBQSxTQUFTLEVBQUUwQixtQkFBVUMsSUFOSDs7QUFPbEI7QUFDQTFCLEVBQUFBLFdBQVcsRUFBRXlCLG1CQUFVRSxJQUFWLENBQWVDLFVBUlY7O0FBU2xCO0FBQ0EzQixFQUFBQSxPQUFPLEVBQUV3QixtQkFBVUMsSUFWRDs7QUFXbEI7QUFDQXhCLEVBQUFBLFNBQVMsRUFBRXVCLG1CQUFVRSxJQUFWLENBQWVDLFVBWlI7O0FBYWxCO0FBQ0F6QixFQUFBQSxPQUFPLEVBQUVzQixtQkFBVUMsSUFkRDs7QUFlbEI7QUFDQXRCLEVBQUFBLE1BQU0sRUFBRXFCLG1CQUFVRSxJQUFWLENBQWVDO0FBaEJMLENBQXBCO0FBbUJBLElBQU10QixTQUFTLEdBQUcsd0JBQVcsVUFBQXVCLEtBQUs7QUFBQSxTQUFLO0FBQ3JDTixJQUFBQSxPQUFPLEVBQUU7QUFDUE8sTUFBQUEsU0FBUyxFQUFFLE9BREo7QUFFUEMsTUFBQUEsWUFBWSxZQUFLRixLQUFLLENBQUNHLE9BQU4sQ0FBYyxHQUFkLENBQUw7QUFGTCxLQUQ0QjtBQUtyQ2IsSUFBQUEsTUFBTSxFQUFFO0FBQ05jLE1BQUFBLFVBQVUsWUFBS0osS0FBSyxDQUFDRyxPQUFOLENBQWMsQ0FBZCxDQUFMO0FBREo7QUFMNkIsR0FBTDtBQUFBLENBQWhCLENBQWxCO2VBVWVwQyxPIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xuaW1wb3J0IHsgSWNvbkJ1dHRvbiwgVG9vbHRpcCB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcbmltcG9ydCB7XG4gIFNhdmUsXG4gIFNhdmVPdXRsaW5lZCxcbiAgUGFnZXZpZXcsXG4gIFBhZ2V2aWV3T3V0bGluZWQsXG4gIFNob3J0VGV4dCxcbiAgU3ViamVjdCxcbiAgVmlld1N0cmVhbSxcbiAgVmlld1N0cmVhbU91dGxpbmVkLFxufSBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMnO1xuaW1wb3J0IHsgbG9jYWxTdHJpbmcgfSBmcm9tICcuLi8uLi9jb3JlL2xvY2FsU3RyaW5ncyc7XG5cbmZ1bmN0aW9uIEFjdGlvbnMoe1xuICBzZWN0aW9uYWJsZSxcbiAgb25TZWN0aW9uYWJsZSxcbiAgYmxvY2thYmxlLFxuICBvbkJsb2NrYWJsZSxcbiAgcHJldmlldyxcbiAgb25QcmV2aWV3LFxuICBjaGFuZ2VkLFxuICBvblNhdmUsXG59KSB7XG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXMoKTtcblxuICBjb25zdCBfb25TYXZlID0gdXNlQ2FsbGJhY2sob25TYXZlLCBbb25TYXZlXSk7XG4gIGNvbnN0IF9vblByZXZpZXcgPSB1c2VDYWxsYmFjayhvblByZXZpZXcsIFtvblByZXZpZXddKTtcbiAgY29uc3QgX29uU2VjdGlvbmFibGUgPSB1c2VDYWxsYmFjayhvblNlY3Rpb25hYmxlLCBbb25TZWN0aW9uYWJsZV0pO1xuICBjb25zdCBfb25CbG9ja2FibGUgPSB1c2VDYWxsYmFjayhvbkJsb2NrYWJsZSwgW29uQmxvY2thYmxlXSk7XG4gIGNvbnN0IHRvZ2dsZVByZXZpZXcgPSB1c2VDYWxsYmFjaygoKSA9PiBfb25QcmV2aWV3KCFwcmV2aWV3KSwgW3ByZXZpZXcsIF9vblByZXZpZXddKTtcbiAgY29uc3QgdG9nZ2xlU2VjdGlvbmFibGUgPSB1c2VDYWxsYmFjaygoKSA9PiBfb25TZWN0aW9uYWJsZSghc2VjdGlvbmFibGUpLCBbc2VjdGlvbmFibGUsIF9vblNlY3Rpb25hYmxlXSk7XG4gIGNvbnN0IHRvZ2dsZUJsb2NrYWJsZSA9IHVzZUNhbGxiYWNrKCgpID0+IF9vbkJsb2NrYWJsZSghYmxvY2thYmxlKSwgW2Jsb2NrYWJsZSwgX29uQmxvY2thYmxlXSk7XG5cbiAgY29uc3Qgc2F2ZUljb24gPSB1c2VNZW1vKCgpID0+IChjaGFuZ2VkID8gPFNhdmUgLz4gOiA8U2F2ZU91dGxpbmVkIC8+KSwgW2NoYW5nZWRdKTtcbiAgY29uc3QgcHJldmlld0ljb24gPSB1c2VNZW1vKCgpID0+ICghcHJldmlldyA/IDxQYWdldmlldyAvPiA6IDxQYWdldmlld091dGxpbmVkIC8+KSwgW3ByZXZpZXddKTtcbiAgY29uc3Qgc2VjdGlvbmFibGVJY29uID0gdXNlTWVtbygoKSA9PiAoc2VjdGlvbmFibGUgPyA8Vmlld1N0cmVhbSAvPiA6IDxWaWV3U3RyZWFtT3V0bGluZWQgLz4gKSwgW3NlY3Rpb25hYmxlXSk7XG4gIGNvbnN0IGJsb2NrYWJsZUljb24gPSB1c2VNZW1vKCgpID0+IChibG9ja2FibGUgPyA8U2hvcnRUZXh0IC8+IDogPFN1YmplY3QgLz4pLCBbYmxvY2thYmxlXSk7XG5cbiAgY29uc3Qgc2VjdGlvbnNBY3Rpb24gPSB1c2VNZW1vKCgpID0+IChcbiAgICA8VG9vbHRpcCB0aXRsZT17XG4gICAgICBzZWN0aW9uYWJsZSA/IFxuICAgICAgICBsb2NhbFN0cmluZyhcIlNlY3Rpb25zXCIpIDpcbiAgICAgICAgbG9jYWxTdHJpbmcoXCJOb1NlY3Rpb25zXCIpXG4gICAgICB9IGFycm93XG4gICAgPlxuICAgICAgPEljb25CdXR0b24gY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvbn0gYXJpYS1sYWJlbD1cIlNlY3Rpb25zXCIgb25DbGljaz17dG9nZ2xlU2VjdGlvbmFibGV9PlxuICAgICAgICB7c2VjdGlvbmFibGVJY29ufVxuICAgICAgPC9JY29uQnV0dG9uPlxuICAgIDwvVG9vbHRpcD5cbiAgKSwgW2NsYXNzZXMuYWN0aW9uLCBzZWN0aW9uYWJsZUljb24sIHRvZ2dsZVNlY3Rpb25hYmxlXSk7XG4gIGNvbnN0IGJsb2Nrc0FjdGlvbiA9IHVzZU1lbW8oKCkgPT4gKFxuICAgIDxUb29sdGlwIHRpdGxlPXtcbiAgICAgIGJsb2NrYWJsZSA/IFxuICAgICAgICBsb2NhbFN0cmluZyhcIkJsb2Nrc1wiKSA6XG4gICAgICAgIGxvY2FsU3RyaW5nKFwiTm9CbG9ja3NcIilcbiAgICAgIH0gYXJyb3dcbiAgICA+XG4gICAgICA8SWNvbkJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9ufSBhcmlhLWxhYmVsPVwiQmxvY2tzXCIgb25DbGljaz17dG9nZ2xlQmxvY2thYmxlfT5cbiAgICAgICAge2Jsb2NrYWJsZUljb259XG4gICAgICA8L0ljb25CdXR0b24+XG4gICAgPC9Ub29sdGlwPlxuICApLCBbY2xhc3Nlcy5hY3Rpb24sIGJsb2NrYWJsZUljb24sIHRvZ2dsZUJsb2NrYWJsZV0pO1xuICBjb25zdCBwcmV2aWV3QWN0aW9uID0gdXNlTWVtbygoKSA9PiAoXG4gICAgPFRvb2x0aXAgdGl0bGU9e2xvY2FsU3RyaW5nKFwiUHJldmlld1wiKX0gYXJyb3c+XG4gICAgICA8SWNvbkJ1dHRvbiBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9ufSBhcmlhLWxhYmVsPVwiUHJldmlld1wiIG9uQ2xpY2s9e3RvZ2dsZVByZXZpZXd9PlxuICAgICAgICB7cHJldmlld0ljb259XG4gICAgICA8L0ljb25CdXR0b24+XG4gICAgPC9Ub29sdGlwPlxuICApLCBbY2xhc3Nlcy5hY3Rpb24sIHByZXZpZXdJY29uLCB0b2dnbGVQcmV2aWV3XSk7XG4gIGNvbnN0IHNhdmVBY3Rpb24gPSB1c2VNZW1vKCgpID0+IChcbiAgICA8VG9vbHRpcCB0aXRsZT17bG9jYWxTdHJpbmcoXCJTYXZlXCIpfSBhcnJvdz5cbiAgICAgIDxJY29uQnV0dG9uIGNsYXNzTmFtZT17Y2xhc3Nlcy5hY3Rpb259IGFyaWEtbGFiZWw9XCJTYXZlXCIgZGlzYWJsZWQ9eyFjaGFuZ2VkfSBvbkNsaWNrPXtfb25TYXZlfT5cbiAgICAgICAge3NhdmVJY29ufVxuICAgICAgPC9JY29uQnV0dG9uPlxuICAgIDwvVG9vbHRpcD5cbiAgKSwgW19vblNhdmUsIGNoYW5nZWQsIGNsYXNzZXMuYWN0aW9uLCBzYXZlSWNvbl0pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzZXMuYWN0aW9uc30+XG4gICAgICB7c2VjdGlvbnNBY3Rpb259XG4gICAgICB7YmxvY2tzQWN0aW9ufVxuICAgICAge3ByZXZpZXdBY3Rpb259XG4gICAgICB7c2F2ZUFjdGlvbn1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbkFjdGlvbnMucHJvcFR5cGVzID0ge1xuICAvKiogRGl2aWRlIGVkaXRvciBieSBzZWdtZW50cyAqL1xuICBzZWN0aW9uYWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gIC8qKiBGdW5jdGlvbiB0byBwcm9wb2dhdGUgY2hhbmdlcyB0byBzZWN0aW9uYWJsZS4gKi9cbiAgb25TZWN0aW9uYWJsZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgLyoqIERpdmlkZSBzZWdtZW50cyBieSBibG9ja3MgKi9cbiAgYmxvY2thYmxlOiBQcm9wVHlwZXMuYm9vbCxcbiAgLyoqIEZ1bmN0aW9uIHRvIHByb3BvZ2F0ZSBjaGFuZ2VzIHRvIGJsb2NrYWJsZS4gKi9cbiAgb25CbG9ja2FibGU6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIC8qKiBQcmV2aWV3IEhUTUwgb3IgUkFXIE1hcmtkb3duICovXG4gIHByZXZpZXc6IFByb3BUeXBlcy5ib29sLFxuICAvKiogRnVuY3Rpb24gdG8gcHJvcG9nYXRlIGNoYW5nZXMgdG8gcHJldmlldy4gKi9cbiAgb25QcmV2aWV3OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAvKiogRW5hYmxlL0Rpc2FibGUgc2F2ZSBpY29uIGlmIGNoYW5nZWQuICovXG4gIGNoYW5nZWQ6IFByb3BUeXBlcy5ib29sLFxuICAvKiogRnVuY3Rpb24gdG8gcHJvcG9nYXRlIGNoYW5nZXMgdG8gc2F2ZS4gKi9cbiAgb25TYXZlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuY29uc3QgdXNlU3R5bGVzID0gbWFrZVN0eWxlcyh0aGVtZSA9PiAoe1xuICBhY3Rpb25zOiB7XG4gICAgdGV4dEFsaWduOiAncmlnaHQnLFxuICAgIHBhZGRpbmdSaWdodDogYCR7dGhlbWUuc3BhY2luZygxLjUpfXB4YCxcbiAgfSxcbiAgYWN0aW9uOiB7XG4gICAgbWFyZ2luTGVmdDogYCR7dGhlbWUuc3BhY2luZygxKX1weGAsXG4gIH1cbn0pKTtcblxuZXhwb3J0IGRlZmF1bHQgQWN0aW9ucztcbiJdfQ==