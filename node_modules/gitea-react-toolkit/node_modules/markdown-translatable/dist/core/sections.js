"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.markdownFromSections = exports.sectionsFromMarkdown = void 0;

var sectionsFromMarkdown = function sectionsFromMarkdown(_ref) {
  var markdown = _ref.markdown;
  var sections = [];
  var section = [];
  var blocks = markdown.replace(/<br>/gi, '\n').split(/\n\n/g);
  blocks.forEach(function (block) {
    var headingRegex = /^\s?#+/;
    var heading = headingRegex.test(block);

    if (section.length > 0 && heading) {
      sections.push(section);
      section = [];
    }

    section.push(block);
  }); // don't leave a dangling section

  if (section !== []) {
    sections.push(section);
    section = [];
  }

  sections = sections.map(function (blocks) {
    return blocks.join("\n\n");
  });
  return sections;
};

exports.sectionsFromMarkdown = sectionsFromMarkdown;

var markdownFromSections = function markdownFromSections(_ref2) {
  var sections = _ref2.sections;
  return sections.join("\n\n");
};

exports.markdownFromSections = markdownFromSections;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb3JlL3NlY3Rpb25zLnRzIl0sIm5hbWVzIjpbInNlY3Rpb25zRnJvbU1hcmtkb3duIiwibWFya2Rvd24iLCJzZWN0aW9ucyIsInNlY3Rpb24iLCJibG9ja3MiLCJyZXBsYWNlIiwic3BsaXQiLCJmb3JFYWNoIiwiYmxvY2siLCJoZWFkaW5nUmVnZXgiLCJoZWFkaW5nIiwidGVzdCIsImxlbmd0aCIsInB1c2giLCJtYXAiLCJqb2luIiwibWFya2Rvd25Gcm9tU2VjdGlvbnMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDTyxJQUFNQSxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCLE9BQWdCO0FBQUEsTUFBZEMsUUFBYyxRQUFkQSxRQUFjO0FBQ2xELE1BQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0EsTUFBSUMsT0FBTyxHQUFHLEVBQWQ7QUFDQSxNQUFNQyxNQUFNLEdBQUdILFFBQVEsQ0FBQ0ksT0FBVCxDQUFpQixRQUFqQixFQUEwQixJQUExQixFQUFnQ0MsS0FBaEMsQ0FBc0MsT0FBdEMsQ0FBZjtBQUNBRixFQUFBQSxNQUFNLENBQUNHLE9BQVAsQ0FBZSxVQUFBQyxLQUFLLEVBQUk7QUFDdEIsUUFBTUMsWUFBWSxHQUFHLFFBQXJCO0FBQ0EsUUFBTUMsT0FBTyxHQUFHRCxZQUFZLENBQUNFLElBQWIsQ0FBa0JILEtBQWxCLENBQWhCOztBQUNBLFFBQUtMLE9BQU8sQ0FBQ1MsTUFBUixHQUFpQixDQUFsQixJQUF3QkYsT0FBNUIsRUFBcUM7QUFDbkNSLE1BQUFBLFFBQVEsQ0FBQ1csSUFBVCxDQUFjVixPQUFkO0FBQ0FBLE1BQUFBLE9BQU8sR0FBRyxFQUFWO0FBQ0Q7O0FBQ0RBLElBQUFBLE9BQU8sQ0FBQ1UsSUFBUixDQUFhTCxLQUFiO0FBQ0QsR0FSRCxFQUprRCxDQWFsRDs7QUFDQSxNQUFJTCxPQUFPLEtBQUssRUFBaEIsRUFBb0I7QUFDbEJELElBQUFBLFFBQVEsQ0FBQ1csSUFBVCxDQUFjVixPQUFkO0FBQ0FBLElBQUFBLE9BQU8sR0FBRyxFQUFWO0FBQ0Q7O0FBQ0RELEVBQUFBLFFBQVEsR0FBR0EsUUFBUSxDQUFDWSxHQUFULENBQWEsVUFBQVYsTUFBTTtBQUFBLFdBQUlBLE1BQU0sQ0FBQ1csSUFBUCxRQUFKO0FBQUEsR0FBbkIsQ0FBWDtBQUNBLFNBQU9iLFFBQVA7QUFDRCxDQXBCTTs7OztBQXNCQSxJQUFNYyxvQkFBb0IsR0FBRyxTQUF2QkEsb0JBQXVCO0FBQUEsTUFBRWQsUUFBRixTQUFFQSxRQUFGO0FBQUEsU0FDbENBLFFBQVEsQ0FBQ2EsSUFBVCxRQURrQztBQUFBLENBQTdCIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjb25zdCBzZWN0aW9uc0Zyb21NYXJrZG93biA9ICh7bWFya2Rvd259KSA9PiB7XHJcbiAgbGV0IHNlY3Rpb25zID0gW107XHJcbiAgbGV0IHNlY3Rpb24gPSBbXTtcclxuICBjb25zdCBibG9ja3MgPSBtYXJrZG93bi5yZXBsYWNlKC88YnI+L2dpLCdcXG4nKS5zcGxpdCgvXFxuXFxuL2cpO1xyXG4gIGJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IHtcclxuICAgIGNvbnN0IGhlYWRpbmdSZWdleCA9IC9eXFxzPyMrLztcclxuICAgIGNvbnN0IGhlYWRpbmcgPSBoZWFkaW5nUmVnZXgudGVzdChibG9jayk7XHJcbiAgICBpZiAoKHNlY3Rpb24ubGVuZ3RoID4gMCkgJiYgaGVhZGluZykge1xyXG4gICAgICBzZWN0aW9ucy5wdXNoKHNlY3Rpb24pO1xyXG4gICAgICBzZWN0aW9uID0gW107XHJcbiAgICB9XHJcbiAgICBzZWN0aW9uLnB1c2goYmxvY2spO1xyXG4gIH0pO1xyXG4gIC8vIGRvbid0IGxlYXZlIGEgZGFuZ2xpbmcgc2VjdGlvblxyXG4gIGlmIChzZWN0aW9uICE9PSBbXSkge1xyXG4gICAgc2VjdGlvbnMucHVzaChzZWN0aW9uKTtcclxuICAgIHNlY3Rpb24gPSBbXTtcclxuICB9XHJcbiAgc2VjdGlvbnMgPSBzZWN0aW9ucy5tYXAoYmxvY2tzID0+IGJsb2Nrcy5qb2luKGBcXG5cXG5gKSk7XHJcbiAgcmV0dXJuIHNlY3Rpb25zO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IG1hcmtkb3duRnJvbVNlY3Rpb25zID0gKHtzZWN0aW9uc30pID0+XHJcbiAgc2VjdGlvbnMuam9pbihgXFxuXFxuYCk7XHJcbiJdfQ==