"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ResourceContextProvider = ResourceContextProvider;
exports.default = exports.ResourceContext = void 0;

var _react = _interopRequireWildcard(require("react"));

var _propTypes = _interopRequireWildcard(require("prop-types"));

var _ = require("..");

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function cov_fwr4n95ki() {
  var path = "D:\\Projects-unfoldingWord\\scripture-resources-rcl\\src\\components\\resources\\Resource.context.js";
  var hash = "ed1fa23629a70aa5412623ea2bb3e5cfa18456db";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\Projects-unfoldingWord\\scripture-resources-rcl\\src\\components\\resources\\Resource.context.js",
    statementMap: {
      "0": {
        start: {
          line: 6,
          column: 31
        },
        end: {
          line: 6,
          column: 54
        }
      },
      "1": {
        start: {
          line: 17,
          column: 14
        },
        end: {
          line: 24,
          column: 4
        }
      },
      "2": {
        start: {
          line: 26,
          column: 2
        },
        end: {
          line: 28,
          column: 4
        }
      },
      "3": {
        start: {
          line: 31,
          column: 0
        },
        end: {
          line: 47,
          column: 2
        }
      }
    },
    fnMap: {
      "0": {
        name: "ResourceContextProvider",
        decl: {
          start: {
            line: 8,
            column: 16
          },
          end: {
            line: 8,
            column: 39
          }
        },
        loc: {
          start: {
            line: 16,
            column: 3
          },
          end: {
            line: 29,
            column: 1
          }
        },
        line: 16
      }
    },
    branchMap: {},
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0
    },
    f: {
      "0": 0
    },
    b: {},
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "ed1fa23629a70aa5412623ea2bb3e5cfa18456db"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];

  cov_fwr4n95ki = function () {
    return actualCoverage;
  };

  return actualCoverage;
}

cov_fwr4n95ki();
var ResourceContext = (cov_fwr4n95ki().s[0]++, _react.default.createContext({}));
exports.ResourceContext = ResourceContext;

function ResourceContextProvider({
  resource,
  resourceLink,
  onResourceLink,
  reference,
  config,
  onResource,
  children
}) {
  cov_fwr4n95ki().f[0]++;
  var val = (cov_fwr4n95ki().s[1]++, (0, _.useResource)({
    resource,
    resourceLink,
    onResourceLink,
    reference,
    config,
    onResource
  }));
  cov_fwr4n95ki().s[2]++;
  return _react.default.createElement(ResourceContext.Provider, {
    value: val
  }, children);
}

cov_fwr4n95ki().s[3]++;
ResourceContextProvider.propTypes = {
  /** the resource content */
  resource: _propTypes.default.object,

  /** The link to parse and fetch the resource manifest */
  resourceLink: _propTypes.default.string.isRequired,

  /** The configuration of the server, and fetching */
  config: _propTypes.default.shape({
    server: _propTypes.default.string.isRequired,

    /** the overriding cache settings */
    cache: _propTypes.default.shape({
      /** cache age in ms */
      maxAge: _propTypes.default.number
    })
  }),

  /** action taken after a resource is acquired */
  onResource: _propTypes.default.func.isRequired
};
var _default = ResourceContextProvider;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3Jlc291cmNlcy9SZXNvdXJjZS5jb250ZXh0LmpzIl0sIm5hbWVzIjpbIlJlc291cmNlQ29udGV4dCIsIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsIlJlc291cmNlQ29udGV4dFByb3ZpZGVyIiwicmVzb3VyY2UiLCJyZXNvdXJjZUxpbmsiLCJvblJlc291cmNlTGluayIsInJlZmVyZW5jZSIsImNvbmZpZyIsIm9uUmVzb3VyY2UiLCJjaGlsZHJlbiIsInZhbCIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9iamVjdCIsInN0cmluZyIsImlzUmVxdWlyZWQiLCJzaGFwZSIsInNlcnZlciIsImNhY2hlIiwibWF4QWdlIiwibnVtYmVyIiwiZnVuYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRU8sSUFBTUEsZUFBZSw0QkFBR0MsZUFBTUMsYUFBTixDQUFvQixFQUFwQixDQUFILENBQXJCOzs7QUFFQSxTQUFTQyx1QkFBVCxDQUFpQztBQUN0Q0MsRUFBQUEsUUFEc0M7QUFFdENDLEVBQUFBLFlBRnNDO0FBR3RDQyxFQUFBQSxjQUhzQztBQUl0Q0MsRUFBQUEsU0FKc0M7QUFLdENDLEVBQUFBLE1BTHNDO0FBTXRDQyxFQUFBQSxVQU5zQztBQU90Q0MsRUFBQUE7QUFQc0MsQ0FBakMsRUFRSjtBQUFBO0FBQ0QsTUFBTUMsR0FBRyw0QkFBRyxtQkFBWTtBQUN0QlAsSUFBQUEsUUFEc0I7QUFFdEJDLElBQUFBLFlBRnNCO0FBR3RCQyxJQUFBQSxjQUhzQjtBQUl0QkMsSUFBQUEsU0FKc0I7QUFLdEJDLElBQUFBLE1BTHNCO0FBTXRCQyxJQUFBQTtBQU5zQixHQUFaLENBQUgsQ0FBVDtBQURDO0FBVUQsU0FDRSw2QkFBQyxlQUFELENBQWlCLFFBQWpCO0FBQTBCLElBQUEsS0FBSyxFQUFFRTtBQUFqQyxLQUF1Q0QsUUFBdkMsQ0FERjtBQUdEOzs7QUFFRFAsdUJBQXVCLENBQUNTLFNBQXhCLEdBQW9DO0FBQ2xDO0FBQ0FSLEVBQUFBLFFBQVEsRUFBRVMsbUJBQVVDLE1BRmM7O0FBR2xDO0FBQ0FULEVBQUFBLFlBQVksRUFBRVEsbUJBQVVFLE1BQVYsQ0FBaUJDLFVBSkc7O0FBS2xDO0FBQ0FSLEVBQUFBLE1BQU0sRUFBRUssbUJBQVVJLEtBQVYsQ0FBZ0I7QUFDdEJDLElBQUFBLE1BQU0sRUFBRUwsbUJBQVVFLE1BQVYsQ0FBaUJDLFVBREg7O0FBRXRCO0FBQ0FHLElBQUFBLEtBQUssRUFBRU4sbUJBQVVJLEtBQVYsQ0FBZ0I7QUFDckI7QUFDQUcsTUFBQUEsTUFBTSxFQUFFUCxtQkFBVVE7QUFGRyxLQUFoQjtBQUhlLEdBQWhCLENBTjBCOztBQWNsQztBQUNBWixFQUFBQSxVQUFVLEVBQUVJLG1CQUFVUyxJQUFWLENBQWVOO0FBZk8sQ0FBcEM7ZUFrQmViLHVCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCBQcm9wVHlwZXMsIHsgZnVuYyB9IGZyb20gJ3Byb3AtdHlwZXMnO1xyXG5cclxuaW1wb3J0IHsgdXNlUmVzb3VyY2UgfSBmcm9tICcuLic7XHJcblxyXG5leHBvcnQgY29uc3QgUmVzb3VyY2VDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmVzb3VyY2VDb250ZXh0UHJvdmlkZXIoe1xyXG4gIHJlc291cmNlLFxyXG4gIHJlc291cmNlTGluayxcclxuICBvblJlc291cmNlTGluayxcclxuICByZWZlcmVuY2UsXHJcbiAgY29uZmlnLFxyXG4gIG9uUmVzb3VyY2UsXHJcbiAgY2hpbGRyZW4sXHJcbn0pIHtcclxuICBjb25zdCB2YWwgPSB1c2VSZXNvdXJjZSh7XHJcbiAgICByZXNvdXJjZSxcclxuICAgIHJlc291cmNlTGluayxcclxuICAgIG9uUmVzb3VyY2VMaW5rLFxyXG4gICAgcmVmZXJlbmNlLFxyXG4gICAgY29uZmlnLFxyXG4gICAgb25SZXNvdXJjZSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxSZXNvdXJjZUNvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbH0+e2NoaWxkcmVufTwvUmVzb3VyY2VDb250ZXh0LlByb3ZpZGVyPlxyXG4gICk7XHJcbn1cclxuXHJcblJlc291cmNlQ29udGV4dFByb3ZpZGVyLnByb3BUeXBlcyA9IHtcclxuICAvKiogdGhlIHJlc291cmNlIGNvbnRlbnQgKi9cclxuICByZXNvdXJjZTogUHJvcFR5cGVzLm9iamVjdCxcclxuICAvKiogVGhlIGxpbmsgdG8gcGFyc2UgYW5kIGZldGNoIHRoZSByZXNvdXJjZSBtYW5pZmVzdCAqL1xyXG4gIHJlc291cmNlTGluazogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxyXG4gIC8qKiBUaGUgY29uZmlndXJhdGlvbiBvZiB0aGUgc2VydmVyLCBhbmQgZmV0Y2hpbmcgKi9cclxuICBjb25maWc6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICBzZXJ2ZXI6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcclxuICAgIC8qKiB0aGUgb3ZlcnJpZGluZyBjYWNoZSBzZXR0aW5ncyAqL1xyXG4gICAgY2FjaGU6IFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgIC8qKiBjYWNoZSBhZ2UgaW4gbXMgKi9cclxuICAgICAgbWF4QWdlOiBQcm9wVHlwZXMubnVtYmVyLFxyXG4gICAgfSksXHJcbiAgfSksXHJcbiAgLyoqIGFjdGlvbiB0YWtlbiBhZnRlciBhIHJlc291cmNlIGlzIGFjcXVpcmVkICovXHJcbiAgb25SZXNvdXJjZTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFJlc291cmNlQ29udGV4dFByb3ZpZGVyO1xyXG4iXX0=