"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireWildcard(require("react"));

var _useDeepCompareEffect = _interopRequireDefault(require("use-deep-compare-effect"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _styles = require("@material-ui/core/styles");

var _icons = require("@material-ui/icons");

var _core = require("@material-ui/core");

var _deepFreeze = _interopRequireDefault(require("deep-freeze"));

var _localStrings = require("../../core/localStrings");

var _ = require("..");

var _Selections = require("../selections/Selections.context");

var _helpers = require("./helpers");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _getRequireWildcardCache() { if (typeof WeakMap !== "function") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }

function cov_2mnr7zg62o() {
  var path = "D:\\Projects-unfoldingWord\\scripture-resources-rcl\\src\\components\\parallel-scripture\\ScriptureTable.js";
  var hash = "37ad714afa96aae9a382ead02ec0da3ef8a89552";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\Projects-unfoldingWord\\scripture-resources-rcl\\src\\components\\parallel-scripture\\ScriptureTable.js",
    statementMap: {
      "0": {
        start: {
          line: 37,
          column: 18
        },
        end: {
          line: 37,
          column: 29
        }
      },
      "1": {
        start: {
          line: 38,
          column: 30
        },
        end: {
          line: 38,
          column: 51
        }
      },
      "2": {
        start: {
          line: 39,
          column: 42
        },
        end: {
          line: 39,
          column: 54
        }
      },
      "3": {
        start: {
          line: 40,
          column: 33
        },
        end: {
          line: 40,
          column: 45
        }
      },
      "4": {
        start: {
          line: 41,
          column: 18
        },
        end: {
          line: 41,
          column: 38
        }
      },
      "5": {
        start: {
          line: 42,
          column: 38
        },
        end: {
          line: 42,
          column: 50
        }
      },
      "6": {
        start: {
          line: 43,
          column: 56
        },
        end: {
          line: 43,
          column: 66
        }
      },
      "7": {
        start: {
          line: 45,
          column: 21
        },
        end: {
          line: 45,
          column: 23
        }
      },
      "8": {
        start: {
          line: 47,
          column: 2
        },
        end: {
          line: 57,
          column: 3
        }
      },
      "9": {
        start: {
          line: 54,
          column: 20
        },
        end: {
          line: 54,
          column: 56
        }
      },
      "10": {
        start: {
          line: 55,
          column: 18
        },
        end: {
          line: 55,
          column: 42
        }
      },
      "11": {
        start: {
          line: 56,
          column: 4
        },
        end: {
          line: 56,
          column: 51
        }
      },
      "12": {
        start: {
          line: 59,
          column: 2
        },
        end: {
          line: 65,
          column: 15
        }
      },
      "13": {
        start: {
          line: 60,
          column: 21
        },
        end: {
          line: 63,
          column: 7
        }
      },
      "14": {
        start: {
          line: 60,
          column: 51
        },
        end: {
          line: 63,
          column: 5
        }
      },
      "15": {
        start: {
          line: 64,
          column: 4
        },
        end: {
          line: 64,
          column: 25
        }
      },
      "16": {
        start: {
          line: 67,
          column: 2
        },
        end: {
          line: 70,
          column: 14
        }
      },
      "17": {
        start: {
          line: 68,
          column: 26
        },
        end: {
          line: 68,
          column: 58
        }
      },
      "18": {
        start: {
          line: 69,
          column: 4
        },
        end: {
          line: 69,
          column: 35
        }
      },
      "19": {
        start: {
          line: 72,
          column: 18
        },
        end: {
          line: 108,
          column: 3
        }
      },
      "20": {
        start: {
          line: 82,
          column: 21
        },
        end: {
          line: 82,
          column: 44
        }
      },
      "21": {
        start: {
          line: 87,
          column: 26
        },
        end: {
          line: 87,
          column: 69
        }
      },
      "22": {
        start: {
          line: 106,
          column: 21
        },
        end: {
          line: 106,
          column: 39
        }
      },
      "23": {
        start: {
          line: 110,
          column: 22
        },
        end: {
          line: 110,
          column: 34
        }
      },
      "24": {
        start: {
          line: 112,
          column: 2
        },
        end: {
          line: 114,
          column: 3
        }
      },
      "25": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 113,
          column: 58
        }
      },
      "26": {
        start: {
          line: 116,
          column: 15
        },
        end: {
          line: 135,
          column: 3
        }
      },
      "27": {
        start: {
          line: 117,
          column: 10
        },
        end: {
          line: 133,
          column: 8
        }
      },
      "28": {
        start: {
          line: 118,
          column: 6
        },
        end: {
          line: 133,
          column: 8
        }
      },
      "29": {
        start: {
          line: 119,
          column: 23
        },
        end: {
          line: 119,
          column: 76
        }
      },
      "30": {
        start: {
          line: 122,
          column: 10
        },
        end: {
          line: 130,
          column: 12
        }
      },
      "31": {
        start: {
          line: 132,
          column: 8
        },
        end: {
          line: 132,
          column: 19
        }
      },
      "32": {
        start: {
          line: 137,
          column: 2
        },
        end: {
          line: 148,
          column: 26
        }
      },
      "33": {
        start: {
          line: 138,
          column: 30
        },
        end: {
          line: 138,
          column: 65
        }
      },
      "34": {
        start: {
          line: 140,
          column: 4
        },
        end: {
          line: 147,
          column: 5
        }
      },
      "35": {
        start: {
          line: 141,
          column: 22
        },
        end: {
          line: 141,
          column: 64
        }
      },
      "36": {
        start: {
          line: 143,
          column: 6
        },
        end: {
          line: 146,
          column: 7
        }
      },
      "37": {
        start: {
          line: 144,
          column: 8
        },
        end: {
          line: 144,
          column: 37
        }
      },
      "38": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 145,
          column: 57
        }
      },
      "39": {
        start: {
          line: 150,
          column: 2
        },
        end: {
          line: 169,
          column: 4
        }
      },
      "40": {
        start: {
          line: 172,
          column: 0
        },
        end: {
          line: 207,
          column: 2
        }
      },
      "41": {
        start: {
          line: 209,
          column: 18
        },
        end: {
          line: 217,
          column: 3
        }
      },
      "42": {
        start: {
          line: 209,
          column: 36
        },
        end: {
          line: 217,
          column: 1
        }
      }
    },
    fnMap: {
      "0": {
        name: "ScriptureTable",
        decl: {
          start: {
            line: 24,
            column: 9
          },
          end: {
            line: 24,
            column: 23
          }
        },
        loc: {
          start: {
            line: 36,
            column: 3
          },
          end: {
            line: 170,
            column: 1
          }
        },
        line: 36
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 59,
            column: 12
          },
          end: {
            line: 59,
            column: 13
          }
        },
        loc: {
          start: {
            line: 59,
            column: 18
          },
          end: {
            line: 65,
            column: 3
          }
        },
        line: 59
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 60,
            column: 32
          },
          end: {
            line: 60,
            column: 33
          }
        },
        loc: {
          start: {
            line: 60,
            column: 51
          },
          end: {
            line: 63,
            column: 5
          }
        },
        line: 60
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 67,
            column: 12
          },
          end: {
            line: 67,
            column: 13
          }
        },
        loc: {
          start: {
            line: 67,
            column: 18
          },
          end: {
            line: 70,
            column: 3
          }
        },
        line: 67
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 82,
            column: 15
          },
          end: {
            line: 82,
            column: 16
          }
        },
        loc: {
          start: {
            line: 82,
            column: 21
          },
          end: {
            line: 82,
            column: 44
          }
        },
        line: 82
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 87,
            column: 15
          },
          end: {
            line: 87,
            column: 16
          }
        },
        loc: {
          start: {
            line: 87,
            column: 26
          },
          end: {
            line: 87,
            column: 69
          }
        },
        line: 87
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 106,
            column: 15
          },
          end: {
            line: 106,
            column: 16
          }
        },
        loc: {
          start: {
            line: 106,
            column: 21
          },
          end: {
            line: 106,
            column: 39
          }
        },
        line: 106
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 117,
            column: 4
          },
          end: {
            line: 117,
            column: 5
          }
        },
        loc: {
          start: {
            line: 117,
            column: 10
          },
          end: {
            line: 133,
            column: 8
          }
        },
        line: 117
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 117,
            column: 10
          },
          end: {
            line: 117,
            column: 11
          }
        },
        loc: {
          start: {
            line: 118,
            column: 6
          },
          end: {
            line: 133,
            column: 8
          }
        },
        line: 118
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 118,
            column: 24
          },
          end: {
            line: 118,
            column: 25
          }
        },
        loc: {
          start: {
            line: 118,
            column: 41
          },
          end: {
            line: 133,
            column: 7
          }
        },
        line: 118
      },
      "10": {
        name: "(anonymous_10)",
        decl: {
          start: {
            line: 137,
            column: 12
          },
          end: {
            line: 137,
            column: 13
          }
        },
        loc: {
          start: {
            line: 137,
            column: 18
          },
          end: {
            line: 148,
            column: 3
          }
        },
        line: 137
      },
      "11": {
        name: "(anonymous_11)",
        decl: {
          start: {
            line: 209,
            column: 29
          },
          end: {
            line: 209,
            column: 30
          }
        },
        loc: {
          start: {
            line: 209,
            column: 36
          },
          end: {
            line: 217,
            column: 1
          }
        },
        line: 209
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 33,
            column: 2
          },
          end: {
            line: 33,
            column: 22
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 33,
            column: 20
          },
          end: {
            line: 33,
            column: 22
          }
        }],
        line: 33
      },
      "1": {
        loc: {
          start: {
            line: 34,
            column: 2
          },
          end: {
            line: 34,
            column: 13
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 34,
            column: 9
          },
          end: {
            line: 34,
            column: 13
          }
        }],
        line: 34
      },
      "2": {
        loc: {
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 57,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 57,
            column: 3
          }
        }, {
          start: {
            line: 47,
            column: 2
          },
          end: {
            line: 57,
            column: 3
          }
        }],
        line: 47
      },
      "3": {
        loc: {
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 52,
            column: 40
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 48,
            column: 4
          },
          end: {
            line: 48,
            column: 13
          }
        }, {
          start: {
            line: 49,
            column: 4
          },
          end: {
            line: 49,
            column: 19
          }
        }, {
          start: {
            line: 50,
            column: 4
          },
          end: {
            line: 50,
            column: 12
          }
        }, {
          start: {
            line: 51,
            column: 4
          },
          end: {
            line: 51,
            column: 21
          }
        }, {
          start: {
            line: 52,
            column: 4
          },
          end: {
            line: 52,
            column: 40
          }
        }],
        line: 48
      },
      "4": {
        loc: {
          start: {
            line: 56,
            column: 19
          },
          end: {
            line: 56,
            column: 50
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 56,
            column: 27
          },
          end: {
            line: 56,
            column: 45
          }
        }, {
          start: {
            line: 56,
            column: 48
          },
          end: {
            line: 56,
            column: 50
          }
        }],
        line: 56
      },
      "5": {
        loc: {
          start: {
            line: 74,
            column: 12
          },
          end: {
            line: 78,
            column: 7
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 75,
            column: 8
          },
          end: {
            line: 75,
            column: 39
          }
        }, {
          start: {
            line: 77,
            column: 8
          },
          end: {
            line: 77,
            column: 39
          }
        }],
        line: 74
      },
      "6": {
        loc: {
          start: {
            line: 79,
            column: 15
          },
          end: {
            line: 81,
            column: 44
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 80,
            column: 10
          },
          end: {
            line: 80,
            column: 43
          }
        }, {
          start: {
            line: 81,
            column: 10
          },
          end: {
            line: 81,
            column: 44
          }
        }],
        line: 79
      },
      "7": {
        loc: {
          start: {
            line: 82,
            column: 21
          },
          end: {
            line: 82,
            column: 44
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 82,
            column: 21
          },
          end: {
            line: 82,
            column: 27
          }
        }, {
          start: {
            line: 82,
            column: 31
          },
          end: {
            line: 82,
            column: 44
          }
        }],
        line: 82
      },
      "8": {
        loc: {
          start: {
            line: 98,
            column: 12
          },
          end: {
            line: 102,
            column: 7
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 99,
            column: 8
          },
          end: {
            line: 99,
            column: 38
          }
        }, {
          start: {
            line: 101,
            column: 8
          },
          end: {
            line: 101,
            column: 36
          }
        }],
        line: 98
      },
      "9": {
        loc: {
          start: {
            line: 103,
            column: 15
          },
          end: {
            line: 105,
            column: 40
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 104,
            column: 10
          },
          end: {
            line: 104,
            column: 38
          }
        }, {
          start: {
            line: 105,
            column: 10
          },
          end: {
            line: 105,
            column: 40
          }
        }],
        line: 103
      },
      "10": {
        loc: {
          start: {
            line: 112,
            column: 2
          },
          end: {
            line: 114,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 112,
            column: 2
          },
          end: {
            line: 114,
            column: 3
          }
        }, {
          start: {
            line: 112,
            column: 2
          },
          end: {
            line: 114,
            column: 3
          }
        }],
        line: 112
      },
      "11": {
        loc: {
          start: {
            line: 112,
            column: 6
          },
          end: {
            line: 112,
            column: 52
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 112,
            column: 6
          },
          end: {
            line: 112,
            column: 12
          }
        }, {
          start: {
            line: 112,
            column: 16
          },
          end: {
            line: 112,
            column: 33
          }
        }, {
          start: {
            line: 112,
            column: 37
          },
          end: {
            line: 112,
            column: 52
          }
        }],
        line: 112
      },
      "12": {
        loc: {
          start: {
            line: 123,
            column: 29
          },
          end: {
            line: 123,
            column: 65
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 123,
            column: 29
          },
          end: {
            line: 123,
            column: 33
          }
        }, {
          start: {
            line: 123,
            column: 37
          },
          end: {
            line: 123,
            column: 65
          }
        }],
        line: 123
      },
      "13": {
        loc: {
          start: {
            line: 140,
            column: 4
          },
          end: {
            line: 147,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 140,
            column: 4
          },
          end: {
            line: 147,
            column: 5
          }
        }, {
          start: {
            line: 140,
            column: 4
          },
          end: {
            line: 147,
            column: 5
          }
        }],
        line: 140
      },
      "14": {
        loc: {
          start: {
            line: 143,
            column: 6
          },
          end: {
            line: 146,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 143,
            column: 6
          },
          end: {
            line: 146,
            column: 7
          }
        }, {
          start: {
            line: 143,
            column: 6
          },
          end: {
            line: 146,
            column: 7
          }
        }],
        line: 143
      },
      "15": {
        loc: {
          start: {
            line: 161,
            column: 9
          },
          end: {
            line: 166,
            column: 9
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 161,
            column: 9
          },
          end: {
            line: 161,
            column: 13
          }
        }, {
          start: {
            line: 162,
            column: 10
          },
          end: {
            line: 165,
            column: 18
          }
        }],
        line: 161
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0
    },
    b: {
      "0": [0],
      "1": [0],
      "2": [0, 0],
      "3": [0, 0, 0, 0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "37ad714afa96aae9a382ead02ec0da3ef8a89552"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];

  cov_2mnr7zg62o = function () {
    return actualCoverage;
  };

  return actualCoverage;
}

cov_2mnr7zg62o();

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ScriptureTable({
  title,
  titles,
  books,
  height,
  reference,
  quote,
  occurrence,
  buttons,
  renderOffscreen = (cov_2mnr7zg62o().b[0][0]++, {}),
  open = (cov_2mnr7zg62o().b[1][0]++, true),
  onOpen
}) {
  cov_2mnr7zg62o().f[0]++;
  var classes = (cov_2mnr7zg62o().s[0]++, useStyles());

  var _ref = (cov_2mnr7zg62o().s[1]++, (0, _react.useState)(!!reference)),
      _ref2 = _slicedToArray(_ref, 2),
      filter = _ref2[0],
      setFilter = _ref2[1];

  var _ref3 = (cov_2mnr7zg62o().s[2]++, (0, _react.useState)([])),
      _ref4 = _slicedToArray(_ref3, 2),
      referenceIds = _ref4[0],
      setReferenceIds = _ref4[1];

  var _ref5 = (cov_2mnr7zg62o().s[3]++, (0, _react.useState)([])),
      _ref6 = _slicedToArray(_ref5, 2),
      _columns = _ref6[0],
      setColumns = _ref6[1];

  var columns = (cov_2mnr7zg62o().s[4]++, (0, _deepFreeze.default)(_columns));

  var _ref7 = (cov_2mnr7zg62o().s[5]++, (0, _react.useState)([])),
      _ref8 = _slicedToArray(_ref7, 2),
      selections = _ref8[0],
      setSelections = _ref8[1];

  var _ref9 = (cov_2mnr7zg62o().s[6]++, (0, _react.useState)()),
      _ref10 = _slicedToArray(_ref9, 2),
      columnsMenuAnchorEl = _ref10[0],
      setColumnsMenuAnchorEl = _ref10[1];

  var verseObjects = (cov_2mnr7zg62o().s[7]++, []);
  cov_2mnr7zg62o().s[8]++;

  if ((cov_2mnr7zg62o().b[3][0]++, reference) && (cov_2mnr7zg62o().b[3][1]++, reference.verse) && (cov_2mnr7zg62o().b[3][2]++, books[0]) && (cov_2mnr7zg62o().b[3][3]++, books[0].chapters) && (cov_2mnr7zg62o().b[3][4]++, books[0].chapters[reference.chapter])) {
    cov_2mnr7zg62o().b[2][0]++;
    var chapter = (cov_2mnr7zg62o().s[9]++, books[0].chapters[reference.chapter]);
    var verse = (cov_2mnr7zg62o().s[10]++, chapter[reference.verse]);
    cov_2mnr7zg62o().s[11]++;
    verseObjects = verse ? (cov_2mnr7zg62o().b[4][0]++, verse.verseObjects) : (cov_2mnr7zg62o().b[4][1]++, []);
  } else {
    cov_2mnr7zg62o().b[2][1]++;
  }

  cov_2mnr7zg62o().s[12]++;
  (0, _useDeepCompareEffect.default)(() => {
    cov_2mnr7zg62o().f[1]++;

    var _columns = (cov_2mnr7zg62o().s[13]++, titles.map((title, index) => {
      cov_2mnr7zg62o().f[2]++;
      cov_2mnr7zg62o().s[14]++;
      return {
        id: index,
        label: title
      };
    }));

    cov_2mnr7zg62o().s[15]++;
    setColumns(_columns);
  }, [titles]);
  cov_2mnr7zg62o().s[16]++;
  (0, _useDeepCompareEffect.default)(() => {
    cov_2mnr7zg62o().f[3]++;

    var _referenceIds = (cov_2mnr7zg62o().s[17]++, (0, _helpers.referenceIdsFromBooks)({
      books
    }));

    cov_2mnr7zg62o().s[18]++;
    setReferenceIds(_referenceIds);
  }, [books]);
  var actions = (cov_2mnr7zg62o().s[19]++, [{
    icon: open ? (cov_2mnr7zg62o().b[5][0]++, _react.default.createElement(_icons.UnfoldLess, {
      fontSize: "small"
    })) : (cov_2mnr7zg62o().b[5][1]++, _react.default.createElement(_icons.UnfoldMore, {
      fontSize: "small"
    })),
    tooltip: open ? (cov_2mnr7zg62o().b[6][0]++, (0, _localStrings.localString)('CloseScripturePane')) : (cov_2mnr7zg62o().b[6][1]++, (0, _localStrings.localString)('ExpandScripturePane')),
    onClick: () => {
      cov_2mnr7zg62o().f[4]++;
      cov_2mnr7zg62o().s[20]++;
      return (cov_2mnr7zg62o().b[7][0]++, onOpen) && (cov_2mnr7zg62o().b[7][1]++, onOpen(!open));
    }
  }, {
    icon: _react.default.createElement(_icons.ViewColumn, {
      fontSize: "small"
    }),
    tooltip: (0, _localStrings.localString)('ManageVersions'),
    onClick: event => {
      cov_2mnr7zg62o().f[5]++;
      cov_2mnr7zg62o().s[21]++;
      return setColumnsMenuAnchorEl(event.currentTarget);
    },
    menu: _react.default.createElement(_.ColumnsMenu, {
      columns: columns,
      onColumns: setColumns,
      anchorEl: columnsMenuAnchorEl,
      onAnchorEl: setColumnsMenuAnchorEl
    })
  }, {
    icon: filter ? (cov_2mnr7zg62o().b[8][0]++, _react.default.createElement(_icons.ShortText, {
      fontSize: "small"
    })) : (cov_2mnr7zg62o().b[8][1]++, _react.default.createElement(_icons.Subject, {
      fontSize: "small"
    })),
    tooltip: filter ? (cov_2mnr7zg62o().b[9][0]++, (0, _localStrings.localString)('ExpandChapter')) : (cov_2mnr7zg62o().b[9][1]++, (0, _localStrings.localString)('CollapseChapter')),
    onClick: () => {
      cov_2mnr7zg62o().f[6]++;
      cov_2mnr7zg62o().s[22]++;
      return setFilter(!filter);
    }
  }]);

  var _referenceIds = (cov_2mnr7zg62o().s[23]++, referenceIds);

  cov_2mnr7zg62o().s[24]++;

  if ((cov_2mnr7zg62o().b[11][0]++, filter) && (cov_2mnr7zg62o().b[11][1]++, reference.chapter) && (cov_2mnr7zg62o().b[11][2]++, reference.verse)) {
    cov_2mnr7zg62o().b[10][0]++;
    cov_2mnr7zg62o().s[25]++;
    _referenceIds = [(0, _helpers.referenceIdFromReference)(reference)];
  } else {
    cov_2mnr7zg62o().b[10][1]++;
  }

  var rows = (cov_2mnr7zg62o().s[26]++, (0, _react.useMemo)(() => {
    cov_2mnr7zg62o().f[7]++;
    cov_2mnr7zg62o().s[27]++;
    return () => {
      cov_2mnr7zg62o().f[8]++;
      cov_2mnr7zg62o().s[28]++;
      return _referenceIds.map(referenceId => {
        cov_2mnr7zg62o().f[9]++;
        var verses = (cov_2mnr7zg62o().s[29]++, (0, _helpers.versesFromReferenceIdAndBooks)({
          referenceId,
          books
        }));
        var row = (cov_2mnr7zg62o().s[30]++, _react.default.createElement(_.Row, {
          renderOffscreen: (cov_2mnr7zg62o().b[12][0]++, open) && (cov_2mnr7zg62o().b[12][1]++, renderOffscreen[referenceId]),
          key: referenceId,
          verses: verses,
          referenceId: referenceId,
          reference: reference,
          filter: filter,
          columns: columns
        }));
        cov_2mnr7zg62o().s[31]++;
        return row;
      });
    };
  }, [_referenceIds, books, open, renderOffscreen, reference, filter, columns]));
  cov_2mnr7zg62o().s[32]++;
  (0, _useDeepCompareEffect.default)(() => {
    cov_2mnr7zg62o().f[10]++;
    var scrollReferenceId = (cov_2mnr7zg62o().s[33]++, (0, _helpers.referenceIdFromReference)(reference));
    cov_2mnr7zg62o().s[34]++;

    if (!filter) {
      cov_2mnr7zg62o().b[13][0]++;
      var element = (cov_2mnr7zg62o().s[35]++, document.getElementById(scrollReferenceId));
      cov_2mnr7zg62o().s[36]++;

      if (element) {
        cov_2mnr7zg62o().b[14][0]++;
        cov_2mnr7zg62o().s[37]++;
        element.scrollIntoView(true);
        cov_2mnr7zg62o().s[38]++;
        document.getElementById('wrapY').scrollTop -= 30;
      } else {
        cov_2mnr7zg62o().b[14][1]++;
      }
    } else {
      cov_2mnr7zg62o().b[13][1]++;
    }
  }, [filter, reference]);
  cov_2mnr7zg62o().s[39]++;
  return _react.default.createElement(_Selections.SelectionsContextProvider, {
    quote: quote // onQuote={onQuote} // disable until round trip is working
    ,
    occurrence: occurrence,
    verseObjects: verseObjects,
    selections: selections,
    onSelections: setSelections
  }, _react.default.createElement(_.Toolbar, {
    title: title,
    actions: actions,
    buttons: buttons
  }), _react.default.createElement("div", {
    id: "wrapY",
    className: classes.wrapY,
    style: {
      maxHeight: height
    }
  }, (cov_2mnr7zg62o().b[15][0]++, open) && (cov_2mnr7zg62o().b[15][1]++, _react.default.createElement(_core.Table, {
    className: classes.table
  }, _react.default.createElement(_.Headers, {
    columns: columns
  }), _react.default.createElement(_core.TableBody, {
    className: classes.tableBody
  }, rows())))));
}

cov_2mnr7zg62o().s[40]++;
ScriptureTable.propTypes = {
  titles: _propTypes.default.arrayOf(_propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]).isRequired).isRequired,
  books: _propTypes.default.arrayOf(_propTypes.default.shape({
    headers: _propTypes.default.array.isRequired,
    chapters: _propTypes.default.object.isRequired
  })).isRequired,

  /** the reference to scroll into view */
  reference: _propTypes.default.shape({
    bookId: _propTypes.default.string,
    chapter: _propTypes.default.number,
    verse: _propTypes.default.number
  }),

  /** bypass rendering only when visible */
  renderOffscreen: _propTypes.default.object,

  /** render unsupported usfm markers */
  showUnsupported: _propTypes.default.bool,

  /** override text direction detection */
  direction: _propTypes.default.string,

  /** disable popovers for aligned and original language words */
  disableWordPopover: _propTypes.default.bool,

  /** filter the view to the reference */
  filter: _propTypes.default.bool,

  /** pass the quote in from parent state */
  quote: _propTypes.default.string,

  /** callback to return the quote when selections made */
  onQuote: _propTypes.default.func,

  /** set the default open state */
  open: _propTypes.default.bool,

  /** callback to update open state */
  onOpen: _propTypes.default.func
};
var useStyles = (cov_2mnr7zg62o().s[41]++, (0, _styles.makeStyles)(() => {
  cov_2mnr7zg62o().f[11]++;
  cov_2mnr7zg62o().s[42]++;
  return {
    root: {},
    wrapY: {
      overflowY: 'auto',
      overflowX: 'auto'
    },
    table: {},
    tableBody: {}
  };
}));
var _default = ScriptureTable;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3BhcmFsbGVsLXNjcmlwdHVyZS9TY3JpcHR1cmVUYWJsZS5qcyJdLCJuYW1lcyI6WyJTY3JpcHR1cmVUYWJsZSIsInRpdGxlIiwidGl0bGVzIiwiYm9va3MiLCJoZWlnaHQiLCJyZWZlcmVuY2UiLCJxdW90ZSIsIm9jY3VycmVuY2UiLCJidXR0b25zIiwicmVuZGVyT2Zmc2NyZWVuIiwib3BlbiIsIm9uT3BlbiIsImNsYXNzZXMiLCJ1c2VTdHlsZXMiLCJmaWx0ZXIiLCJzZXRGaWx0ZXIiLCJyZWZlcmVuY2VJZHMiLCJzZXRSZWZlcmVuY2VJZHMiLCJfY29sdW1ucyIsInNldENvbHVtbnMiLCJjb2x1bW5zIiwic2VsZWN0aW9ucyIsInNldFNlbGVjdGlvbnMiLCJjb2x1bW5zTWVudUFuY2hvckVsIiwic2V0Q29sdW1uc01lbnVBbmNob3JFbCIsInZlcnNlT2JqZWN0cyIsInZlcnNlIiwiY2hhcHRlcnMiLCJjaGFwdGVyIiwibWFwIiwiaW5kZXgiLCJpZCIsImxhYmVsIiwiX3JlZmVyZW5jZUlkcyIsImFjdGlvbnMiLCJpY29uIiwidG9vbHRpcCIsIm9uQ2xpY2siLCJldmVudCIsImN1cnJlbnRUYXJnZXQiLCJtZW51Iiwicm93cyIsInJlZmVyZW5jZUlkIiwidmVyc2VzIiwicm93Iiwic2Nyb2xsUmVmZXJlbmNlSWQiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInNjcm9sbEludG9WaWV3Iiwic2Nyb2xsVG9wIiwid3JhcFkiLCJtYXhIZWlnaHQiLCJ0YWJsZSIsInRhYmxlQm9keSIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImFycmF5T2YiLCJvbmVPZlR5cGUiLCJzdHJpbmciLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwic2hhcGUiLCJoZWFkZXJzIiwiYXJyYXkiLCJib29rSWQiLCJudW1iZXIiLCJzaG93VW5zdXBwb3J0ZWQiLCJib29sIiwiZGlyZWN0aW9uIiwiZGlzYWJsZVdvcmRQb3BvdmVyIiwib25RdW90ZSIsImZ1bmMiLCJyb290Iiwib3ZlcmZsb3dZIiwib3ZlcmZsb3dYIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBT0E7O0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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O0FBTWxDdEIsSUFBQUEsS0FBSyxFQUFFLEVBTjJCO0FBT2xDQyxJQUFBQSxTQUFTLEVBQUU7QUFQdUI7QUFRbkMsQ0FSaUIsQ0FBSCxDQUFmO2VBVWV0RCxjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgdXNlRWZmZWN0IGZyb20gJ3VzZS1kZWVwLWNvbXBhcmUtZWZmZWN0JztcclxuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcclxuaW1wb3J0IHsgbWFrZVN0eWxlcyB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlL3N0eWxlcyc7XHJcbmltcG9ydCB7XHJcbiAgU2hvcnRUZXh0LFxyXG4gIFN1YmplY3QsXHJcbiAgVmlld0NvbHVtbixcclxuICBVbmZvbGRNb3JlLFxyXG4gIFVuZm9sZExlc3MsXHJcbn0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IHsgVGFibGUsIFRhYmxlQm9keSB9IGZyb20gJ0BtYXRlcmlhbC11aS9jb3JlJztcclxuaW1wb3J0IGRlZXBGcmVlemUgZnJvbSAnZGVlcC1mcmVlemUnO1xyXG5pbXBvcnQgeyBsb2NhbFN0cmluZyB9IGZyb20gJy4uLy4uL2NvcmUvbG9jYWxTdHJpbmdzJztcclxuXHJcbmltcG9ydCB7IFJvdywgSGVhZGVycywgVG9vbGJhciwgQ29sdW1uc01lbnUgfSBmcm9tICcuLic7XHJcbmltcG9ydCB7IFNlbGVjdGlvbnNDb250ZXh0UHJvdmlkZXIgfSBmcm9tICcuLi9zZWxlY3Rpb25zL1NlbGVjdGlvbnMuY29udGV4dCc7XHJcbmltcG9ydCB7XHJcbiAgcmVmZXJlbmNlSWRzRnJvbUJvb2tzLFxyXG4gIHJlZmVyZW5jZUlkRnJvbVJlZmVyZW5jZSxcclxuICB2ZXJzZXNGcm9tUmVmZXJlbmNlSWRBbmRCb29rcyxcclxufSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuZnVuY3Rpb24gU2NyaXB0dXJlVGFibGUoe1xyXG4gIHRpdGxlLFxyXG4gIHRpdGxlcyxcclxuICBib29rcyxcclxuICBoZWlnaHQsXHJcbiAgcmVmZXJlbmNlLFxyXG4gIHF1b3RlLFxyXG4gIG9jY3VycmVuY2UsXHJcbiAgYnV0dG9ucyxcclxuICByZW5kZXJPZmZzY3JlZW4gPSB7fSxcclxuICBvcGVuID0gdHJ1ZSxcclxuICBvbk9wZW4sXHJcbn0pIHtcclxuICBjb25zdCBjbGFzc2VzID0gdXNlU3R5bGVzKCk7XHJcbiAgY29uc3QgW2ZpbHRlciwgc2V0RmlsdGVyXSA9IHVzZVN0YXRlKCEhcmVmZXJlbmNlKTtcclxuICBjb25zdCBbcmVmZXJlbmNlSWRzLCBzZXRSZWZlcmVuY2VJZHNdID0gdXNlU3RhdGUoW10pO1xyXG4gIGNvbnN0IFtfY29sdW1ucywgc2V0Q29sdW1uc10gPSB1c2VTdGF0ZShbXSk7XHJcbiAgY29uc3QgY29sdW1ucyA9IGRlZXBGcmVlemUoX2NvbHVtbnMpO1xyXG4gIGNvbnN0IFtzZWxlY3Rpb25zLCBzZXRTZWxlY3Rpb25zXSA9IHVzZVN0YXRlKFtdKTtcclxuICBjb25zdCBbY29sdW1uc01lbnVBbmNob3JFbCwgc2V0Q29sdW1uc01lbnVBbmNob3JFbF0gPSB1c2VTdGF0ZSgpO1xyXG5cclxuICBsZXQgdmVyc2VPYmplY3RzID0gW107XHJcblxyXG4gIGlmIChcclxuICAgIHJlZmVyZW5jZSAmJlxyXG4gICAgcmVmZXJlbmNlLnZlcnNlICYmXHJcbiAgICBib29rc1swXSAmJlxyXG4gICAgYm9va3NbMF0uY2hhcHRlcnMgJiZcclxuICAgIGJvb2tzWzBdLmNoYXB0ZXJzW3JlZmVyZW5jZS5jaGFwdGVyXVxyXG4gICkge1xyXG4gICAgY29uc3QgY2hhcHRlciA9IGJvb2tzWzBdLmNoYXB0ZXJzW3JlZmVyZW5jZS5jaGFwdGVyXTtcclxuICAgIGNvbnN0IHZlcnNlID0gY2hhcHRlcltyZWZlcmVuY2UudmVyc2VdO1xyXG4gICAgdmVyc2VPYmplY3RzID0gdmVyc2UgPyB2ZXJzZS52ZXJzZU9iamVjdHMgOiBbXTtcclxuICB9XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBfY29sdW1ucyA9IHRpdGxlcy5tYXAoKHRpdGxlLCBpbmRleCkgPT4gKHtcclxuICAgICAgaWQ6IGluZGV4LFxyXG4gICAgICBsYWJlbDogdGl0bGUsXHJcbiAgICB9KSk7XHJcbiAgICBzZXRDb2x1bW5zKF9jb2x1bW5zKTtcclxuICB9LCBbdGl0bGVzXSk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBfcmVmZXJlbmNlSWRzID0gcmVmZXJlbmNlSWRzRnJvbUJvb2tzKHsgYm9va3MgfSk7XHJcbiAgICBzZXRSZWZlcmVuY2VJZHMoX3JlZmVyZW5jZUlkcyk7XHJcbiAgfSwgW2Jvb2tzXSk7XHJcblxyXG4gIGNvbnN0IGFjdGlvbnMgPSBbXHJcbiAgICB7XHJcbiAgICAgIGljb246IG9wZW4gPyAoXHJcbiAgICAgICAgPFVuZm9sZExlc3MgZm9udFNpemU9XCJzbWFsbFwiIC8+XHJcbiAgICAgICkgOiAoXHJcbiAgICAgICAgPFVuZm9sZE1vcmUgZm9udFNpemU9XCJzbWFsbFwiIC8+XHJcbiAgICAgICksXHJcbiAgICAgIHRvb2x0aXA6IG9wZW5cclxuICAgICAgICA/IGxvY2FsU3RyaW5nKCdDbG9zZVNjcmlwdHVyZVBhbmUnKVxyXG4gICAgICAgIDogbG9jYWxTdHJpbmcoJ0V4cGFuZFNjcmlwdHVyZVBhbmUnKSxcclxuICAgICAgb25DbGljazogKCkgPT4gb25PcGVuICYmIG9uT3Blbighb3BlbiksXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICBpY29uOiA8Vmlld0NvbHVtbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sXHJcbiAgICAgIHRvb2x0aXA6IGxvY2FsU3RyaW5nKCdNYW5hZ2VWZXJzaW9ucycpLFxyXG4gICAgICBvbkNsaWNrOiAoZXZlbnQpID0+IHNldENvbHVtbnNNZW51QW5jaG9yRWwoZXZlbnQuY3VycmVudFRhcmdldCksXHJcbiAgICAgIG1lbnU6IChcclxuICAgICAgICA8Q29sdW1uc01lbnVcclxuICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XHJcbiAgICAgICAgICBvbkNvbHVtbnM9e3NldENvbHVtbnN9XHJcbiAgICAgICAgICBhbmNob3JFbD17Y29sdW1uc01lbnVBbmNob3JFbH1cclxuICAgICAgICAgIG9uQW5jaG9yRWw9e3NldENvbHVtbnNNZW51QW5jaG9yRWx9XHJcbiAgICAgICAgLz5cclxuICAgICAgKSxcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIGljb246IGZpbHRlciA/IChcclxuICAgICAgICA8U2hvcnRUZXh0IGZvbnRTaXplPVwic21hbGxcIiAvPlxyXG4gICAgICApIDogKFxyXG4gICAgICAgIDxTdWJqZWN0IGZvbnRTaXplPVwic21hbGxcIiAvPlxyXG4gICAgICApLFxyXG4gICAgICB0b29sdGlwOiBmaWx0ZXJcclxuICAgICAgICA/IGxvY2FsU3RyaW5nKCdFeHBhbmRDaGFwdGVyJylcclxuICAgICAgICA6IGxvY2FsU3RyaW5nKCdDb2xsYXBzZUNoYXB0ZXInKSxcclxuICAgICAgb25DbGljazogKCkgPT4gc2V0RmlsdGVyKCFmaWx0ZXIpLFxyXG4gICAgfSxcclxuICBdO1xyXG5cclxuICBsZXQgX3JlZmVyZW5jZUlkcyA9IHJlZmVyZW5jZUlkcztcclxuXHJcbiAgaWYgKGZpbHRlciAmJiByZWZlcmVuY2UuY2hhcHRlciAmJiByZWZlcmVuY2UudmVyc2UpIHtcclxuICAgIF9yZWZlcmVuY2VJZHMgPSBbcmVmZXJlbmNlSWRGcm9tUmVmZXJlbmNlKHJlZmVyZW5jZSldO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgcm93cyA9IHVzZU1lbW8oXHJcbiAgICAoKSA9PiAoKSA9PlxyXG4gICAgICBfcmVmZXJlbmNlSWRzLm1hcCgocmVmZXJlbmNlSWQpID0+IHtcclxuICAgICAgICBjb25zdCB2ZXJzZXMgPSB2ZXJzZXNGcm9tUmVmZXJlbmNlSWRBbmRCb29rcyh7IHJlZmVyZW5jZUlkLCBib29rcyB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgcm93ID0gKFxyXG4gICAgICAgICAgPFJvd1xyXG4gICAgICAgICAgICByZW5kZXJPZmZzY3JlZW49e29wZW4gJiYgcmVuZGVyT2Zmc2NyZWVuW3JlZmVyZW5jZUlkXX1cclxuICAgICAgICAgICAga2V5PXtyZWZlcmVuY2VJZH1cclxuICAgICAgICAgICAgdmVyc2VzPXt2ZXJzZXN9XHJcbiAgICAgICAgICAgIHJlZmVyZW5jZUlkPXtyZWZlcmVuY2VJZH1cclxuICAgICAgICAgICAgcmVmZXJlbmNlPXtyZWZlcmVuY2V9XHJcbiAgICAgICAgICAgIGZpbHRlcj17ZmlsdGVyfVxyXG4gICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApO1xyXG4gICAgICAgIHJldHVybiByb3c7XHJcbiAgICAgIH0pLFxyXG4gICAgW19yZWZlcmVuY2VJZHMsIGJvb2tzLCBvcGVuLCByZW5kZXJPZmZzY3JlZW4sIHJlZmVyZW5jZSwgZmlsdGVyLCBjb2x1bW5zXVxyXG4gICk7XHJcblxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBzY3JvbGxSZWZlcmVuY2VJZCA9IHJlZmVyZW5jZUlkRnJvbVJlZmVyZW5jZShyZWZlcmVuY2UpO1xyXG5cclxuICAgIGlmICghZmlsdGVyKSB7XHJcbiAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzY3JvbGxSZWZlcmVuY2VJZCk7XHJcblxyXG4gICAgICBpZiAoZWxlbWVudCkge1xyXG4gICAgICAgIGVsZW1lbnQuc2Nyb2xsSW50b1ZpZXcodHJ1ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dyYXBZJykuc2Nyb2xsVG9wIC09IDMwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgW2ZpbHRlciwgcmVmZXJlbmNlXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8U2VsZWN0aW9uc0NvbnRleHRQcm92aWRlclxyXG4gICAgICBxdW90ZT17cXVvdGV9XHJcbiAgICAgIC8vIG9uUXVvdGU9e29uUXVvdGV9IC8vIGRpc2FibGUgdW50aWwgcm91bmQgdHJpcCBpcyB3b3JraW5nXHJcbiAgICAgIG9jY3VycmVuY2U9e29jY3VycmVuY2V9XHJcbiAgICAgIHZlcnNlT2JqZWN0cz17dmVyc2VPYmplY3RzfVxyXG4gICAgICBzZWxlY3Rpb25zPXtzZWxlY3Rpb25zfVxyXG4gICAgICBvblNlbGVjdGlvbnM9e3NldFNlbGVjdGlvbnN9XHJcbiAgICA+XHJcbiAgICAgIDxUb29sYmFyIHRpdGxlPXt0aXRsZX0gYWN0aW9ucz17YWN0aW9uc30gYnV0dG9ucz17YnV0dG9uc30gLz5cclxuICAgICAgPGRpdiBpZD1cIndyYXBZXCIgY2xhc3NOYW1lPXtjbGFzc2VzLndyYXBZfSBzdHlsZT17eyBtYXhIZWlnaHQ6IGhlaWdodCB9fT5cclxuICAgICAgICB7b3BlbiAmJiAoXHJcbiAgICAgICAgICA8VGFibGUgY2xhc3NOYW1lPXtjbGFzc2VzLnRhYmxlfT5cclxuICAgICAgICAgICAgPEhlYWRlcnMgY29sdW1ucz17Y29sdW1uc30gLz5cclxuICAgICAgICAgICAgPFRhYmxlQm9keSBjbGFzc05hbWU9e2NsYXNzZXMudGFibGVCb2R5fT57cm93cygpfTwvVGFibGVCb2R5PlxyXG4gICAgICAgICAgPC9UYWJsZT5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvU2VsZWN0aW9uc0NvbnRleHRQcm92aWRlcj5cclxuICApO1xyXG59XHJcblxyXG5TY3JpcHR1cmVUYWJsZS5wcm9wVHlwZXMgPSB7XHJcbiAgdGl0bGVzOiBQcm9wVHlwZXMuYXJyYXlPZihcclxuICAgIFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKS5pc1JlcXVpcmVkXHJcbiAgKS5pc1JlcXVpcmVkLFxyXG4gIGJvb2tzOiBQcm9wVHlwZXMuYXJyYXlPZihcclxuICAgIFByb3BUeXBlcy5zaGFwZSh7XHJcbiAgICAgIGhlYWRlcnM6IFByb3BUeXBlcy5hcnJheS5pc1JlcXVpcmVkLFxyXG4gICAgICBjaGFwdGVyczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxyXG4gICAgfSlcclxuICApLmlzUmVxdWlyZWQsXHJcbiAgLyoqIHRoZSByZWZlcmVuY2UgdG8gc2Nyb2xsIGludG8gdmlldyAqL1xyXG4gIHJlZmVyZW5jZTogUHJvcFR5cGVzLnNoYXBlKHtcclxuICAgIGJvb2tJZDogUHJvcFR5cGVzLnN0cmluZyxcclxuICAgIGNoYXB0ZXI6IFByb3BUeXBlcy5udW1iZXIsXHJcbiAgICB2ZXJzZTogUHJvcFR5cGVzLm51bWJlcixcclxuICB9KSxcclxuICAvKiogYnlwYXNzIHJlbmRlcmluZyBvbmx5IHdoZW4gdmlzaWJsZSAqL1xyXG4gIHJlbmRlck9mZnNjcmVlbjogUHJvcFR5cGVzLm9iamVjdCxcclxuICAvKiogcmVuZGVyIHVuc3VwcG9ydGVkIHVzZm0gbWFya2VycyAqL1xyXG5cclxuICBzaG93VW5zdXBwb3J0ZWQ6IFByb3BUeXBlcy5ib29sLFxyXG4gIC8qKiBvdmVycmlkZSB0ZXh0IGRpcmVjdGlvbiBkZXRlY3Rpb24gKi9cclxuICBkaXJlY3Rpb246IFByb3BUeXBlcy5zdHJpbmcsXHJcbiAgLyoqIGRpc2FibGUgcG9wb3ZlcnMgZm9yIGFsaWduZWQgYW5kIG9yaWdpbmFsIGxhbmd1YWdlIHdvcmRzICovXHJcbiAgZGlzYWJsZVdvcmRQb3BvdmVyOiBQcm9wVHlwZXMuYm9vbCxcclxuICAvKiogZmlsdGVyIHRoZSB2aWV3IHRvIHRoZSByZWZlcmVuY2UgKi9cclxuICBmaWx0ZXI6IFByb3BUeXBlcy5ib29sLFxyXG4gIC8qKiBwYXNzIHRoZSBxdW90ZSBpbiBmcm9tIHBhcmVudCBzdGF0ZSAqL1xyXG4gIHF1b3RlOiBQcm9wVHlwZXMuc3RyaW5nLFxyXG4gIC8qKiBjYWxsYmFjayB0byByZXR1cm4gdGhlIHF1b3RlIHdoZW4gc2VsZWN0aW9ucyBtYWRlICovXHJcbiAgb25RdW90ZTogUHJvcFR5cGVzLmZ1bmMsXHJcbiAgLyoqIHNldCB0aGUgZGVmYXVsdCBvcGVuIHN0YXRlICovXHJcbiAgb3BlbjogUHJvcFR5cGVzLmJvb2wsXHJcbiAgLyoqIGNhbGxiYWNrIHRvIHVwZGF0ZSBvcGVuIHN0YXRlICovXHJcbiAgb25PcGVuOiBQcm9wVHlwZXMuZnVuYyxcclxufTtcclxuXHJcbmNvbnN0IHVzZVN0eWxlcyA9IG1ha2VTdHlsZXMoKCkgPT4gKHtcclxuICByb290OiB7fSxcclxuICB3cmFwWToge1xyXG4gICAgb3ZlcmZsb3dZOiAnYXV0bycsXHJcbiAgICBvdmVyZmxvd1g6ICdhdXRvJyxcclxuICB9LFxyXG4gIHRhYmxlOiB7fSxcclxuICB0YWJsZUJvZHk6IHt9LFxyXG59KSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTY3JpcHR1cmVUYWJsZTtcclxuIl19