"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _core = require("@material-ui/core");

var _styles = require("@material-ui/core/styles");

var _icons = require("@material-ui/icons");

var _Close = _interopRequireDefault(require("@material-ui/icons/Close"));

var _localStrings = require("../../core/localStrings");

var _Resources = require("../resources/Resources.context");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function cov_217fw0pkrd() {
  var path = "D:\\Projects-unfoldingWord\\scripture-resources-rcl\\src\\components\\parallel-scripture\\ColumnsMenu.js";
  var hash = "9ead84a2608a2bf424a8cc9f32200e0a1c5d3f47";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\Projects-unfoldingWord\\scripture-resources-rcl\\src\\components\\parallel-scripture\\ColumnsMenu.js",
    statementMap: {
      "0": {
        start: {
          line: 21,
          column: 29
        },
        end: {
          line: 21,
          column: 63
        }
      },
      "1": {
        start: {
          line: 22,
          column: 24
        },
        end: {
          line: 22,
          column: 35
        }
      },
      "2": {
        start: {
          line: 24,
          column: 52
        },
        end: {
          line: 24,
          column: 73
        }
      },
      "3": {
        start: {
          line: 26,
          column: 29
        },
        end: {
          line: 32,
          column: 3
        }
      },
      "4": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 31,
          column: 5
        }
      },
      "5": {
        start: {
          line: 29,
          column: 24
        },
        end: {
          line: 29,
          column: 72
        }
      },
      "6": {
        start: {
          line: 30,
          column: 6
        },
        end: {
          line: 30,
          column: 40
        }
      },
      "7": {
        start: {
          line: 34,
          column: 29
        },
        end: {
          line: 39,
          column: 3
        }
      },
      "8": {
        start: {
          line: 35,
          column: 4
        },
        end: {
          line: 38,
          column: 5
        }
      },
      "9": {
        start: {
          line: 37,
          column: 6
        },
        end: {
          line: 37,
          column: 28
        }
      },
      "10": {
        start: {
          line: 41,
          column: 23
        },
        end: {
          line: 47,
          column: 3
        }
      },
      "11": {
        start: {
          line: 42,
          column: 19
        },
        end: {
          line: 42,
          column: 40
        }
      },
      "12": {
        start: {
          line: 43,
          column: 4
        },
        end: {
          line: 43,
          column: 35
        }
      },
      "13": {
        start: {
          line: 44,
          column: 21
        },
        end: {
          line: 44,
          column: 33
        }
      },
      "14": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 29
        }
      },
      "15": {
        start: {
          line: 46,
          column: 4
        },
        end: {
          line: 46,
          column: 24
        }
      },
      "16": {
        start: {
          line: 49,
          column: 32
        },
        end: {
          line: 56,
          column: 3
        }
      },
      "17": {
        start: {
          line: 51,
          column: 6
        },
        end: {
          line: 53,
          column: 66
        }
      },
      "18": {
        start: {
          line: 58,
          column: 18
        },
        end: {
          line: 58,
          column: 29
        }
      },
      "19": {
        start: {
          line: 60,
          column: 20
        },
        end: {
          line: 90,
          column: 4
        }
      },
      "20": {
        start: {
          line: 61,
          column: 4
        },
        end: {
          line: 89,
          column: 15
        }
      },
      "21": {
        start: {
          line: 68,
          column: 29
        },
        end: {
          line: 68,
          column: 48
        }
      },
      "22": {
        start: {
          line: 78,
          column: 33
        },
        end: {
          line: 78,
          column: 58
        }
      },
      "23": {
        start: {
          line: 92,
          column: 22
        },
        end: {
          line: 95,
          column: 3
        }
      },
      "24": {
        start: {
          line: 93,
          column: 4
        },
        end: {
          line: 93,
          column: 33
        }
      },
      "25": {
        start: {
          line: 94,
          column: 4
        },
        end: {
          line: 94,
          column: 17
        }
      },
      "26": {
        start: {
          line: 97,
          column: 2
        },
        end: {
          line: 158,
          column: 4
        }
      },
      "27": {
        start: {
          line: 161,
          column: 18
        },
        end: {
          line: 165,
          column: 3
        }
      },
      "28": {
        start: {
          line: 161,
          column: 41
        },
        end: {
          line: 165,
          column: 1
        }
      }
    },
    fnMap: {
      "0": {
        name: "ColumnsMenu",
        decl: {
          start: {
            line: 18,
            column: 9
          },
          end: {
            line: 18,
            column: 20
          }
        },
        loc: {
          start: {
            line: 20,
            column: 3
          },
          end: {
            line: 159,
            column: 1
          }
        },
        line: 20
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 26,
            column: 29
          },
          end: {
            line: 26,
            column: 30
          }
        },
        loc: {
          start: {
            line: 26,
            column: 41
          },
          end: {
            line: 32,
            column: 3
          }
        },
        line: 26
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 34,
            column: 29
          },
          end: {
            line: 34,
            column: 30
          }
        },
        loc: {
          start: {
            line: 34,
            column: 40
          },
          end: {
            line: 39,
            column: 3
          }
        },
        line: 34
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 41,
            column: 23
          },
          end: {
            line: 41,
            column: 24
          }
        },
        loc: {
          start: {
            line: 41,
            column: 34
          },
          end: {
            line: 47,
            column: 3
          }
        },
        line: 41
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 50,
            column: 4
          },
          end: {
            line: 50,
            column: 5
          }
        },
        loc: {
          start: {
            line: 51,
            column: 6
          },
          end: {
            line: 53,
            column: 66
          }
        },
        line: 51
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 60,
            column: 32
          },
          end: {
            line: 60,
            column: 33
          }
        },
        loc: {
          start: {
            line: 61,
            column: 4
          },
          end: {
            line: 89,
            column: 15
          }
        },
        line: 61
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 68,
            column: 23
          },
          end: {
            line: 68,
            column: 24
          }
        },
        loc: {
          start: {
            line: 68,
            column: 29
          },
          end: {
            line: 68,
            column: 48
          }
        },
        line: 68
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 78,
            column: 27
          },
          end: {
            line: 78,
            column: 28
          }
        },
        loc: {
          start: {
            line: 78,
            column: 33
          },
          end: {
            line: 78,
            column: 58
          }
        },
        line: 78
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 92,
            column: 22
          },
          end: {
            line: 92,
            column: 23
          }
        },
        loc: {
          start: {
            line: 92,
            column: 28
          },
          end: {
            line: 95,
            column: 3
          }
        },
        line: 92
      },
      "9": {
        name: "(anonymous_9)",
        decl: {
          start: {
            line: 161,
            column: 29
          },
          end: {
            line: 161,
            column: 30
          }
        },
        loc: {
          start: {
            line: 161,
            column: 41
          },
          end: {
            line: 165,
            column: 1
          }
        },
        line: 161
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 22,
            column: 24
          },
          end: {
            line: 22,
            column: 35
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 22,
            column: 24
          },
          end: {
            line: 22,
            column: 29
          }
        }, {
          start: {
            line: 22,
            column: 33
          },
          end: {
            line: 22,
            column: 35
          }
        }],
        line: 22
      },
      "1": {
        loc: {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        }, {
          start: {
            line: 27,
            column: 4
          },
          end: {
            line: 31,
            column: 5
          }
        }],
        line: 27
      },
      "2": {
        loc: {
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 27,
            column: 42
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 27,
            column: 8
          },
          end: {
            line: 27,
            column: 15
          }
        }, {
          start: {
            line: 27,
            column: 19
          },
          end: {
            line: 27,
            column: 42
          }
        }],
        line: 27
      },
      "3": {
        loc: {
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        }, {
          start: {
            line: 35,
            column: 4
          },
          end: {
            line: 38,
            column: 5
          }
        }],
        line: 35
      },
      "4": {
        loc: {
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 35,
            column: 33
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 35,
            column: 8
          },
          end: {
            line: 35,
            column: 15
          }
        }, {
          start: {
            line: 35,
            column: 19
          },
          end: {
            line: 35,
            column: 33
          }
        }],
        line: 35
      },
      "5": {
        loc: {
          start: {
            line: 51,
            column: 6
          },
          end: {
            line: 53,
            column: 66
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 51,
            column: 6
          },
          end: {
            line: 51,
            column: 15
          }
        }, {
          start: {
            line: 52,
            column: 6
          },
          end: {
            line: 52,
            column: 22
          }
        }, {
          start: {
            line: 53,
            column: 6
          },
          end: {
            line: 53,
            column: 66
          }
        }],
        line: 51
      },
      "6": {
        loc: {
          start: {
            line: 72,
            column: 9
          },
          end: {
            line: 87,
            column: 9
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 72,
            column: 9
          },
          end: {
            line: 72,
            column: 38
          }
        }, {
          start: {
            line: 73,
            column: 10
          },
          end: {
            line: 86,
            column: 17
          }
        }],
        line: 72
      },
      "7": {
        loc: {
          start: {
            line: 122,
            column: 7
          },
          end: {
            line: 141,
            column: 19
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 122,
            column: 7
          },
          end: {
            line: 122,
            column: 14
          }
        }, {
          start: {
            line: 122,
            column: 18
          },
          end: {
            line: 122,
            column: 41
          }
        }, {
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 141,
            column: 19
          }
        }],
        line: 122
      },
      "8": {
        loc: {
          start: {
            line: 144,
            column: 7
          },
          end: {
            line: 155,
            column: 19
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 144,
            column: 7
          },
          end: {
            line: 144,
            column: 25
          }
        }, {
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 155,
            column: 19
          }
        }],
        line: 144
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0, 0],
      "6": [0, 0],
      "7": [0, 0, 0],
      "8": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "9ead84a2608a2bf424a8cc9f32200e0a1c5d3f47"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];

  cov_217fw0pkrd = function () {
    return actualCoverage;
  };

  return actualCoverage;
}

cov_217fw0pkrd();

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }

function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }

function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }

function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance"); }

function _iterableToArrayLimit(arr, i) { if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === "[object Arguments]")) { return; } var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"] != null) _i["return"](); } finally { if (_d) throw _e; } } return _arr; }

function _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }

function ColumnsMenu({
  columns,
  onColumns,
  anchorEl,
  onAnchorEl
}) {
  cov_217fw0pkrd().f[0]++;

  var _ref = (cov_217fw0pkrd().s[0]++, _react.default.useContext(_Resources.ResourcesContext)),
      state = _ref.state,
      actions = _ref.actions;

  var _ref2 = (cov_217fw0pkrd().s[1]++, (cov_217fw0pkrd().b[0][0]++, state) || (cov_217fw0pkrd().b[0][1]++, {})),
      resources = _ref2.resources;

  var _ref3 = (cov_217fw0pkrd().s[2]++, _react.default.useState(false)),
      _ref4 = _slicedToArray(_ref3, 2),
      isResourceAddError = _ref4[0],
      setIsResourceAddError = _ref4[1];

  cov_217fw0pkrd().s[3]++;

  var onResourceAddClick = /*#__PURE__*/function () {
    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {
      var isSuccess;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              cov_217fw0pkrd().f[1]++;
              cov_217fw0pkrd().s[4]++;

              if (!((cov_217fw0pkrd().b[2][0]++, actions) && (cov_217fw0pkrd().b[2][1]++, actions.addResourceLink))) {
                _context.next = 12;
                break;
              }

              cov_217fw0pkrd().b[1][0]++;
              cov_217fw0pkrd().s[5]++;
              _context.next = 7;
              return actions.addResourceLink(resourceUrl.value);

            case 7:
              isSuccess = _context.sent;
              cov_217fw0pkrd().s[6]++;
              setIsResourceAddError(!isSuccess);
              _context.next = 13;
              break;

            case 12:
              cov_217fw0pkrd().b[1][1]++;

            case 13:
            case "end":
              return _context.stop();
          }
        }
      }, _callee);
    }));

    return function onResourceAddClick() {
      return _ref5.apply(this, arguments);
    };
  }();

  cov_217fw0pkrd().s[7]++;

  var removeResourceLink = index => {
    cov_217fw0pkrd().f[2]++;
    cov_217fw0pkrd().s[8]++;

    if ((cov_217fw0pkrd().b[4][0]++, actions) && (cov_217fw0pkrd().b[4][1]++, actions.remove)) {
      cov_217fw0pkrd().b[3][0]++;
      cov_217fw0pkrd().s[9]++;
      actions.remove(index);
    } else {
      cov_217fw0pkrd().b[3][1]++;
    }
  };

  cov_217fw0pkrd().s[10]++;

  var toggleColumn = index => {
    cov_217fw0pkrd().f[3]++;
    var column = (cov_217fw0pkrd().s[11]++, _objectSpread({}, columns[index]));
    cov_217fw0pkrd().s[12]++;
    column.hidden = !column.hidden;

    var _columns = (cov_217fw0pkrd().s[13]++, [...columns]);

    cov_217fw0pkrd().s[14]++;
    _columns[index] = column;
    cov_217fw0pkrd().s[15]++;
    onColumns(_columns);
  };

  var isDefaultResourceLink = (cov_217fw0pkrd().s[16]++, _react.default.useCallback(index => {
    cov_217fw0pkrd().f[4]++;
    cov_217fw0pkrd().s[17]++;
    return (cov_217fw0pkrd().b[5][0]++, resources) && (cov_217fw0pkrd().b[5][1]++, resources[index]) && (cov_217fw0pkrd().b[5][2]++, actions.isDefaultResourceLink(resources[index].resourceLink));
  }, [actions, resources]));
  var classes = (cov_217fw0pkrd().s[18]++, useStyles());
  var menuItems = (cov_217fw0pkrd().s[19]++, columns.map((col, index) => {
    cov_217fw0pkrd().f[5]++;
    cov_217fw0pkrd().s[20]++;
    return _react.default.createElement(_core.MenuItem, {
      key: col.id
    }, _react.default.createElement(_core.Grid, {
      container: true,
      justify: "space-between"
    }, _react.default.createElement(_core.Grid, {
      item: true
    }, _react.default.createElement("div", null, _react.default.createElement(_core.FormControlLabel, {
      label: col.label,
      control: _react.default.createElement(_core.Checkbox, {
        checked: !col.hidden
      }),
      onClick: () => {
        cov_217fw0pkrd().f[6]++;
        cov_217fw0pkrd().s[21]++;
        return toggleColumn(index);
      }
    }))), (cov_217fw0pkrd().b[6][0]++, !isDefaultResourceLink(index)) && (cov_217fw0pkrd().b[6][1]++, _react.default.createElement(_core.Grid, {
      item: true
    }, _react.default.createElement("div", null, _react.default.createElement(_core.Tooltip, {
      title: (0, _localStrings.localString)('Remove'),
      arrow: true
    }, _react.default.createElement(_core.IconButton, {
      "aria-label": (0, _localStrings.localString)('Remove'),
      onClick: () => {
        cov_217fw0pkrd().f[7]++;
        cov_217fw0pkrd().s[22]++;
        return removeResourceLink(index);
      },
      className: classes.action,
      size: "small"
    }, _react.default.createElement(_icons.HighlightOff, null))))))));
  }));
  cov_217fw0pkrd().s[23]++;

  var onCloseMenu = () => {
    cov_217fw0pkrd().f[8]++;
    cov_217fw0pkrd().s[24]++;
    setIsResourceAddError(false);
    cov_217fw0pkrd().s[25]++;
    onAnchorEl();
  };

  cov_217fw0pkrd().s[26]++;
  return _react.default.createElement(_core.Menu, {
    anchorEl: anchorEl,
    open: !!anchorEl,
    onClose: onCloseMenu
  }, _react.default.createElement(_core.MenuItem, {
    style: {
      justifyContent: "flex-end"
    }
  }, _react.default.createElement(_core.IconButton, {
    "aria-label": "Close",
    onClick: onCloseMenu,
    className: classes.close,
    disabled: false
  }, _react.default.createElement(_Close.default, {
    fontSize: "small"
  }))), _react.default.createElement(_core.MenuItem, {
    key: 'text',
    disabled: true,
    style: {
      opacity: 1,
      fontWeight: 600,
      fontSize: 12
    }
  }, (0, _localStrings.localString)('ManageVersions')), menuItems, (cov_217fw0pkrd().b[7][0]++, actions) && (cov_217fw0pkrd().b[7][1]++, actions.addResourceLink) && (cov_217fw0pkrd().b[7][2]++, _react.default.createElement(_core.MenuItem, null, _react.default.createElement(_core.TextField, {
    id: "resourceUrl",
    label: (0, _localStrings.localString)('ResourcePath'),
    variant: "outlined",
    defaultValue: "",
    style: {
      valign: 'middle'
    }
  }), _react.default.createElement(_core.Tooltip, {
    title: (0, _localStrings.localString)('AddResource'),
    arrow: true
  }, _react.default.createElement(_core.IconButton, {
    "aria-label": (0, _localStrings.localString)('AddResource'),
    onClick: onResourceAddClick,
    className: (classes.action, classes.menuIconButton),
    size: "small"
  }, _react.default.createElement(_icons.PlaylistAdd, {
    fontSize: "small"
  }))))), (cov_217fw0pkrd().b[8][0]++, isResourceAddError) && (cov_217fw0pkrd().b[8][1]++, _react.default.createElement(_core.MenuItem, {
    key: 'text',
    disabled: true,
    style: {
      opacity: 1,
      fontWeight: 600,
      fontSize: 12,
      color: 'red'
    }
  }, _react.default.createElement("div", {
    "aria-label": "AddResourceError"
  }, (0, _localStrings.localString)('AddResourceError')))));
}

var useStyles = (cov_217fw0pkrd().s[27]++, (0, _styles.makeStyles)(theme => {
  cov_217fw0pkrd().f[9]++;
  cov_217fw0pkrd().s[28]++;
  return {
    root: {},
    action: {
      padding: '8px'
    },
    close: {
      padding: '0px'
    }
  };
}));
var _default = ColumnsMenu;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL3BhcmFsbGVsLXNjcmlwdHVyZS9Db2x1bW5zTWVudS5qcyJdLCJuYW1lcyI6WyJDb2x1bW5zTWVudSIsImNvbHVtbnMiLCJvbkNvbHVtbnMiLCJhbmNob3JFbCIsIm9uQW5jaG9yRWwiLCJSZWFjdCIsInVzZUNvbnRleHQiLCJSZXNvdXJjZXNDb250ZXh0Iiwic3RhdGUiLCJhY3Rpb25zIiwicmVzb3VyY2VzIiwidXNlU3RhdGUiLCJpc1Jlc291cmNlQWRkRXJyb3IiLCJzZXRJc1Jlc291cmNlQWRkRXJyb3IiLCJvblJlc291cmNlQWRkQ2xpY2siLCJhZGRSZXNvdXJjZUxpbmsiLCJyZXNvdXJjZVVybCIsInZhbHVlIiwiaXNTdWNjZXNzIiwicmVtb3ZlUmVzb3VyY2VMaW5rIiwiaW5kZXgiLCJyZW1vdmUiLCJ0b2dnbGVDb2x1bW4iLCJjb2x1bW4iLCJoaWRkZW4iLCJfY29sdW1ucyIsImlzRGVmYXVsdFJlc291cmNlTGluayIsInVzZUNhbGxiYWNrIiwicmVzb3VyY2VMaW5rIiwiY2xhc3NlcyIsInVzZVN0eWxlcyIsIm1lbnVJdGVtcyIsIm1hcCIsImNvbCIsImlkIiwibGFiZWwiLCJhY3Rpb24iLCJvbkNsb3NlTWVudSIsImp1c3RpZnlDb250ZW50IiwiY2xvc2UiLCJvcGFjaXR5IiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwidmFsaWduIiwibWVudUljb25CdXR0b24iLCJjb2xvciIsInRoZW1lIiwicm9vdCIsInBhZGRpbmciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFVQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsU0FBU0EsV0FBVCxDQUFxQjtBQUNuQkMsRUFBQUEsT0FEbUI7QUFDVkMsRUFBQUEsU0FEVTtBQUNDQyxFQUFBQSxRQUREO0FBQ1dDLEVBQUFBO0FBRFgsQ0FBckIs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a0NBQ2pCLDZCQUFDLGNBQUQ7QUFDRSxJQUFBLEdBQUcsRUFBRSxNQURQO0FBRUUsSUFBQSxRQUFRLE1BRlY7QUFHRSxJQUFBLEtBQUssRUFBRTtBQUNMNEIsTUFBQUEsT0FBTyxFQUFFLENBREo7QUFDT0MsTUFBQUEsVUFBVSxFQUFFLEdBRG5CO0FBQ3dCQyxNQUFBQSxRQUFRLEVBQUUsRUFEbEM7QUFDc0NHLE1BQUFBLEtBQUssRUFBRTtBQUQ3QztBQUhULEtBT0U7QUFBSyxrQkFBVztBQUFoQixLQUNHLCtCQUFZLGtCQUFaLENBREgsQ0FQRixDQURpQixDQTlDckIsQ0FERjtBQThERDs7QUFFRCxJQUFNZixTQUFTLDhCQUFHLHdCQUFZZ0IsS0FBRCxJQUFZO0FBQUE7QUFBQTtBQUFBO0FBQ3ZDQyxJQUFBQSxJQUFJLEVBQUUsRUFEaUM7QUFFdkNYLElBQUFBLE1BQU0sRUFBRTtBQUFFWSxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUYrQjtBQUd2Q1QsSUFBQUEsS0FBSyxFQUFFO0FBQUVTLE1BQUFBLE9BQU8sRUFBRTtBQUFYO0FBSGdDO0FBSXhDLENBSmlCLENBQUgsQ0FBZjtlQU1laEQsVyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7XHJcbiAgQ2hlY2tib3gsXHJcbiAgSWNvbkJ1dHRvbixcclxuICBNZW51LFxyXG4gIE1lbnVJdGVtLFxyXG4gIEZvcm1Db250cm9sTGFiZWwsXHJcbiAgR3JpZCxcclxuICBUZXh0RmllbGQsXHJcbiAgVG9vbHRpcCxcclxufSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZSc7XHJcbmltcG9ydCB7IG1ha2VTdHlsZXMgfSBmcm9tICdAbWF0ZXJpYWwtdWkvY29yZS9zdHlsZXMnO1xyXG5pbXBvcnQgeyBIaWdobGlnaHRPZmYsIFBsYXlsaXN0QWRkIH0gZnJvbSAnQG1hdGVyaWFsLXVpL2ljb25zJztcclxuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbWF0ZXJpYWwtdWkvaWNvbnMvQ2xvc2UnO1xyXG5pbXBvcnQgeyBsb2NhbFN0cmluZyB9IGZyb20gJy4uLy4uL2NvcmUvbG9jYWxTdHJpbmdzJztcclxuaW1wb3J0IHsgUmVzb3VyY2VzQ29udGV4dCB9IGZyb20gJy4uL3Jlc291cmNlcy9SZXNvdXJjZXMuY29udGV4dCc7XHJcblxyXG5mdW5jdGlvbiBDb2x1bW5zTWVudSh7XHJcbiAgY29sdW1ucywgb25Db2x1bW5zLCBhbmNob3JFbCwgb25BbmNob3JFbCxcclxufSkge1xyXG4gIGNvbnN0IHsgc3RhdGUsIGFjdGlvbnMgfSA9IFJlYWN0LnVzZUNvbnRleHQoUmVzb3VyY2VzQ29udGV4dCk7XHJcbiAgY29uc3QgeyByZXNvdXJjZXMgfSA9IHN0YXRlIHx8IHt9O1xyXG4gIFxyXG5jb25zdCBbaXNSZXNvdXJjZUFkZEVycm9yLCBzZXRJc1Jlc291cmNlQWRkRXJyb3JdID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICBjb25zdCBvblJlc291cmNlQWRkQ2xpY2sgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoYWN0aW9ucyAmJiBhY3Rpb25zLmFkZFJlc291cmNlTGluaylcclxuICAgIHtcclxuICAgICAgY29uc3QgaXNTdWNjZXNzID0gYXdhaXQgYWN0aW9ucy5hZGRSZXNvdXJjZUxpbmsocmVzb3VyY2VVcmwudmFsdWUpO1xyXG4gICAgICBzZXRJc1Jlc291cmNlQWRkRXJyb3IoIWlzU3VjY2Vzcyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcmVtb3ZlUmVzb3VyY2VMaW5rID0gKGluZGV4KSA9PiB7XHJcbiAgICBpZiAoYWN0aW9ucyAmJiBhY3Rpb25zLnJlbW92ZSlcclxuICAgIHtcclxuICAgICAgYWN0aW9ucy5yZW1vdmUoaW5kZXgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IHRvZ2dsZUNvbHVtbiA9IChpbmRleCkgPT4ge1xyXG4gICAgY29uc3QgY29sdW1uID0geyAuLi5jb2x1bW5zW2luZGV4XSB9O1xyXG4gICAgY29sdW1uLmhpZGRlbiA9ICFjb2x1bW4uaGlkZGVuO1xyXG4gICAgY29uc3QgX2NvbHVtbnMgPSBbLi4uY29sdW1uc107XHJcbiAgICBfY29sdW1uc1tpbmRleF0gPSBjb2x1bW47XHJcbiAgICBvbkNvbHVtbnMoX2NvbHVtbnMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGlzRGVmYXVsdFJlc291cmNlTGluayA9IFJlYWN0LnVzZUNhbGxiYWNrKFxyXG4gICAgKGluZGV4KSA9PiAoXHJcbiAgICAgIHJlc291cmNlcyAmJlxyXG4gICAgICByZXNvdXJjZXNbaW5kZXhdICYmXHJcbiAgICAgIGFjdGlvbnMuaXNEZWZhdWx0UmVzb3VyY2VMaW5rKHJlc291cmNlc1tpbmRleF0ucmVzb3VyY2VMaW5rKVxyXG4gICAgKSxcclxuICAgIFthY3Rpb25zLCByZXNvdXJjZXNdLFxyXG4gICk7XHJcblxyXG4gIGNvbnN0IGNsYXNzZXMgPSB1c2VTdHlsZXMoKTtcclxuXHJcbiAgY29uc3QgbWVudUl0ZW1zID0gY29sdW1ucy5tYXAoKGNvbCwgaW5kZXgpID0+IChcclxuICAgIDxNZW51SXRlbSBrZXk9e2NvbC5pZH0+XHJcbiAgICAgIDxHcmlkIGNvbnRhaW5lciBqdXN0aWZ5PSdzcGFjZS1iZXR3ZWVuJz5cclxuICAgICAgICA8R3JpZCBpdGVtPlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPEZvcm1Db250cm9sTGFiZWxcclxuICAgICAgICAgICAgICBsYWJlbD17Y29sLmxhYmVsfVxyXG4gICAgICAgICAgICAgIGNvbnRyb2w9ezxDaGVja2JveCBjaGVja2VkPXshY29sLmhpZGRlbn0gLz59XHJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdG9nZ2xlQ29sdW1uKGluZGV4KX1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvR3JpZD5cclxuICAgICAgICB7IWlzRGVmYXVsdFJlc291cmNlTGluayhpbmRleCkgJiYgKFxyXG4gICAgICAgICAgPEdyaWQgaXRlbT5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17bG9jYWxTdHJpbmcoJ1JlbW92ZScpfSBhcnJvdz5cclxuICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2xvY2FsU3RyaW5nKCdSZW1vdmUnKX1cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlUmVzb3VyY2VMaW5rKGluZGV4KX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc2VzLmFjdGlvbn1cclxuICAgICAgICAgICAgICAgICAgc2l6ZT0nc21hbGwnXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxIaWdobGlnaHRPZmYgLz5cclxuICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cclxuICAgICAgICAgICAgICA8L1Rvb2x0aXA+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9HcmlkPlxyXG4gICAgICAgICl9XHJcbiAgICAgIDwvR3JpZD5cclxuICAgIDwvTWVudUl0ZW0+XHJcbiAgKSk7XHJcblxyXG4gIGNvbnN0IG9uQ2xvc2VNZW51ID0gKCkgPT4ge1xyXG4gICAgc2V0SXNSZXNvdXJjZUFkZEVycm9yKGZhbHNlKTtcclxuICAgIG9uQW5jaG9yRWwoKTtcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPE1lbnUgYW5jaG9yRWw9e2FuY2hvckVsfSBvcGVuPXshIWFuY2hvckVsfSBvbkNsb3NlPXtvbkNsb3NlTWVudX0+XHJcbiAgICAgIDxNZW51SXRlbSBzdHlsZT17e2p1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJ9fT5cclxuICAgICAgICA8SWNvbkJ1dHRvbiBcclxuICAgICAgICAgIGFyaWEtbGFiZWw9J0Nsb3NlJyBcclxuICAgICAgICAgIG9uQ2xpY2s9e29uQ2xvc2VNZW51fSBcclxuICAgICAgICAgIGNsYXNzTmFtZT17Y2xhc3Nlcy5jbG9zZX1cclxuICAgICAgICAgIGRpc2FibGVkPXtmYWxzZX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8Q2xvc2VJY29uIGZvbnRTaXplPSdzbWFsbCcgLz4gXHJcbiAgICAgICAgPC9JY29uQnV0dG9uPlxyXG4gICAgICA8L01lbnVJdGVtPlxyXG5cclxuICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAga2V5PXsndGV4dCd9XHJcbiAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgb3BhY2l0eTogMSwgZm9udFdlaWdodDogNjAwLCBmb250U2l6ZTogMTIsXHJcbiAgICAgICAgfX1cclxuICAgICAgPlxyXG4gICAgICAgIHtsb2NhbFN0cmluZygnTWFuYWdlVmVyc2lvbnMnKX1cclxuICAgICAgPC9NZW51SXRlbT5cclxuXHJcbiAgICAgIHttZW51SXRlbXN9XHJcblxyXG4gICAgICB7YWN0aW9ucyAmJiBhY3Rpb25zLmFkZFJlc291cmNlTGluayAmJiBcclxuICAgICAgICA8TWVudUl0ZW0+XHJcbiAgICAgICAgICA8VGV4dEZpZWxkXHJcbiAgICAgICAgICAgIGlkPSdyZXNvdXJjZVVybCdcclxuICAgICAgICAgICAgbGFiZWw9e2xvY2FsU3RyaW5nKCdSZXNvdXJjZVBhdGgnKX1cclxuICAgICAgICAgICAgdmFyaWFudD0nb3V0bGluZWQnXHJcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT0nJ1xyXG4gICAgICAgICAgICBzdHlsZT17eyB2YWxpZ246ICdtaWRkbGUnIH19XHJcbiAgICAgICAgICAvPlxyXG4gICAgICAgICAgPFRvb2x0aXAgdGl0bGU9e2xvY2FsU3RyaW5nKCdBZGRSZXNvdXJjZScpfSBhcnJvdz5cclxuICAgICAgICAgICAgPEljb25CdXR0b25cclxuICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtsb2NhbFN0cmluZygnQWRkUmVzb3VyY2UnKX1cclxuICAgICAgICAgICAgICBvbkNsaWNrPXtvblJlc291cmNlQWRkQ2xpY2t9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPXsoY2xhc3Nlcy5hY3Rpb24sIGNsYXNzZXMubWVudUljb25CdXR0b24pfVxyXG4gICAgICAgICAgICAgIHNpemU9J3NtYWxsJ1xyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgPFBsYXlsaXN0QWRkIGZvbnRTaXplPSdzbWFsbCcgLz5cclxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxyXG4gICAgICAgICAgPC9Ub29sdGlwPlxyXG4gICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHtpc1Jlc291cmNlQWRkRXJyb3IgJiYgXHJcbiAgICAgICAgPE1lbnVJdGVtXHJcbiAgICAgICAgICBrZXk9eyd0ZXh0J31cclxuICAgICAgICAgIGRpc2FibGVkXHJcbiAgICAgICAgICBzdHlsZT17e1xyXG4gICAgICAgICAgICBvcGFjaXR5OiAxLCBmb250V2VpZ2h0OiA2MDAsIGZvbnRTaXplOiAxMiwgY29sb3I6ICdyZWQnLFxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICA8ZGl2IGFyaWEtbGFiZWw9J0FkZFJlc291cmNlRXJyb3InPlxyXG4gICAgICAgICAgICB7bG9jYWxTdHJpbmcoJ0FkZFJlc291cmNlRXJyb3InKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvTWVudUl0ZW0+XHJcbiAgICAgIH1cclxuICAgIDwvTWVudT5cclxuICApO1xyXG59XHJcblxyXG5jb25zdCB1c2VTdHlsZXMgPSBtYWtlU3R5bGVzKCh0aGVtZSkgPT4gKHtcclxuICByb290OiB7fSxcclxuICBhY3Rpb246IHsgcGFkZGluZzogJzhweCcgfSxcclxuICBjbG9zZTogeyBwYWRkaW5nOiAnMHB4JyB9LFxyXG59KSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb2x1bW5zTWVudTtcclxuIl19