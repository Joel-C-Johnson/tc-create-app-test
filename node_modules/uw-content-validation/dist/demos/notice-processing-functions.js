"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports, "__esModule", { value: true });exports.processNoticesToErrorsWarnings = processNoticesToErrorsWarnings;exports.processNoticesToSevereMediumLow = processNoticesToSevereMediumLow;exports.processNoticesToSingleList = processNoticesToSingleList;var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _utilities = require("../core/utilities");
var _disabledNotices = require("../core/disabled-notices");function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) {symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});}keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {(0, _defineProperty2.default)(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _createForOfIteratorHelper(o, allowArrayLike) {var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];if (!it) {if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {if (it) o = it;var i = 0;var F = function F() {};return { s: F, n: function n() {if (i >= o.length) return { done: true };return { done: false, value: o[i++] };}, e: function e(_e) {throw _e;}, f: F };}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion = true,didErr = false,err;return { s: function s() {it = it.call(o);}, n: function n() {var step = it.next();normalCompletion = step.done;return step;}, e: function e(_e2) {didErr = true;err = _e2;}, f: function f() {try {if (!normalCompletion && it.return != null) it.return();} finally {if (didErr) throw err;}} };}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}


// const NOTICE_PROCESSOR_VERSION_STRING = '0.10.2';
// TODO: Hidden message code probably doesn't work for the other sort orders

var DEFAULT_MAXIMUM_HIDDEN_NOTICES = 60; // Don't want to hide HUNDREDS/THOUSANDS of notices for each notice type
var DEFAULT_MAXIMUM_HIDDEN_NOTICES_MESSAGE = "Further hidden notices (beyond ".concat(DEFAULT_MAXIMUM_HIDDEN_NOTICES, ") were suppressed!");
var maximumHiddenNotices = DEFAULT_MAXIMUM_HIDDEN_NOTICES,maximumHiddenNoticesMessage = DEFAULT_MAXIMUM_HIDDEN_NOTICES_MESSAGE;

// All of the following can be overriden with optionalProcessingOptions
var DEFAULT_MAXIMUM_SIMILAR_MESSAGES = 3; // Zero means no suppression of similar messages
var maximumSimilarMessages = DEFAULT_MAXIMUM_SIMILAR_MESSAGES;
var DEFAULT_CUTOFF_PRIORITY_LEVEL = 0; // This level or lower gets excluded from the lists
var DEFAULT_IGNORE_PRIORITY_NUMBER_LIST = [];

// For processNoticesToErrorsWarnings
var DEFAULT_ERROR_PRIORITY_LEVEL = 700; // This level or higher becomes an error (cf. warnings)

// For processNoticesToSevereMediumLow
var DEFAULT_SEVERE_PRIORITY_LEVEL = 800; // This level or higher becomes a severe error
var DEFAULT_MEDIUM_PRIORITY_LEVEL = 600; // This level or higher becomes a medium error

// For processNoticesToSingleList
// (no constants required)


/**
* @description - Preprocesses the successList and noticeList
* @param {Object} givenNoticeObject - must contain a noticeList array
* @param {Object} optionalProcessingOptions - may contain parameters
* @return {Array} containing three items: remainingNoticeList, allTotals, resultObject
*/
function processNoticesCommon(givenNoticeObject, optionalProcessingOptions) {
  /*
      Expects to get an object with:
          successList: a list of strings describing what has been checked
          noticeList: a list of components to notices, being:
              priority: A notice priority number in the range 1-1,000.
                  Each different type of warning/error has a unique number
                    (but not each instance of those warnings/errors).
                  By default, notice priority numbers 700 and over are
                    considered `errors` and 0-699 are considered `warnings`,
                    but in truth, that’s rather arbitrary.
              message: The actual general description text of the notice
              details: Additional clarifying notice information (if relevant)
              The next three fields may be ommitted if irrelevant
               (since BCV is not relevant to all types of files/repos)
                  bookID: book identifier 3-character UPPERCASE string
                  C: Chapter number string
                  V: Verse number string (can also be a bridge, e.g., '22-23')
              repoName: repository name (if relevant)
              filename: string (if relevant)
              rowID: 4-character string (if relevant)
              lineNumber: A one-based integer indicating the line number in the file
              fieldName: string (if relevant)
              characterIndex: A zero-based integer index which indicates the position
                  of the error on the line or in the text field as appropriate.
              excerpt: An excerpt of the checked text which indicates the area
                    containing the problem.
                  Where helpful, some character substitutions have already been made,
                    for example, if the notice is about spaces,
                    it is generally helpful to display spaces as a visible
                    character in an attempt to best highlight the issue to the user.
               location: A string indicating the context of the notice,
                      e.g., `in 'someBook.usfm'.
              There is also an optional notice component (where multiple files/repos are checked)
              extra: A string indicating an extra location component, e.g., repoCode or bookID
                  This will probably need to be added to the message string but is left
                      until now in order to allow the most display flexibility
      Available options are:
          cutoffPriorityLevel (integer; default is DEFAULT_CUTOFF_PRIORITY_LEVEL above)
          maximumSimilarMessages (integer; default is DEFAULT_MAXIMUM_SIMILAR_MESSAGES above)
          sortBy ('AsFound' or 'ByPriority' or 'ByRepo', default is 'ByPriority')
          ignorePriorityNumberList (list of integers, default is empty list, list of notice priority numbers to be ignored)
      Also, any other parameters are just passed through,
          although filenameList might be abbreviated, e.g. for 100s of .md files.
       Returns an array of three fields:
          remainingNoticeList
              A list of notice entries, each one containing exactly eight or nine fields (see above)
                  i.e., notice entries originally containing five or six fields have had blank BCV fields inserted.
          allTotals
              A table with a count of notices for that priority/message.
                  (May be used in further processing for possible removal of lots of similar messages)
          resultObject
              A prototype object which will be added to and then returned as the final result of the NEXT notice processing step.
              Contains the following:
                  successList -- a list of strings noting what has been checked
                  numIgnored Notices (int)
                  numSuppressedNotices (int)
                  processingOptions (a copy of the optionalProcessingOptions passed to these functions)
                  Any other fields that were part of the givenNoticeObject passed to these functions. These might include:
                      checkedFilenames -- list of strings
                      checkedRepos -- list of strings
                  depending on the type of check that was made.
  */

  // debugLog(`processNoticesCommon v${NOTICE_PROCESSOR_VERSION_STRING}
  //     with ${JSON.stringify(givenNoticeObject)}
  //     with options=${JSON.stringify(optionalProcessingOptions)}
  //   Given ${givenNoticeObject.successList.length.toLocaleString()} success string(s) plus ${givenNoticeObject.noticeList.length.toLocaleString()} notice(s)`);


  var standardisedNoticeList = givenNoticeObject.noticeList; // TODO: Why did we need this???

  maximumHiddenNotices = DEFAULT_MAXIMUM_HIDDEN_NOTICES;maximumHiddenNoticesMessage = DEFAULT_MAXIMUM_HIDDEN_NOTICES_MESSAGE;
  maximumSimilarMessages = DEFAULT_MAXIMUM_SIMILAR_MESSAGES;
  try {
    maximumSimilarMessages = optionalProcessingOptions.maximumSimilarMessages;
  } catch (npfMSMerror) {}
  if (typeof maximumSimilarMessages !== 'number' || isNaN(maximumSimilarMessages)) {
    maximumSimilarMessages = DEFAULT_MAXIMUM_SIMILAR_MESSAGES;
    // debugLog(`Using default maximumSimilarMessages=${maximumSimilarMessages}`);
  }
  // else userLog(`Using supplied maximumSimilarMessages=${maximumSimilarMessages} cf. default=${DEFAULT_MAXIMUM_SIMILAR_MESSAGES}`);

  // Check for duplicate notices in the noticeList
  // This might indicate that a function is being called twice unnecessarily
  // This entire section may be commented out of production code
  // It only really makes sense if the debugChain is enabled
  if (givenNoticeObject.noticeList && givenNoticeObject.noticeList.length)
  if (givenNoticeObject.noticeList.length > 8000) {
    (0, _utilities.userLog)("processNoticesCommon: ".concat(givenNoticeObject.noticeList.length.toLocaleString(), " notices is too many to search for duplicates!"));
  } else {var


    uniqueListContains = function uniqueListContains(item) {// returns -1 or the index of the first match
      for (var ix = 0; ix < uniqueList.length; ix++) {
        var thisUniqueNotice = uniqueList[ix];
        if ( // compare as few essentialfields as possible to find matches
        thisUniqueNotice.priority === item.priority &&
        thisUniqueNotice.message === item.message && (
        thisUniqueNotice.details === item.details || thisUniqueNotice.details === undefined || item.details === undefined) && (
        thisUniqueNotice.repoCode === item.repoCode || thisUniqueNotice.repoCode === undefined || item.repoCode === undefined) && (
        thisUniqueNotice.filename === item.filename || thisUniqueNotice.filename === undefined || item.filename === undefined) && (
        thisUniqueNotice.rowID === item.rowID || thisUniqueNotice.rowID === undefined || item.rowID === undefined) && (
        thisUniqueNotice.lineNumber === item.lineNumber || thisUniqueNotice.lineNumber === undefined || item.lineNumber === undefined) && (
        thisUniqueNotice.characterIndex === item.characterIndex || thisUniqueNotice.characterIndex === undefined || item.characterIndex === undefined) && (
        thisUniqueNotice.excerpt === item.excerpt || thisUniqueNotice.excerpt === undefined || item.excerpt === undefined) && (
        thisUniqueNotice.extra === item.extra || thisUniqueNotice.extra === undefined || item.extra === undefined))

        return ix;
      }
      return -1;
    };(0, _utilities.userLog)("processNoticesCommon: Checking ".concat(givenNoticeObject.noticeList.length.toLocaleString(), " notices for duplicates\u2026"));var uniqueList = [];var _iterator = _createForOfIteratorHelper(
    standardisedNoticeList),_step;try {for (_iterator.s(); !(_step = _iterator.n()).done;) {var thisGivenNotice = _step.value;
        var xx = void 0;
        if ((xx = uniqueListContains(thisGivenNotice)) === -1) // wasn’t found
          uniqueList.push(thisGivenNotice);else
        (0, _utilities.userLog)("Duplicate notices:\n".concat(JSON.stringify(thisGivenNotice), "\nwhen had\n").concat(JSON.stringify(uniqueList[xx])));
      }} catch (err) {_iterator.e(err);} finally {_iterator.f();}
    if (uniqueList.length !== givenNoticeObject.noticeList.length)
    (0, _utilities.userLog)("Here with ".concat(givenNoticeObject.noticeList.length.toLocaleString(), " notices and ").concat(uniqueList.length.toLocaleString(), " unique notices"));
  }


  // Run a check through the noticeList to help discover any programming errors that need fixing
  // This entire section may be commented out of production code
  if (givenNoticeObject.noticeList && givenNoticeObject.noticeList.length) {
    // eslint-disable-next-line no-unused-vars
    var ALL_TSV_FIELDNAMES = ['Book', 'Chapter', 'Verse', 'Reference',
    'ID', 'Tags', 'SupportReference',
    'OrigWords', 'TWLink',
    'OrigQuote', 'Quote', 'Occurrence', 'GLQuote',
    'Question', 'Response',
    'OccurrenceNote', 'Note'];
    var numberStore = {},duplicatePriorityList = [];var _iterator2 = _createForOfIteratorHelper(
    standardisedNoticeList),_step2;try {for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {var _thisGivenNotice = _step2.value;
        var thisPriority = _thisGivenNotice.priority,thisMsg = _thisGivenNotice.message;
        //(typeof thisPriority === 'number' && thisPriority > 0 && thisPriority < 10000, `BAD PRIORITY for ${JSON.stringify(thisGivenNotice)}`);
        //parameterAssert(typeof thisMsg === 'string' && thisMsg.length >= 10, `BAD MESSAGE for ${JSON.stringify(thisGivenNotice)}`);

        // Check that notice priority numbers are unique (to detect programming errors)
        var oldMsg = numberStore[thisPriority];
        if (oldMsg && oldMsg !== thisMsg && !duplicatePriorityList.includes(thisPriority)
        // Some of the messages include the troubling character in the message
        //    so we expect them to differ slightly
        && !thisMsg.startsWith('Mismatched ') &&
        !thisMsg.startsWith('Unexpected doubled ') &&
        !thisMsg.startsWith('Unexpected space after ') &&
        !thisMsg.startsWith('Unexpected content after \\') &&
        !thisMsg.startsWith('USFMGrammar: ') &&
        !thisMsg.startsWith('Bad punctuation nesting: ') &&
        !thisMsg.startsWith('At end of text with unclosed ') &&
        !thisMsg.startsWith('Possible mismatched ') &&
        !thisMsg.endsWith(' character combination') &&
        !thisMsg.endsWith(' character after space') &&
        !thisMsg.endsWith(' character at start of line') &&
        !thisMsg.endsWith(' character at end of line') &&
        !thisMsg.endsWith(' marker at start of line') &&
        !thisMsg.endsWith(' closing character (no matching opener)') &&
        !thisMsg.endsWith(' closing character doesn’t match'))
        {
          console.error("POSSIBLE PROGRAMMING ERROR: priority ".concat(thisPriority, " has at least two different messages: '").concat(oldMsg, "' and '").concat(thisMsg, "'"));
          duplicatePriorityList.push(thisPriority); // so that we only give the error once
        }

        // Check fields for bad values, and also across fields for unexpected combinations
        var thisRepoName = _thisGivenNotice.repoName,
        thisFilename = _thisGivenNotice.filename,thisLineNumber = _thisGivenNotice.lineNumber,
        thisC = _thisGivenNotice.C,thisV = _thisGivenNotice.V,
        thisRowID = _thisGivenNotice.rowID,thisFieldName = _thisGivenNotice.fieldName,
        thisLocation = _thisGivenNotice.location,thisExtra = _thisGivenNotice.extra;
        if (thisRepoName) {
          //parameterAssert(thisRepoName.indexOf(' ') < 0 && thisRepoName.indexOf('/') < 0 && thisRepoName.indexOf('\\') < 0, `repoName '${thisRepoName}' contains unexpected characters in ${JSON.stringify(thisGivenNotice)}`);
          if (thisLocation) {//parameterAssert(thisLocation.indexOf(thisRepoName) < 0, `repoName is repeated in location in ${JSON.stringify(thisGivenNotice)}`);
          }
        }
        if (thisFilename) {
          (0, _utilities.logicAssert)(thisFilename.indexOf(':') < 0 && thisFilename.indexOf('\\') < 0, "filename '".concat(thisFilename, "' contains unexpected characters in ").concat(JSON.stringify(_thisGivenNotice)));
          (0, _utilities.logicAssert)(ALL_TSV_FIELDNAMES.indexOf(thisFilename) < 0, "filename '".concat(thisFilename, "' contains a TSV fieldName!"));
          // NOTE: Some OBS and other messages have to include part of the part in the 'filename' (to prevent ambiguity) so we don’t disallow forward slash
          // if (!thisRepoName || !(thisRepoName.endsWith('_obs') || thisRepoName.endsWith('_ta') || thisRepoName.endsWith('_tw')))
          //     //parameterAssert(thisFilename.indexOf('/') < 0, `filename '${thisFilename}' contains unexpected characters in ${JSON.stringify(thisGivenNotice)}`);
          if (thisLocation)
          (0, _utilities.logicAssert)(thisLocation.indexOf(thisFilename) < 0, "filename is repeated in location in ".concat(JSON.stringify(_thisGivenNotice)));
        }
        if (thisC)
        (0, _utilities.logicAssert)(thisC === 'front' || !isNaN(thisC * 1), "C '".concat(thisC, "' contains unexpected characters in ").concat(JSON.stringify(_thisGivenNotice)));
        if (thisV) {// NOTE: We don't allow for a en-dash in verse ranges -- should we?
          if (thisV.indexOf('-') !== -1) {// it contains a hyphen, i.e., a verse range
            var vBits = thisV.split('-');
            (0, _utilities.logicAssert)(vBits.length === 2 && !isNaN(vBits[0] * 1) && !isNaN(vBits[1] * 1), "V '".concat(thisV, "' verse range contains unexpected characters in ").concat(JSON.stringify(_thisGivenNotice)));
          } else // NOTE: Question mark below is in "bad verse number" notices
            (0, _utilities.logicAssert)(thisV === 'intro' || thisV === '?' || !isNaN(thisV * 1), "V '".concat(thisV, "' contains unexpected characters in ").concat(JSON.stringify(_thisGivenNotice)));
        }
        if (thisRowID) {
          (0, _utilities.logicAssert)(thisRowID.indexOf(' ') < 0 && thisRowID.indexOf('/') < 0 && thisRowID.indexOf('\\') < 0, "rowID '".concat(thisRowID, "' contains unexpected characters in ").concat(JSON.stringify(_thisGivenNotice)));
          if (thisLocation)
          (0, _utilities.logicAssert)(thisLocation.indexOf(thisRowID) < 0, "rowID is repeated in location in ".concat(JSON.stringify(_thisGivenNotice)));
        }
        if (thisFieldName) {
          // NOTE: fieldName can be a USFM marker, e.g., 'from \w'
          (0, _utilities.logicAssert)(thisFieldName.indexOf('/') < 0, "fieldName '".concat(thisFieldName, "' contains unexpected characters in ").concat(JSON.stringify(_thisGivenNotice)));
          if (thisLocation)
          (0, _utilities.logicAssert)(thisFieldName === 'w' // 'w' is just too likely to occur in the location string
          || thisLocation.indexOf(thisFieldName) < 0, "fieldName is repeated in location in ".concat(JSON.stringify(_thisGivenNotice)));
        }
        if (thisLineNumber) {
          (0, _utilities.logicAssert)(typeof thisLineNumber === 'number' && thisLineNumber > 0, "lineNumber '".concat(thisLineNumber, "' contains unexpected value in ").concat(JSON.stringify(_thisGivenNotice)));
          // Note: lineNumber can occur in location, e.g., in 3 in '3JN' or 'Door43' so have to take additional care not to give false alarms
          if (thisLocation && thisLineNumber > 4 && thisLineNumber !== 43)
            // && (!thisGivenNotice.bookID || thisGivenNotice.bookID.indexOf(thisLineNumber + '') < 0)
            (0, _utilities.logicAssert)(thisLocation.indexOf(thisLineNumber + '') < 0 && thisLocation.indexOf(thisLineNumber.toLocaleString()) < 0, "lineNumber might be repeated in location in ".concat(JSON.stringify(_thisGivenNotice)));
        }
        if (thisExtra) {(0, _utilities.logicAssert)(thisExtra !== '01', "extra should not be '".concat(thisExtra, "'"));}
        numberStore[thisPriority] = thisMsg;
      }} catch (err) {_iterator2.e(err);} finally {_iterator2.f();}
  }


  var resultObject = { // inititalise with our new fields
    numIgnoredNotices: 0, // Ignored by unique priority number
    numDisabledNotices: 0, // Individually disabled
    numSuppressedNotices: 0, // Low priority notices dropped completely
    processingOptions: optionalProcessingOptions // Just helpfully includes what we were given (may be undefined)
  };
  // Copy across all the other properties that we aren’t interested in
  for (var gnoPropertyName in givenNoticeObject) {
    if (gnoPropertyName !== 'successList' && gnoPropertyName !== 'noticeList')
    resultObject[gnoPropertyName] = givenNoticeObject[gnoPropertyName];}

  // Fetch our processing parameters
  var ignorePriorityNumberList;
  try {
    ignorePriorityNumberList = optionalProcessingOptions.ignorePriorityNumberList;
  } catch (npfIPNLerror) {}
  if (ignorePriorityNumberList === undefined) {
    ignorePriorityNumberList = DEFAULT_IGNORE_PRIORITY_NUMBER_LIST;
    // debugLog(`Using default ignorePriorityNumberList=${JSON.stringify(ignorePriorityNumberList)}`);
  } else
  (0, _utilities.userLog)("processNoticesCommon: Using supplied ignorePriorityNumberList=".concat(JSON.stringify(ignorePriorityNumberList), " cf. default=").concat(JSON.stringify(DEFAULT_IGNORE_PRIORITY_NUMBER_LIST)));
  //parameterAssert(Array.isArray(ignorePriorityNumberList), `ignorePriorityNumberList should be an Array, not ${typeof ignorePriorityNumberList}=${ignorePriorityNumberList}`);
  var sortBy;
  try {
    sortBy = optionalProcessingOptions.sortBy;
    // debugLog(`processNoticesCommon: Setting sortBy='${sortBy}' from optionalProcessingOptions`);
  } catch (npfSBerror) {}
  if (sortBy === undefined) {
    sortBy = 'ByPriority';
    // debugLog(`processNoticesCommon: Using default sortBy='${sortBy}'`);
  }
  // else userLog(`processNoticesCommon: Using supplied sortBy='${sortBy}' cf. default='ByPriority'`);
  var cutoffPriorityLevel;
  try {
    cutoffPriorityLevel = optionalProcessingOptions.cutoffPriorityLevel;
  } catch (npfCPLerror) {}
  if (cutoffPriorityLevel === undefined) {
    cutoffPriorityLevel = DEFAULT_CUTOFF_PRIORITY_LEVEL;
    // debugLog(`Using default cutoffPriorityLevel=${cutoffPriorityLevel}`);
  } else
  (0, _utilities.userLog)("Using supplied cutoffPriorityLevel=".concat(cutoffPriorityLevel, " cf. default=").concat(DEFAULT_CUTOFF_PRIORITY_LEVEL));
  // if (cutoffPriorityLevel > errorPriorityLevel)
  // resultObject.errorList.push({999, "Cutoff level must not be higher than error level", excerpt:`(${cutoffPriorityLevel} vs ${errorPriorityLevel})`, " in processNoticesCommon options"]);

  var showDisabledNoticesFlag = optionalProcessingOptions.showDisabledNoticesFlag === true;
  if (showDisabledNoticesFlag) (0, _utilities.userLog)("showDisabledNoticesFlag=".concat(showDisabledNoticesFlag));

  // Adjust the list of success notices to combine multiple similar messages, e.g., Checked this book, Checked that book
  //  into one summary message, e.g., Checked this and that books.
  if (givenNoticeObject.successList) {
      // Handle the successList
      if (givenNoticeObject.successList.length < 5)
      resultObject.successList = givenNoticeObject.successList;else
      {// successList is fairly long -- maybe we can shorten it by combining multiple similar messages
        var BibleRegex = /\d\d-(\w\w\w).usfm/; // "Checked JUD file: 66-JUD.usfm"
        var NotesRegex = /\d\d-(\w\w\w).tsv/; // "Checked EN_TN_01-GEN.TSV file: en_tn_01-GEN.tsv"
        // const TWLRegex = /twl_(\w\w\w).tsv/; // From repoCheck "Checked en_twl BBB file: twl_BBB.tsv"
        var manifestRegex = /Checked ([\w\-_]{2,25}) manifest file/;
        var READMEregex = /Checked ([\w\-_]{2,25}) README file/;
        var LICENSEregex = /Checked ([\w\-_]{2,25}) LICENSE file/;
        resultObject.successList = [];
        var UHBBookList = [],UGNTBookList = [],LTBookList = [],STBookList = [],TNBookList = [],TN2BookList = [],TQ2BookList = [];
        var USFMBookList = [],TSVNotesList = [],manifestsList = [],READMEsList = [],LICENSEsList = [];
        var TNList = [],TQList = [],TWLList = [];var _iterator3 = _createForOfIteratorHelper(
        givenNoticeObject.successList),_step3;try {for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {var thisParticularSuccessMsg = _step3.value;
            // debugLog("thisParticularSuccessMsg", thisParticularSuccessMsg);
            var regexResult = void 0;
            if (thisParticularSuccessMsg.startsWith('Checked UHB file: '))
            UHBBookList.push(thisParticularSuccessMsg.substring(18, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked UGNT file: '))
            UGNTBookList.push(thisParticularSuccessMsg.substring(19, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TWL file: '))
            TWLList.push(thisParticularSuccessMsg.substring(18, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked LT file: '))
            LTBookList.push(thisParticularSuccessMsg.substring(17, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked ST file: '))
            STBookList.push(thisParticularSuccessMsg.substring(17, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TN file: '))
            TNBookList.push(thisParticularSuccessMsg.substring(17, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TN2 file: '))
            TN2BookList.push(thisParticularSuccessMsg.substring(18, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TQ2 file: '))
            TQ2BookList.push(thisParticularSuccessMsg.substring(18, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TN2 ') && thisParticularSuccessMsg.substring(14, 20) === ' file:')
            TNList.push(thisParticularSuccessMsg.substring(21, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TQ2 ') && thisParticularSuccessMsg.substring(14, 20) === ' file:')
            TQList.push(thisParticularSuccessMsg.substring(21, thisParticularSuccessMsg.length));else
            if (thisParticularSuccessMsg.startsWith('Checked TWL ') && thisParticularSuccessMsg.substring(15, 21) === ' file:')
            TWLList.push(thisParticularSuccessMsg.substring(22, thisParticularSuccessMsg.length));else
            if ((regexResult = BibleRegex.exec(thisParticularSuccessMsg)) !== null
            // but don’t do it for Book Package checks (in different repos)
            && thisParticularSuccessMsg.startsWith("Checked ".concat(regexResult[1], " file")))
            USFMBookList.push(regexResult[1]);else
            if ((regexResult = NotesRegex.exec(thisParticularSuccessMsg)) !== null
            // but don’t do it for Book Package checks (in different repos)
            && thisParticularSuccessMsg.startsWith("Checked ".concat(regexResult[1], " file")))
            TSVNotesList.push(regexResult[1]);
            // else if ((regexResult = TWLRegex.exec(thisParticularSuccessMsg)) !== null)
            //     TWLList.push(regexResult[1]);
            else if ((regexResult = manifestRegex.exec(thisParticularSuccessMsg)) !== null)
              manifestsList.push(regexResult[1]);else
              if ((regexResult = READMEregex.exec(thisParticularSuccessMsg)) !== null)
              READMEsList.push(regexResult[1]);else
              if ((regexResult = LICENSEregex.exec(thisParticularSuccessMsg)) !== null)
              LICENSEsList.push(regexResult[1]);else
                // Just copy it across
                resultObject.successList.push(thisParticularSuccessMsg);
          }
          // Recreate original messages if exactly one found
        } catch (err) {_iterator3.e(err);} finally {_iterator3.f();}if (UHBBookList.length === 1)
        resultObject.successList.push("Checked UHB file: ".concat(UHBBookList[0]));
        if (UGNTBookList.length === 1)
        resultObject.successList.push("Checked UGNT file: ".concat(UGNTBookList[0]));
        // if (TWLBookList.length === 1)
        // resultObject.successList.push(`Checked TWL file: ${TWLBookList[0]}`);
        if (LTBookList.length === 1)
        resultObject.successList.push("Checked LT file: ".concat(LTBookList[0]));
        if (STBookList.length === 1)
        resultObject.successList.push("Checked ST file: ".concat(STBookList[0]));
        if (TNBookList.length === 1)
        resultObject.successList.push("Checked TN file: ".concat(TNBookList[0]));
        if (TN2BookList.length === 1)
        resultObject.successList.push("Checked TN2 file: ".concat(TN2BookList[0]));
        if (TQ2BookList.length === 1)
        resultObject.successList.push("Checked TQ2 file: ".concat(TQ2BookList[0]));
        if (USFMBookList.length === 1)
        resultObject.successList.push("Checked ".concat(USFMBookList[0], " file"));
        if (TSVNotesList.length === 1)
        resultObject.successList.push("Checked ".concat(TSVNotesList[0], " file"));
        if (TNList.length === 1)
        resultObject.successList.push("Checked TN2 file: ".concat(TNList[0]));
        if (TQList.length === 1)
        resultObject.successList.push("Checked TQ2 file: ".concat(TQList[0]));
        if (TWLList.length === 1)
        resultObject.successList.push("Checked TWL file: ".concat(TWLList[0]));
        if (manifestsList.length === 1)
        resultObject.successList.push("Checked ".concat(manifestsList[0], " manifest file"));
        if (READMEsList.length === 1)
        resultObject.successList.push("Checked ".concat(READMEsList[0], " README file"));
        if (LICENSEsList.length === 1)
        resultObject.successList.push("Checked ".concat(LICENSEsList[0], " LICENSE file"));
        // Put summary messages at the beginning of the list if more than one found
        // Process these messages in the opposite order than we want them to display (since we push to beginning of list each time)
        if (LICENSEsList.length > 1)
        resultObject.successList.unshift("Checked ".concat(LICENSEsList.length, " LICENSE files: ").concat(LICENSEsList.join(', ')));
        if (READMEsList.length > 1)
        resultObject.successList.unshift("Checked ".concat(READMEsList.length, " README files: ").concat(READMEsList.join(', ')));
        if (manifestsList.length > 1)
        resultObject.successList.unshift("Checked ".concat(manifestsList.length, " manifest files: ").concat(manifestsList.join(', ')));
        if (TSVNotesList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TSVNotesList.length, " TSV notes files: ").concat(TSVNotesList.join(', ')));
        if (USFMBookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(USFMBookList.length, " USFM Bible files: ").concat(USFMBookList.join(', ')));
        if (TWLList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TWLList.length, " TWL files: ").concat(TWLList.join(', ')));
        if (TQList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TQList.length, " TQ2 files: ").concat(TQList.join(', ')));
        if (TNList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TNList.length, " TN files: ").concat(TNList.join(', ')));
        if (TQ2BookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TQ2BookList.length, " TQ2 files: ").concat(TQ2BookList.join(', ')));
        if (TN2BookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TN2BookList.length, " TN2 files: ").concat(TN2BookList.join(', ')));
        if (TNBookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(TNBookList.length, " TN files: ").concat(TNBookList.join(', ')));
        if (STBookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(STBookList.length, " ST files: ").concat(STBookList.join(', ')));
        if (LTBookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(LTBookList.length, " LT files: ").concat(LTBookList.join(', ')));
        // if (TWLBookList.length > 1)
        // resultObject.successList.unshift(`Checked ${TWLBookList.length} TWL files: ${LTBookList.join(', ')}`);
        if (UGNTBookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(UGNTBookList.length, " UGNT files: ").concat(UGNTBookList.join(', ')));
        if (UHBBookList.length > 1)
        resultObject.successList.unshift("Checked ".concat(UHBBookList.length, " UHB files: ").concat(UHBBookList.join(', ')));
      }} else
  resultObject.successList = [];

  // Handle the checkedFilenames list
  //  which might have 100s or 1,000s of .md filenames
  if (resultObject.checkedFilenames && resultObject.checkedFilenames.length > 10) {
    // debugLog(`Have ${resultObject.checkedFilenames.length} checkedFilenames`);
    resultObject.checkedFilenames = (0, _toConsumableArray2.default)(new Set(resultObject.checkedFilenames)); // Only keep unique ones
    // debugLog(`Now have ${resultObject.checkedFilenames.length} checkedFilenames`);
    // debugLog(JSON.stringify(resultObject.checkedFilenames));
  }

  // Specialised processing
  // If have s5 marker warnings, add one summary error
  // consoleLogObject('standardisedNoticeList', standardisedNoticeList);
  var _iterator4 = _createForOfIteratorHelper(standardisedNoticeList),_step4;try {for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {var thisParticularNotice = _step4.value;
      // debugLog("thisParticularNotice", JSON.stringify(thisParticularNotice));
      if (thisParticularNotice.message.indexOf('\\s5') >= 0) {
        var thisNewNotice = _objectSpread(_objectSpread({},
        thisParticularNotice), {}, { priority: 701, message: "\\s5 fields should be coded as \\ts\\* milestones", location: " in ".concat(givenNoticeObject.checkType),
          // I think we need to delete these fields below as they were probably set in thisParticularNotice
          C: undefined, V: undefined, characterIndex: undefined, excerpt: undefined });

        // if (thisParticularNotice.filename && thisParticularNotice.filename.length)
        //     thisNewNotice.filename = thisParticularNotice.filename; // Sometimes we have an additional file identifier
        // if (thisParticularNotice.repoName && thisParticularNotice.repoName.length)
        //     thisNewNotice.repoName = thisParticularNotice.repoName; // Sometimes we have an additional file identifier
        // if (thisParticularNotice.extra && thisParticularNotice.extra.length)
        //     thisNewNotice.extra = thisParticularNotice.extra; // Sometimes we have an additional file identifier
        standardisedNoticeList.push(thisNewNotice);
        break;
      }
    }

    // Remove any notices that they have asked us to ignore
    //  plus any from our list of disabled notices (for certain repos/files, etc.)
  } catch (err) {_iterator4.e(err);} finally {_iterator4.f();}var remainingNoticeList = [];var _iterator5 = _createForOfIteratorHelper(
  standardisedNoticeList),_step5;try {for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {var _thisNotice3 = _step5.value;
      if (ignorePriorityNumberList.includes(_thisNotice3.priority))
      resultObject.numIgnoredNotices++;else
      if ((0, _disabledNotices.isDisabledNotice)(_thisNotice3)) {
        if (showDisabledNoticesFlag) {
          _thisNotice3.message = "(disabled) ".concat(_thisNotice3.message);
          remainingNoticeList.push(_thisNotice3);
        } else // ignore it as usual
          resultObject.numDisabledNotices++;} else

      remainingNoticeList.push(_thisNotice3);
    }} catch (err) {_iterator5.e(err);} finally {_iterator5.f();}
  if (resultObject.numIgnoredNotices)
  (0, _utilities.userLog)("processNoticesCommon: Ignored ".concat(resultObject.numIgnoredNotices.toLocaleString(), " generic notice(s) out of ").concat(givenNoticeObject.noticeList.length.toLocaleString()));
  if (resultObject.numDisabledNotices)
  (0, _utilities.userLog)("processNoticesCommon: Disabled ".concat(resultObject.numDisabledNotices.toLocaleString(), " specific notice(s) out of ").concat(givenNoticeObject.noticeList.length.toLocaleString()));

  // Cut off the lowest priority notices if requested
  if (cutoffPriorityLevel > 0) {
    var newNoticeList = [];var _iterator6 = _createForOfIteratorHelper(
    remainingNoticeList),_step6;try {for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {var thisNotice = _step6.value;
        if (thisNotice.priority < cutoffPriorityLevel)
        resultObject.numSuppressedNotices++;else
        newNoticeList.push(thisNotice);}} catch (err) {_iterator6.e(err);} finally {_iterator6.f();}
    remainingNoticeList = newNoticeList;
  }
  // if (cutoffPriorityLevel > errorPriorityLevel)
  // resultObject.errorList.push({999, "Cutoff level must not be higher than error level", excerpt:`(${cutoffPriorityLevel} vs ${errorPriorityLevel})`, " in processNoticesCommon options"]);

  // Ensure that our displayed message list doesn't end up too huge for the browser to handle
  if (remainingNoticeList.length > 6000) {
    maximumHiddenNotices = Math.min(20, maximumHiddenNotices);
    maximumHiddenNoticesMessage = "Further hidden notices (beyond ".concat(maximumHiddenNotices, ") were suppressed!");
  }
  if (remainingNoticeList.length > 10000) {
    maximumSimilarMessages = Math.min(2, maximumSimilarMessages);
    standardisedNoticeList.push({ priority: 1, message: "Reduced numbers of similar and hidden messages because of large list (".concat(standardisedNoticeList.length.toLocaleString(), ")"), location: " during notice processing" });
  }

  // Sort the remainingNoticeList as required
  var SORT_LIST = ['TN', 'TN2', 'LT', 'ST', 'UHB', 'UGNT', 'TWL', 'TW', 'TQ', 'TQ2', 'SN', 'SQ', 'TA', undefined, 'README', 'LICENSE'];
  if (sortBy === 'ByPriority' || sortBy === 'ByRepo')
    // NOTE: We do have some notices with the same priority but different actual messages, esp. 191 Unexpected xx character after space
    remainingNoticeList.sort(function (a, b) {return "".concat(String(b.priority).padStart(3, '0')).concat(b.message) > "".concat(String(a.priority).padStart(3, '0')).concat(a.message);});else
  if (sortBy !== 'AsFound')
  console.error("Sorting '".concat(sortBy, "' is not implemented yet!!!"));
  if (sortBy === 'ByRepo') // sort again by repoCode string
    remainingNoticeList.sort(function (a, b) {return SORT_LIST.indexOf(a.repoCode) - SORT_LIST.indexOf(b.repoCode);});
  // remainingNoticeList.sort(function (a, b) { return b.repoCode > a.repoCode; });

  // Add in extra info if it’s there -- default is to prepend it to the msg
  //  Doing this prevents errors/warnings from different repos or books from being combined
  if (remainingNoticeList.length &&
  remainingNoticeList[0].extra && remainingNoticeList[0].extra.length) {
    // debugLog(`We need to add the extra location, e.g. '${remainingNoticeList[0][5]}': will prepend it to the messages`);
    var _newNoticeList = [];var _iterator7 = _createForOfIteratorHelper(
    remainingNoticeList),_step7;try {for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {var _thisNotice = _step7.value;
        var _thisExtra = _thisNotice.extra;
        // logicAssert(thisExtra && thisExtra.length, `Expect thisNotice to have an "extra" field: ${JSON.stringify(thisNotice)}`)
        var newNotice = _objectSpread({}, _thisNotice);
        // We don’t need the extra field if we've already got this info
        if (_thisExtra && _thisExtra !== _thisNotice.repoName && _thisExtra !== _thisNotice.bookID)
        newNotice.message = "".concat(_thisExtra, " ").concat(_thisNotice.message);
        delete newNotice.extra; // since we've used it (if it existed)
        _newNoticeList.push(newNotice);
      }} catch (err) {_iterator7.e(err);} finally {_iterator7.f();}
    remainingNoticeList = _newNoticeList;
  }

  // Count the number of occurrences of each message
  //  ready for further processing
  var allTotals = {};
  for (var _i = 0, _remainingNoticeList = remainingNoticeList; _i < _remainingNoticeList.length; _i++) {var _thisNotice2 = _remainingNoticeList[_i];
    var thisCombinedID = "".concat(String(_thisNotice2.priority).padStart(3, '0')).concat(_thisNotice2.message); // Could have identical worded messages but with different priorities
    if (isNaN(allTotals[thisCombinedID])) allTotals[thisCombinedID] = 1;else
    allTotals[thisCombinedID]++;
  }

  // debugLog(`processNoticesCommon is returning resultObject=${JSON.stringify(resultObject)}`);
  return [remainingNoticeList, allTotals, resultObject];
}
// end of processNoticesCommon function


/**
 *
 * @param {Object} givenNoticeObject
 * @param {Object} optionalProcessingOptions
 * @return {Object} containing errorList and warningList
 */
function processNoticesToErrorsWarnings(givenNoticeObject, optionalProcessingOptions) {
  /*
      Available options are:
          errorPriorityLevel (integer; default is DEFAULT_ERROR_PRIORITY_LEVEL above)
          maximumSimilarMessages (integer; default is DEFAULT_MAXIMUM_SIMILAR_MESSAGES above)
       Returns an object with:
          successList: a list of strings describing what has been checked
          errorList
          warningList
          numIgnoredNotices, numDisabledNotices, numSuppressedNotices, numHiddenErrors, numHiddenWarnings
          processingOptions: just helpfully passes on what we were given (may be undefined)
      Also, any other parameters are just passed through,
          although filenameList might be abbreviated, e.g. for 100s of .md files.
  */

  //     userLog(`processNoticesToErrorsWarnings v${NOTICE_PROCESSOR_VERSION_STRING} with options=${JSON.stringify(optionalProcessingOptions)}
  //    Given ${givenNoticeObject.successList.length.toLocaleString()} success string(s) plus ${givenNoticeObject.noticeList.length.toLocaleString()} notice(s)`);

  var _processNoticesCommon = processNoticesCommon(givenNoticeObject, optionalProcessingOptions),_processNoticesCommon2 = (0, _slicedToArray2.default)(_processNoticesCommon, 3),remainingNoticeList = _processNoticesCommon2[0],allTotals = _processNoticesCommon2[1],resultObject = _processNoticesCommon2[2];

  // Add the fields that we need here to the existing resultObject
  resultObject.errorList = [];resultObject.warningList = [];
  resultObject.numHiddenErrors = 0;resultObject.numHiddenWarnings = 0;

  var errorPriorityLevel;
  try {
    errorPriorityLevel = optionalProcessingOptions.errorPriorityLevel;
  } catch (npfEPLerror) {}
  if (errorPriorityLevel === undefined) {
    errorPriorityLevel = DEFAULT_ERROR_PRIORITY_LEVEL;
    // debugLog(`Using default errorPriorityLevel=${errorPriorityLevel}`);
  } else
  (0, _utilities.userLog)("Using supplied errorPriorityLevel=".concat(errorPriorityLevel, " cf. default=").concat(DEFAULT_ERROR_PRIORITY_LEVEL));

  // Check for repeated notices that should be compressed
  //  while simultaneously separating into error and warning lists
  var counter = {};var _iterator8 = _createForOfIteratorHelper(
  remainingNoticeList),_step8;try {for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {var thisNotice = _step8.value;
      var thisPriority = thisNotice.priority,thisMsg = thisNotice.message;
      var thisCombinedID = "".concat(String(thisNotice.priority).padStart(3, '0')).concat(thisNotice.message); // Could have identical worded messages but with different priorities
      if (isNaN(counter[thisCombinedID])) counter[thisCombinedID] = 1;else
      counter[thisCombinedID]++;
      if (maximumSimilarMessages > 0 && allTotals[thisCombinedID] > maximumSimilarMessages + 1 && counter[thisCombinedID] === maximumSimilarMessages + 1) {
        if (thisPriority >= errorPriorityLevel) {
          var numHidden = allTotals[thisCombinedID] - maximumSimilarMessages;
          (0, _utilities.logicAssert)(numHidden !== 1, "Shouldn\u2019t suppress just one error of priority ".concat(thisPriority));
          var adjHidden = Math.min(numHidden, maximumHiddenNotices);
          var numSuppressed = numHidden - adjHidden;
          resultObject.errorList.push({ priority: thisPriority, message: thisMsg, location: " \u2191 ".concat(adjHidden.toLocaleString(), " MORE SIMILAR ERROR").concat(adjHidden === 1 ? '' : 'S', " HIDDEN").concat(numSuppressed ? " (PLUS ".concat(numSuppressed.toLocaleString(), " SUPPRESSED)") : ''), hiddenNotices: [thisNotice] });
          resultObject.numHiddenErrors++;
        } else {
          var _numHidden = allTotals[thisCombinedID] - maximumSimilarMessages;
          (0, _utilities.logicAssert)(_numHidden !== 1, "Shouldn\u2019t suppress just one warning of priority ".concat(thisPriority));
          var _adjHidden = Math.min(_numHidden, maximumHiddenNotices);
          var _numSuppressed = _numHidden - _adjHidden;
          resultObject.warningList.push({ priority: thisPriority, message: thisMsg, location: " \u2191 ".concat(_adjHidden.toLocaleString(), " MORE SIMILAR WARNING").concat(_adjHidden === 1 ? '' : 'S', " HIDDEN").concat(_numSuppressed ? " (PLUS ".concat(_numSuppressed.toLocaleString(), " SUPPRESSED)") : ''), hiddenNotices: [thisNotice] });
          resultObject.numHiddenWarnings++;
        }
      } else if (maximumSimilarMessages > 0 && counter[thisCombinedID] > maximumSimilarMessages + 1) {
        if (thisPriority >= errorPriorityLevel) {
          var previousObject = resultObject.errorList[resultObject.errorList.length - 1];
          try {
            if (previousObject.hiddenNotices.length < maximumHiddenNotices) {
              previousObject.hiddenNotices.push(thisNotice);
              resultObject.numHiddenErrors++;
            } else {// suppress these excess notices
              var lastHiddenNoticeObject = previousObject.hiddenNotices[previousObject.hiddenNotices.length - 1];
              if (lastHiddenNoticeObject.message !== maximumHiddenNoticesMessage)
              previousObject.hiddenNotices.push({ priority: thisNotice.priority, message: maximumHiddenNoticesMessage });
              resultObject.numSuppressedNotices++;
            }
          } catch (e) {// presumably no hidden Notices in previous Object
            console.assert(!previousObject.hiddenNotices, "Didn't expected hiddenNotices to be defined: ".concat(JSON.stringify(previousObject), " error was: ").concat(e.message));
            resultObject.numSuppressedNotices++;
          }
        } else {
          var _previousObject = resultObject.warningList[resultObject.warningList.length - 1];
          try {
            if (_previousObject.hiddenNotices.length < maximumHiddenNotices) {
              _previousObject.hiddenNotices.push(thisNotice);
              resultObject.numHiddenWarnings++;
            } else {// suppress these excess notices
              var _lastHiddenNoticeObject = _previousObject.hiddenNotices[_previousObject.hiddenNotices.length - 1];
              if (_lastHiddenNoticeObject.message !== maximumHiddenNoticesMessage)
              _previousObject.hiddenNotices.push({ priority: thisNotice.priority, message: maximumHiddenNoticesMessage });
              resultObject.numSuppressedNotices++;
            }
          } catch (e) {// presumably no hidden Notices in previous Object
            console.assert(!_previousObject.hiddenNotices, "Didn't expected hiddenNotices to be defined: ".concat(JSON.stringify(_previousObject), " error was: ").concat(e.message));
            resultObject.numSuppressedNotices++;
          }
        }
      } else if (thisPriority >= errorPriorityLevel)
      resultObject.errorList.push(thisNotice);else

      resultObject.warningList.push(thisNotice);
    }

    // debugLog(`processNoticesToErrorsWarnings is returning ${resultObject.successList.length} successes, ${resultObject.errorList.length} errors, and ${resultObject.warningList.length} warnings
    //   numIgnoredNotices=${resultObject.numIgnoredNotices} numHiddenErrors=${resultObject.numHiddenErrors} numHiddenWarnings=${resultObject.numHiddenWarnings}`);
  } catch (err) {_iterator8.e(err);} finally {_iterator8.f();}return resultObject;
}
// end of processNoticesToErrorsWarnings function


/**
 *
 * @param {Object} givenNoticeObject
 * @param {Object} optionalProcessingOptions
 * @return {Object} containing severeList, mediumList, and lowList
 */
function processNoticesToSevereMediumLow(givenNoticeObject, optionalProcessingOptions) {
  /*
      Available options are:
          severePriorityLevel (integer; default is DEFAULT_SEVERE_PRIORITY_LEVEL above)
          mediumPriorityLevel (integer; default is DEFAULT_MEDIUM_PRIORITY_LEVEL above)
          maximumSimilarMessages (integer; default is DEFAULT_MAXIMUM_SIMILAR_MESSAGES above)
       Returns an object with:
          successList: a list of strings describing what has been checked
          severeList
          mediumList
          lowList
          numIgnoredNotices, numDisabledNotices, numSuppressedNotices, numHiddenSevere, numHiddenMedium, numHiddenLow
          processingOptions: just helpfully passes on what we were given (may be undefined)
      Also, any other parameters are just passed through,
          although filenameList might be abbreviated, e.g. for 100s of .md files.
  */

  //     userLog(`processNoticesToSevereMediumLow v${NOTICE_PROCESSOR_VERSION_STRING} with options=${JSON.stringify(optionalProcessingOptions)}
  //    Given ${givenNoticeObject.successList.length.toLocaleString()} success string(s) plus ${givenNoticeObject.noticeList.length.toLocaleString()} notice(s)`);

  var _processNoticesCommon3 = processNoticesCommon(givenNoticeObject, optionalProcessingOptions),_processNoticesCommon4 = (0, _slicedToArray2.default)(_processNoticesCommon3, 3),remainingNoticeList = _processNoticesCommon4[0],allTotals = _processNoticesCommon4[1],resultObject = _processNoticesCommon4[2];

  // Add the fields that we need here to the existing resultObject
  resultObject.severeList = [];resultObject.mediumList = [];resultObject.lowList = [];
  resultObject.numHiddenSevere = 0;resultObject.numHiddenMedium = 0;resultObject.numHiddenLow = 0;

  var severePriorityLevel;
  try {
    severePriorityLevel = optionalProcessingOptions.severePriorityLevel;
  } catch (npfSPLerror) {}
  if (severePriorityLevel === undefined) {
    severePriorityLevel = DEFAULT_SEVERE_PRIORITY_LEVEL;
    // debugLog(`Using default severePriorityLevel=${severePriorityLevel}`);
  } else
  (0, _utilities.userLog)("Using supplied severePriorityLevel=".concat(severePriorityLevel, " cf. default=").concat(DEFAULT_SEVERE_PRIORITY_LEVEL));
  var mediumPriorityLevel;
  try {
    mediumPriorityLevel = optionalProcessingOptions.mediumPriorityLevel;
  } catch (nfpMPLerror) {}
  if (mediumPriorityLevel === undefined) {
    mediumPriorityLevel = DEFAULT_MEDIUM_PRIORITY_LEVEL;
    // debugLog(`Using default mediumPriorityLevel=${mediumPriorityLevel}`);
  } else
  (0, _utilities.userLog)("Using supplied mediumPriorityLevel=".concat(mediumPriorityLevel, " cf. default=").concat(DEFAULT_MEDIUM_PRIORITY_LEVEL));

  // Check for repeated notices that should be compressed
  //  while simultaneously separating into error and warning lists
  var counter = {};var _iterator9 = _createForOfIteratorHelper(
  remainingNoticeList),_step9;try {for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {var thisNotice = _step9.value;
      var thisPriority = thisNotice.priority,thisMsg = thisNotice.message;
      var thisCombinedID = "".concat(String(thisNotice.priority).padStart(3, '0')).concat(thisNotice.message); // Could have identical worded messages but with different priorities
      if (isNaN(counter[thisCombinedID])) counter[thisCombinedID] = 1;else
      counter[thisCombinedID]++;
      if (maximumSimilarMessages > 0 && allTotals[thisCombinedID] > maximumSimilarMessages + 1 && counter[thisCombinedID] === maximumSimilarMessages + 1) {
        if (thisPriority >= severePriorityLevel) {
          var numHidden = allTotals[thisCombinedID] - maximumSimilarMessages;
          (0, _utilities.logicAssert)(numHidden !== 1, "Shouldn\u2019t suppress just one severe error of priority ".concat(thisPriority));
          var adjHidden = Math.min(numHidden, maximumHiddenNotices);
          var numSuppressed = numHidden - adjHidden;
          resultObject.severeList.push({ priority: thisPriority, message: thisMsg, location: " \u2191 ".concat(adjHidden.toLocaleString(), " MORE SIMILAR ERROR").concat(adjHidden === 1 ? '' : 'S', " HIDDEN").concat(numSuppressed ? " (PLUS ".concat(numSuppressed.toLocaleString(), " SUPPRESSED)") : ''), hiddenNotices: [thisNotice] });
          resultObject.numHiddenSevere++;
        } else if (thisPriority >= mediumPriorityLevel) {
          var _numHidden2 = allTotals[thisCombinedID] - maximumSimilarMessages;
          (0, _utilities.logicAssert)(_numHidden2 !== 1, "Shouldn\u2019t suppress just one medium error of priority ".concat(thisPriority));
          var _adjHidden2 = Math.min(_numHidden2, maximumHiddenNotices);
          var _numSuppressed2 = _numHidden2 - _adjHidden2;
          resultObject.mediumList.push({ priority: thisPriority, message: thisMsg, location: " \u2191 ".concat(_adjHidden2.toLocaleString(), " MORE SIMILAR ERROR").concat(_adjHidden2 === 1 ? '' : 'S', " HIDDEN").concat(_numSuppressed2 ? " (PLUS ".concat(_numSuppressed2.toLocaleString(), " SUPPRESSED)") : ''), hiddenNotices: [thisNotice] });
          resultObject.numHiddenMedium++;
        } else {
          var _numHidden3 = allTotals[thisCombinedID] - maximumSimilarMessages;
          (0, _utilities.logicAssert)(_numHidden3 !== 1, "Shouldn\u2019t suppress just one low warning of priority ".concat(thisPriority));
          var _adjHidden3 = Math.min(_numHidden3, maximumHiddenNotices);
          var _numSuppressed3 = _numHidden3 - _adjHidden3;
          resultObject.lowList.push({ priority: thisPriority, message: thisMsg, location: " \u2191 ".concat(_adjHidden3.toLocaleString(), " MORE SIMILAR WARNING").concat(_adjHidden3 === 1 ? '' : 'S', " HIDDEN").concat(_numSuppressed3 ? " (PLUS ".concat(_numSuppressed3.toLocaleString(), " SUPPRESSED)") : ''), hiddenNotices: [thisNotice] });
          resultObject.numHiddenLow++;
        }
      } else if (maximumSimilarMessages > 0 && counter[thisCombinedID] > maximumSimilarMessages + 1) {
        if (thisPriority >= severePriorityLevel) {
          var previousObject = resultObject.severeList[resultObject.severeList.length - 1];
          try {
            if (previousObject.hiddenNotices.length < maximumHiddenNotices) {
              previousObject.hiddenNotices.push(thisNotice);
              resultObject.numHiddenSevere++;
            } else {// suppress these excess notices
              var lastHiddenNoticeObject = previousObject.hiddenNotices[previousObject.hiddenNotices.length - 1];
              if (lastHiddenNoticeObject.message !== maximumHiddenNoticesMessage)
              previousObject.hiddenNotices.push({ priority: thisNotice.priority, message: maximumHiddenNoticesMessage });
              resultObject.numSuppressedNotices++;
            }
          } catch (e) {// presumably no hidden Notices in previous Object
            console.assert(!previousObject.hiddenNotices, "Didn't expected hiddenNotices to be defined: ".concat(JSON.stringify(previousObject), " error was: ").concat(e.message));
            resultObject.numSuppressedNotices++;
          }
        } else if (thisPriority >= mediumPriorityLevel) {
          var _previousObject2 = resultObject.mediumList[resultObject.mediumList.length - 1];
          try {
            if (_previousObject2.hiddenNotices.length < maximumHiddenNotices) {
              _previousObject2.hiddenNotices.push(thisNotice);
              resultObject.numHiddenMedium++;
            } else {// suppress these excess notices
              var _lastHiddenNoticeObject2 = _previousObject2.hiddenNotices[_previousObject2.hiddenNotices.length - 1];
              if (_lastHiddenNoticeObject2.message !== maximumHiddenNoticesMessage)
              _previousObject2.hiddenNotices.push({ priority: thisNotice.priority, message: maximumHiddenNoticesMessage });
              resultObject.numSuppressedNotices++;
            }
          } catch (e) {// presumably no hidden Notices in previous Object
            console.assert(!_previousObject2.hiddenNotices, "Didn't expected hiddenNotices to be defined: ".concat(JSON.stringify(_previousObject2), " error was: ").concat(e.message));
            resultObject.numSuppressedNotices++;
          }
        } else {
          var _previousObject3 = resultObject.lowList[resultObject.lowList.length - 1];
          try {
            if (_previousObject3.hiddenNotices.length < maximumHiddenNotices) {
              _previousObject3.hiddenNotices.push(thisNotice);
              resultObject.numHiddenLow++;
            } else {// suppress these excess notices
              var _lastHiddenNoticeObject3 = _previousObject3.hiddenNotices[_previousObject3.hiddenNotices.length - 1];
              if (_lastHiddenNoticeObject3.message !== maximumHiddenNoticesMessage)
              _previousObject3.hiddenNotices.push({ priority: thisNotice.priority, message: maximumHiddenNoticesMessage });
              resultObject.numSuppressedNotices++;
            }
          } catch (e) {// presumably no hidden Notices in previous Object
            console.assert(!_previousObject3.hiddenNotices, "Didn't expected hiddenNotices to be defined: ".concat(JSON.stringify(_previousObject3), " error was: ").concat(e.message));
            resultObject.numSuppressedNotices++;
          }
        }
      } else if (thisPriority >= severePriorityLevel)
      resultObject.severeList.push(thisNotice);else
      if (thisPriority >= mediumPriorityLevel)
      resultObject.mediumList.push(thisNotice);else

      resultObject.lowList.push(thisNotice);
    }

    // debugLog(`processNoticesToSevereMediumLow is returning ${resultObject.successList.length} successes, ${resultObject.severeList.length} severe, ${resultObject.mediumList.length} medium, and ${resultObject.lowList.length} low
    //   numIgnoredNotices=${resultObject.numIgnoredNotices} numHiddenSevere=${resultObject.numHiddenSevere} numHiddenMedium=${resultObject.numHiddenMedium} numHiddenLow=${resultObject.numHiddenLow}`);
  } catch (err) {_iterator9.e(err);} finally {_iterator9.f();}return resultObject;
}
// end of processNoticesToSevereMediumLow function


/**
 *
 * @param {Object} givenNoticeObject
 * @param {Object} optionalProcessingOptions
 * @return {Object} containing warningList
 */
function processNoticesToSingleList(givenNoticeObject, optionalProcessingOptions) {
  /*
      Available options are:
          severePriorityLevel (integer; default is DEFAULT_SEVERE_PRIORITY_LEVEL above)
          mediumPriorityLevel (integer; default is DEFAULT_MEDIUM_PRIORITY_LEVEL above)
          maximumSimilarMessages (integer; default is DEFAULT_MAXIMUM_SIMILAR_MESSAGES above)
       Returns an object with:
          successList: a list of strings describing what has been checked
          warningList
          numIgnoredNotices, numDisabledNotices, numSuppressedNotices, numHiddenNotices
          processingOptions: just helpfully passes on what we were given (may be undefined)
      Also, any other parameters are just passed through,
          although filenameList might be abbreviated, e.g. for 100s of .md files.
  */

  //     userLog(`processNoticesToSingleList v${NOTICE_PROCESSOR_VERSION_STRING} with options=${JSON.stringify(optionalProcessingOptions)}
  //    Given ${givenNoticeObject.successList.length.toLocaleString()} success string(s) plus ${givenNoticeObject.noticeList.length.toLocaleString()} notice(s)`);

  var _processNoticesCommon5 = processNoticesCommon(givenNoticeObject, optionalProcessingOptions),_processNoticesCommon6 = (0, _slicedToArray2.default)(_processNoticesCommon5, 3),remainingNoticeList = _processNoticesCommon6[0],allTotals = _processNoticesCommon6[1],resultObject = _processNoticesCommon6[2];

  // Add the fields that we need here to the existing resultObject
  resultObject.warningList = [];resultObject.numHiddenNotices = 0;

  // Check for repeated notices that should be compressed
  //  while simultaneously creating warning list
  var counter = {};var _iterator10 = _createForOfIteratorHelper(
  remainingNoticeList),_step10;try {for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {var thisNotice = _step10.value;
      var thisPriority = thisNotice.priority,thisMsg = thisNotice.message;
      var thisCombinedID = "".concat(String(thisNotice.priority).padStart(3, '0')).concat(thisNotice.message); // Could have identical worded messages but with different priorities
      if (isNaN(counter[thisCombinedID])) counter[thisCombinedID] = 1;else
      counter[thisCombinedID]++;
      if (maximumSimilarMessages > 0 && allTotals[thisCombinedID] > maximumSimilarMessages + 1 && counter[thisCombinedID] === maximumSimilarMessages + 1) {
        var numHidden = allTotals[thisCombinedID] - maximumSimilarMessages;
        (0, _utilities.logicAssert)(numHidden !== 1, "Shouldn\u2019t suppress just one notice of priority ".concat(thisPriority));
        var adjHidden = Math.min(numHidden, maximumHiddenNotices);
        var numSuppressed = numHidden - adjHidden;
        resultObject.warningList.push({ priority: thisPriority, message: thisMsg, location: " \u2191 ".concat(adjHidden.toLocaleString(), " MORE SIMILAR NOTICE").concat(adjHidden === 1 ? '' : 'S', " HIDDEN").concat(numSuppressed ? " (PLUS ".concat(numSuppressed.toLocaleString(), " SUPPRESSED)") : ''), hiddenNotices: [thisNotice] });
        resultObject.numHiddenNotices++;
      } else if (maximumSimilarMessages > 0 && counter[thisCombinedID] > maximumSimilarMessages + 1) {
        // debugLog(`Have thisCombinedID='${thisCombinedID}' and ${counter[thisCombinedID]}`)
        var previousObject = resultObject.warningList[resultObject.warningList.length - 1];
        try {
          // console.assert(previousObject, `previousObject should be defined: ${resultObject.warningList.length}`);
          // console.assert(previousObject.hiddenNotices, `resultObject.warningList[${resultObject.warningList.length-1}].hiddenNotices should be defined: now ${JSON.stringify(thisNotice, 2)} with ${JSON.stringify(previousObject, 2)} and before that ${JSON.stringify(resultObject.warningList[resultObject.warningList.length-2])}`);
          if (previousObject.hiddenNotices.length < maximumHiddenNotices) {
            previousObject.hiddenNotices.push(thisNotice);
            resultObject.numHiddenNotices++;
          } else {// suppress these excess notices
            var lastHiddenNoticeObject = previousObject.hiddenNotices[previousObject.hiddenNotices.length - 1];
            if (lastHiddenNoticeObject.message !== maximumHiddenNoticesMessage)
            previousObject.hiddenNotices.push({ priority: thisNotice.priority, message: maximumHiddenNoticesMessage });
            resultObject.numSuppressedNotices++;
          }
        } catch (e) {// presumably no hidden Notices in previous Object
          console.assert(!previousObject.hiddenNotices, "Didn't expected hiddenNotices to be defined: ".concat(JSON.stringify(previousObject), " error was: ").concat(e.message));
          resultObject.numSuppressedNotices++;
        }
      } else
      resultObject.warningList.push(thisNotice);
    }

    // debugLog(`processNoticesToSingleList is returning ${resultObject.successList.length} successes, ${resultObject.warningList.length} warnings
    //   numIgnoredNotices=${resultObject.numIgnoredNotices} numHiddenNotices=${resultObject.numHiddenNotices}`);
  } catch (err) {_iterator10.e(err);} finally {_iterator10.f();}return resultObject;
}
// end of processNoticesToSingleList function
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9kZW1vcy9ub3RpY2UtcHJvY2Vzc2luZy1mdW5jdGlvbnMuanMiXSwibmFtZXMiOlsiREVGQVVMVF9NQVhJTVVNX0hJRERFTl9OT1RJQ0VTIiwiREVGQVVMVF9NQVhJTVVNX0hJRERFTl9OT1RJQ0VTX01FU1NBR0UiLCJtYXhpbXVtSGlkZGVuTm90aWNlcyIsIm1heGltdW1IaWRkZW5Ob3RpY2VzTWVzc2FnZSIsIkRFRkFVTFRfTUFYSU1VTV9TSU1JTEFSX01FU1NBR0VTIiwibWF4aW11bVNpbWlsYXJNZXNzYWdlcyIsIkRFRkFVTFRfQ1VUT0ZGX1BSSU9SSVRZX0xFVkVMIiwiREVGQVVMVF9JR05PUkVfUFJJT1JJVFlfTlVNQkVSX0xJU1QiLCJERUZBVUxUX0VSUk9SX1BSSU9SSVRZX0xFVkVMIiwiREVGQVVMVF9TRVZFUkVfUFJJT1JJVFlfTEVWRUwiLCJERUZBVUxUX01FRElVTV9QUklPUklUWV9MRVZFTCIsInByb2Nlc3NOb3RpY2VzQ29tbW9uIiwiZ2l2ZW5Ob3RpY2VPYmplY3QiLCJvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zIiwic3RhbmRhcmRpc2VkTm90aWNlTGlzdCIsIm5vdGljZUxpc3QiLCJucGZNU01lcnJvciIsImlzTmFOIiwibGVuZ3RoIiwidG9Mb2NhbGVTdHJpbmciLCJ1bmlxdWVMaXN0Q29udGFpbnMiLCJpdGVtIiwiaXgiLCJ1bmlxdWVMaXN0IiwidGhpc1VuaXF1ZU5vdGljZSIsInByaW9yaXR5IiwibWVzc2FnZSIsImRldGFpbHMiLCJ1bmRlZmluZWQiLCJyZXBvQ29kZSIsImZpbGVuYW1lIiwicm93SUQiLCJsaW5lTnVtYmVyIiwiY2hhcmFjdGVySW5kZXgiLCJleGNlcnB0IiwiZXh0cmEiLCJ0aGlzR2l2ZW5Ob3RpY2UiLCJ4eCIsInB1c2giLCJKU09OIiwic3RyaW5naWZ5IiwiQUxMX1RTVl9GSUVMRE5BTUVTIiwibnVtYmVyU3RvcmUiLCJkdXBsaWNhdGVQcmlvcml0eUxpc3QiLCJ0aGlzUHJpb3JpdHkiLCJ0aGlzTXNnIiwib2xkTXNnIiwiaW5jbHVkZXMiLCJzdGFydHNXaXRoIiwiZW5kc1dpdGgiLCJjb25zb2xlIiwiZXJyb3IiLCJ0aGlzUmVwb05hbWUiLCJyZXBvTmFtZSIsInRoaXNGaWxlbmFtZSIsInRoaXNMaW5lTnVtYmVyIiwidGhpc0MiLCJDIiwidGhpc1YiLCJWIiwidGhpc1Jvd0lEIiwidGhpc0ZpZWxkTmFtZSIsImZpZWxkTmFtZSIsInRoaXNMb2NhdGlvbiIsImxvY2F0aW9uIiwidGhpc0V4dHJhIiwiaW5kZXhPZiIsInZCaXRzIiwic3BsaXQiLCJyZXN1bHRPYmplY3QiLCJudW1JZ25vcmVkTm90aWNlcyIsIm51bURpc2FibGVkTm90aWNlcyIsIm51bVN1cHByZXNzZWROb3RpY2VzIiwicHJvY2Vzc2luZ09wdGlvbnMiLCJnbm9Qcm9wZXJ0eU5hbWUiLCJpZ25vcmVQcmlvcml0eU51bWJlckxpc3QiLCJucGZJUE5MZXJyb3IiLCJzb3J0QnkiLCJucGZTQmVycm9yIiwiY3V0b2ZmUHJpb3JpdHlMZXZlbCIsIm5wZkNQTGVycm9yIiwic2hvd0Rpc2FibGVkTm90aWNlc0ZsYWciLCJzdWNjZXNzTGlzdCIsIkJpYmxlUmVnZXgiLCJOb3Rlc1JlZ2V4IiwibWFuaWZlc3RSZWdleCIsIlJFQURNRXJlZ2V4IiwiTElDRU5TRXJlZ2V4IiwiVUhCQm9va0xpc3QiLCJVR05UQm9va0xpc3QiLCJMVEJvb2tMaXN0IiwiU1RCb29rTGlzdCIsIlROQm9va0xpc3QiLCJUTjJCb29rTGlzdCIsIlRRMkJvb2tMaXN0IiwiVVNGTUJvb2tMaXN0IiwiVFNWTm90ZXNMaXN0IiwibWFuaWZlc3RzTGlzdCIsIlJFQURNRXNMaXN0IiwiTElDRU5TRXNMaXN0IiwiVE5MaXN0IiwiVFFMaXN0IiwiVFdMTGlzdCIsInRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZyIsInJlZ2V4UmVzdWx0Iiwic3Vic3RyaW5nIiwiZXhlYyIsInVuc2hpZnQiLCJqb2luIiwiY2hlY2tlZEZpbGVuYW1lcyIsIlNldCIsInRoaXNQYXJ0aWN1bGFyTm90aWNlIiwidGhpc05ld05vdGljZSIsImNoZWNrVHlwZSIsInJlbWFpbmluZ05vdGljZUxpc3QiLCJ0aGlzTm90aWNlIiwibmV3Tm90aWNlTGlzdCIsIk1hdGgiLCJtaW4iLCJTT1JUX0xJU1QiLCJzb3J0IiwiYSIsImIiLCJTdHJpbmciLCJwYWRTdGFydCIsIm5ld05vdGljZSIsImJvb2tJRCIsImFsbFRvdGFscyIsInRoaXNDb21iaW5lZElEIiwicHJvY2Vzc05vdGljZXNUb0Vycm9yc1dhcm5pbmdzIiwiZXJyb3JMaXN0Iiwid2FybmluZ0xpc3QiLCJudW1IaWRkZW5FcnJvcnMiLCJudW1IaWRkZW5XYXJuaW5ncyIsImVycm9yUHJpb3JpdHlMZXZlbCIsIm5wZkVQTGVycm9yIiwiY291bnRlciIsIm51bUhpZGRlbiIsImFkakhpZGRlbiIsIm51bVN1cHByZXNzZWQiLCJoaWRkZW5Ob3RpY2VzIiwicHJldmlvdXNPYmplY3QiLCJsYXN0SGlkZGVuTm90aWNlT2JqZWN0IiwiZSIsImFzc2VydCIsInByb2Nlc3NOb3RpY2VzVG9TZXZlcmVNZWRpdW1Mb3ciLCJzZXZlcmVMaXN0IiwibWVkaXVtTGlzdCIsImxvd0xpc3QiLCJudW1IaWRkZW5TZXZlcmUiLCJudW1IaWRkZW5NZWRpdW0iLCJudW1IaWRkZW5Mb3ciLCJzZXZlcmVQcmlvcml0eUxldmVsIiwibnBmU1BMZXJyb3IiLCJtZWRpdW1Qcmlvcml0eUxldmVsIiwibmZwTVBMZXJyb3IiLCJwcm9jZXNzTm90aWNlc1RvU2luZ2xlTGlzdCIsIm51bUhpZGRlbk5vdGljZXMiXSwibWFwcGluZ3MiOiI7QUFDQTtBQUNBLDJEOzs7QUFHQTtBQUNBOztBQUVBLElBQU1BLDhCQUE4QixHQUFHLEVBQXZDLEMsQ0FBMkM7QUFDM0MsSUFBTUMsc0NBQXNDLDRDQUFxQ0QsOEJBQXJDLHVCQUE1QztBQUNBLElBQUlFLG9CQUFvQixHQUFHRiw4QkFBM0IsQ0FBMkRHLDJCQUEyQixHQUFHRixzQ0FBekY7O0FBRUE7QUFDQSxJQUFNRyxnQ0FBZ0MsR0FBRyxD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QUNKLE9BbkJNO0FBb0JISCxNQUFBQSxZQUFZLENBQUM4RCxXQUFiLENBQXlCN0YsSUFBekIsQ0FBOEI2RSxVQUE5QjtBQUNQOztBQUVEO0FBQ0E7QUE5RHFGLGdFQStEckYsT0FBTzlDLFlBQVA7QUFDSDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyB1c2VyTG9nLCBwYXJhbWV0ZXJBc3NlcnQsIGxvZ2ljQXNzZXJ0LCBkZWJ1Z0xvZyB9IGZyb20gJy4uL2NvcmUvdXRpbGl0aWVzJztcbmltcG9ydCB7IGlzRGlzYWJsZWROb3RpY2UgfSBmcm9tICcuLi9jb3JlL2Rpc2FibGVkLW5vdGljZXMnO1xuXG5cbi8vIGNvbnN0IE5PVElDRV9QUk9DRVNTT1JfVkVSU0lPTl9TVFJJTkcgPSAnMC4xMC4yJztcbi8vIFRPRE86IEhpZGRlbiBtZXNzYWdlIGNvZGUgcHJvYmFibHkgZG9lc24ndCB3b3JrIGZvciB0aGUgb3RoZXIgc29ydCBvcmRlcnNcblxuY29uc3QgREVGQVVMVF9NQVhJTVVNX0hJRERFTl9OT1RJQ0VTID0gNjA7IC8vIERvbid0IHdhbnQgdG8gaGlkZSBIVU5EUkVEUy9USE9VU0FORFMgb2Ygbm90aWNlcyBmb3IgZWFjaCBub3RpY2UgdHlwZVxuY29uc3QgREVGQVVMVF9NQVhJTVVNX0hJRERFTl9OT1RJQ0VTX01FU1NBR0UgPSBgRnVydGhlciBoaWRkZW4gbm90aWNlcyAoYmV5b25kICR7REVGQVVMVF9NQVhJTVVNX0hJRERFTl9OT1RJQ0VTfSkgd2VyZSBzdXBwcmVzc2VkIWA7XG5sZXQgbWF4aW11bUhpZGRlbk5vdGljZXMgPSBERUZBVUxUX01BWElNVU1fSElEREVOX05PVElDRVMsIG1heGltdW1IaWRkZW5Ob3RpY2VzTWVzc2FnZSA9IERFRkFVTFRfTUFYSU1VTV9ISURERU5fTk9USUNFU19NRVNTQUdFO1xuXG4vLyBBbGwgb2YgdGhlIGZvbGxvd2luZyBjYW4gYmUgb3ZlcnJpZGVuIHdpdGggb3B0aW9uYWxQcm9jZXNzaW5nT3B0aW9uc1xuY29uc3QgREVGQVVMVF9NQVhJTVVNX1NJTUlMQVJfTUVTU0FHRVMgPSAzOyAvLyBaZXJvIG1lYW5zIG5vIHN1cHByZXNzaW9uIG9mIHNpbWlsYXIgbWVzc2FnZXNcbmxldCBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzID0gREVGQVVMVF9NQVhJTVVNX1NJTUlMQVJfTUVTU0FHRVM7XG5jb25zdCBERUZBVUxUX0NVVE9GRl9QUklPUklUWV9MRVZFTCA9IDA7IC8vIFRoaXMgbGV2ZWwgb3IgbG93ZXIgZ2V0cyBleGNsdWRlZCBmcm9tIHRoZSBsaXN0c1xuY29uc3QgREVGQVVMVF9JR05PUkVfUFJJT1JJVFlfTlVNQkVSX0xJU1QgPSBbXTtcblxuLy8gRm9yIHByb2Nlc3NOb3RpY2VzVG9FcnJvcnNXYXJuaW5nc1xuY29uc3QgREVGQVVMVF9FUlJPUl9QUklPUklUWV9MRVZFTCA9IDcwMDsgLy8gVGhpcyBsZXZlbCBvciBoaWdoZXIgYmVjb21lcyBhbiBlcnJvciAoY2YuIHdhcm5pbmdzKVxuXG4vLyBGb3IgcHJvY2Vzc05vdGljZXNUb1NldmVyZU1lZGl1bUxvd1xuY29uc3QgREVGQVVMVF9TRVZFUkVfUFJJT1JJVFlfTEVWRUwgPSA4MDA7IC8vIFRoaXMgbGV2ZWwgb3IgaGlnaGVyIGJlY29tZXMgYSBzZXZlcmUgZXJyb3JcbmNvbnN0IERFRkFVTFRfTUVESVVNX1BSSU9SSVRZX0xFVkVMID0gNjAwOyAvLyBUaGlzIGxldmVsIG9yIGhpZ2hlciBiZWNvbWVzIGEgbWVkaXVtIGVycm9yXG5cbi8vIEZvciBwcm9jZXNzTm90aWNlc1RvU2luZ2xlTGlzdFxuLy8gKG5vIGNvbnN0YW50cyByZXF1aXJlZClcblxuXG4vKipcbiogQGRlc2NyaXB0aW9uIC0gUHJlcHJvY2Vzc2VzIHRoZSBzdWNjZXNzTGlzdCBhbmQgbm90aWNlTGlzdFxuKiBAcGFyYW0ge09iamVjdH0gZ2l2ZW5Ob3RpY2VPYmplY3QgLSBtdXN0IGNvbnRhaW4gYSBub3RpY2VMaXN0IGFycmF5XG4qIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zIC0gbWF5IGNvbnRhaW4gcGFyYW1ldGVyc1xuKiBAcmV0dXJuIHtBcnJheX0gY29udGFpbmluZyB0aHJlZSBpdGVtczogcmVtYWluaW5nTm90aWNlTGlzdCwgYWxsVG90YWxzLCByZXN1bHRPYmplY3RcbiovXG5mdW5jdGlvbiBwcm9jZXNzTm90aWNlc0NvbW1vbihnaXZlbk5vdGljZU9iamVjdCwgb3B0aW9uYWxQcm9jZXNzaW5nT3B0aW9ucykge1xuICAgIC8qXG4gICAgICAgIEV4cGVjdHMgdG8gZ2V0IGFuIG9iamVjdCB3aXRoOlxuICAgICAgICAgICAgc3VjY2Vzc0xpc3Q6IGEgbGlzdCBvZiBzdHJpbmdzIGRlc2NyaWJpbmcgd2hhdCBoYXMgYmVlbiBjaGVja2VkXG4gICAgICAgICAgICBub3RpY2VMaXN0OiBhIGxpc3Qgb2YgY29tcG9uZW50cyB0byBub3RpY2VzLCBiZWluZzpcbiAgICAgICAgICAgICAgICBwcmlvcml0eTogQSBub3RpY2UgcHJpb3JpdHkgbnVtYmVyIGluIHRoZSByYW5nZSAxLTEsMDAwLlxuICAgICAgICAgICAgICAgICAgICBFYWNoIGRpZmZlcmVudCB0eXBlIG9mIHdhcm5pbmcvZXJyb3IgaGFzIGEgdW5pcXVlIG51bWJlclxuICAgICAgICAgICAgICAgICAgICAgIChidXQgbm90IGVhY2ggaW5zdGFuY2Ugb2YgdGhvc2Ugd2FybmluZ3MvZXJyb3JzKS5cbiAgICAgICAgICAgICAgICAgICAgQnkgZGVmYXVsdCwgbm90aWNlIHByaW9yaXR5IG51bWJlcnMgNzAwIGFuZCBvdmVyIGFyZVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnNpZGVyZWQgYGVycm9yc2AgYW5kIDAtNjk5IGFyZSBjb25zaWRlcmVkIGB3YXJuaW5nc2AsXG4gICAgICAgICAgICAgICAgICAgICAgYnV0IGluIHRydXRoLCB0aGF04oCZcyByYXRoZXIgYXJiaXRyYXJ5LlxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFRoZSBhY3R1YWwgZ2VuZXJhbCBkZXNjcmlwdGlvbiB0ZXh0IG9mIHRoZSBub3RpY2VcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBBZGRpdGlvbmFsIGNsYXJpZnlpbmcgbm90aWNlIGluZm9ybWF0aW9uIChpZiByZWxldmFudClcbiAgICAgICAgICAgICAgICBUaGUgbmV4dCB0aHJlZSBmaWVsZHMgbWF5IGJlIG9tbWl0dGVkIGlmIGlycmVsZXZhbnRcbiAgICAgICAgICAgICAgICAgKHNpbmNlIEJDViBpcyBub3QgcmVsZXZhbnQgdG8gYWxsIHR5cGVzIG9mIGZpbGVzL3JlcG9zKVxuICAgICAgICAgICAgICAgICAgICBib29rSUQ6IGJvb2sgaWRlbnRpZmllciAzLWNoYXJhY3RlciBVUFBFUkNBU0Ugc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIEM6IENoYXB0ZXIgbnVtYmVyIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICBWOiBWZXJzZSBudW1iZXIgc3RyaW5nIChjYW4gYWxzbyBiZSBhIGJyaWRnZSwgZS5nLiwgJzIyLTIzJylcbiAgICAgICAgICAgICAgICByZXBvTmFtZTogcmVwb3NpdG9yeSBuYW1lIChpZiByZWxldmFudClcbiAgICAgICAgICAgICAgICBmaWxlbmFtZTogc3RyaW5nIChpZiByZWxldmFudClcbiAgICAgICAgICAgICAgICByb3dJRDogNC1jaGFyYWN0ZXIgc3RyaW5nIChpZiByZWxldmFudClcbiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyOiBBIG9uZS1iYXNlZCBpbnRlZ2VyIGluZGljYXRpbmcgdGhlIGxpbmUgbnVtYmVyIGluIHRoZSBmaWxlXG4gICAgICAgICAgICAgICAgZmllbGROYW1lOiBzdHJpbmcgKGlmIHJlbGV2YW50KVxuICAgICAgICAgICAgICAgIGNoYXJhY3RlckluZGV4OiBBIHplcm8tYmFzZWQgaW50ZWdlciBpbmRleCB3aGljaCBpbmRpY2F0ZXMgdGhlIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIG9mIHRoZSBlcnJvciBvbiB0aGUgbGluZSBvciBpbiB0aGUgdGV4dCBmaWVsZCBhcyBhcHByb3ByaWF0ZS5cbiAgICAgICAgICAgICAgICBleGNlcnB0OiBBbiBleGNlcnB0IG9mIHRoZSBjaGVja2VkIHRleHQgd2hpY2ggaW5kaWNhdGVzIHRoZSBhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgY29udGFpbmluZyB0aGUgcHJvYmxlbS5cbiAgICAgICAgICAgICAgICAgICAgV2hlcmUgaGVscGZ1bCwgc29tZSBjaGFyYWN0ZXIgc3Vic3RpdHV0aW9ucyBoYXZlIGFscmVhZHkgYmVlbiBtYWRlLFxuICAgICAgICAgICAgICAgICAgICAgIGZvciBleGFtcGxlLCBpZiB0aGUgbm90aWNlIGlzIGFib3V0IHNwYWNlcyxcbiAgICAgICAgICAgICAgICAgICAgICBpdCBpcyBnZW5lcmFsbHkgaGVscGZ1bCB0byBkaXNwbGF5IHNwYWNlcyBhcyBhIHZpc2libGVcbiAgICAgICAgICAgICAgICAgICAgICBjaGFyYWN0ZXIgaW4gYW4gYXR0ZW1wdCB0byBiZXN0IGhpZ2hsaWdodCB0aGUgaXNzdWUgdG8gdGhlIHVzZXIuXG4gICAgICAgICAgICAgICAgIGxvY2F0aW9uOiBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBjb250ZXh0IG9mIHRoZSBub3RpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmcuLCBgaW4gJ3NvbWVCb29rLnVzZm0nLlxuICAgICAgICAgICAgICAgIFRoZXJlIGlzIGFsc28gYW4gb3B0aW9uYWwgbm90aWNlIGNvbXBvbmVudCAod2hlcmUgbXVsdGlwbGUgZmlsZXMvcmVwb3MgYXJlIGNoZWNrZWQpXG4gICAgICAgICAgICAgICAgZXh0cmE6IEEgc3RyaW5nIGluZGljYXRpbmcgYW4gZXh0cmEgbG9jYXRpb24gY29tcG9uZW50LCBlLmcuLCByZXBvQ29kZSBvciBib29rSURcbiAgICAgICAgICAgICAgICAgICAgVGhpcyB3aWxsIHByb2JhYmx5IG5lZWQgdG8gYmUgYWRkZWQgdG8gdGhlIG1lc3NhZ2Ugc3RyaW5nIGJ1dCBpcyBsZWZ0XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnRpbCBub3cgaW4gb3JkZXIgdG8gYWxsb3cgdGhlIG1vc3QgZGlzcGxheSBmbGV4aWJpbGl0eVxuICAgICAgICBBdmFpbGFibGUgb3B0aW9ucyBhcmU6XG4gICAgICAgICAgICBjdXRvZmZQcmlvcml0eUxldmVsIChpbnRlZ2VyOyBkZWZhdWx0IGlzIERFRkFVTFRfQ1VUT0ZGX1BSSU9SSVRZX0xFVkVMIGFib3ZlKVxuICAgICAgICAgICAgbWF4aW11bVNpbWlsYXJNZXNzYWdlcyAoaW50ZWdlcjsgZGVmYXVsdCBpcyBERUZBVUxUX01BWElNVU1fU0lNSUxBUl9NRVNTQUdFUyBhYm92ZSlcbiAgICAgICAgICAgIHNvcnRCeSAoJ0FzRm91bmQnIG9yICdCeVByaW9yaXR5JyBvciAnQnlSZXBvJywgZGVmYXVsdCBpcyAnQnlQcmlvcml0eScpXG4gICAgICAgICAgICBpZ25vcmVQcmlvcml0eU51bWJlckxpc3QgKGxpc3Qgb2YgaW50ZWdlcnMsIGRlZmF1bHQgaXMgZW1wdHkgbGlzdCwgbGlzdCBvZiBub3RpY2UgcHJpb3JpdHkgbnVtYmVycyB0byBiZSBpZ25vcmVkKVxuICAgICAgICBBbHNvLCBhbnkgb3RoZXIgcGFyYW1ldGVycyBhcmUganVzdCBwYXNzZWQgdGhyb3VnaCxcbiAgICAgICAgICAgIGFsdGhvdWdoIGZpbGVuYW1lTGlzdCBtaWdodCBiZSBhYmJyZXZpYXRlZCwgZS5nLiBmb3IgMTAwcyBvZiAubWQgZmlsZXMuXG5cbiAgICAgICAgUmV0dXJucyBhbiBhcnJheSBvZiB0aHJlZSBmaWVsZHM6XG4gICAgICAgICAgICByZW1haW5pbmdOb3RpY2VMaXN0XG4gICAgICAgICAgICAgICAgQSBsaXN0IG9mIG5vdGljZSBlbnRyaWVzLCBlYWNoIG9uZSBjb250YWluaW5nIGV4YWN0bHkgZWlnaHQgb3IgbmluZSBmaWVsZHMgKHNlZSBhYm92ZSlcbiAgICAgICAgICAgICAgICAgICAgaS5lLiwgbm90aWNlIGVudHJpZXMgb3JpZ2luYWxseSBjb250YWluaW5nIGZpdmUgb3Igc2l4IGZpZWxkcyBoYXZlIGhhZCBibGFuayBCQ1YgZmllbGRzIGluc2VydGVkLlxuICAgICAgICAgICAgYWxsVG90YWxzXG4gICAgICAgICAgICAgICAgQSB0YWJsZSB3aXRoIGEgY291bnQgb2Ygbm90aWNlcyBmb3IgdGhhdCBwcmlvcml0eS9tZXNzYWdlLlxuICAgICAgICAgICAgICAgICAgICAoTWF5IGJlIHVzZWQgaW4gZnVydGhlciBwcm9jZXNzaW5nIGZvciBwb3NzaWJsZSByZW1vdmFsIG9mIGxvdHMgb2Ygc2ltaWxhciBtZXNzYWdlcylcbiAgICAgICAgICAgIHJlc3VsdE9iamVjdFxuICAgICAgICAgICAgICAgIEEgcHJvdG90eXBlIG9iamVjdCB3aGljaCB3aWxsIGJlIGFkZGVkIHRvIGFuZCB0aGVuIHJldHVybmVkIGFzIHRoZSBmaW5hbCByZXN1bHQgb2YgdGhlIE5FWFQgbm90aWNlIHByb2Nlc3Npbmcgc3RlcC5cbiAgICAgICAgICAgICAgICBDb250YWlucyB0aGUgZm9sbG93aW5nOlxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzTGlzdCAtLSBhIGxpc3Qgb2Ygc3RyaW5ncyBub3Rpbmcgd2hhdCBoYXMgYmVlbiBjaGVja2VkXG4gICAgICAgICAgICAgICAgICAgIG51bUlnbm9yZWQgTm90aWNlcyAoaW50KVxuICAgICAgICAgICAgICAgICAgICBudW1TdXBwcmVzc2VkTm90aWNlcyAoaW50KVxuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzaW5nT3B0aW9ucyAoYSBjb3B5IG9mIHRoZSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zIHBhc3NlZCB0byB0aGVzZSBmdW5jdGlvbnMpXG4gICAgICAgICAgICAgICAgICAgIEFueSBvdGhlciBmaWVsZHMgdGhhdCB3ZXJlIHBhcnQgb2YgdGhlIGdpdmVuTm90aWNlT2JqZWN0IHBhc3NlZCB0byB0aGVzZSBmdW5jdGlvbnMuIFRoZXNlIG1pZ2h0IGluY2x1ZGU6XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkRmlsZW5hbWVzIC0tIGxpc3Qgb2Ygc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZFJlcG9zIC0tIGxpc3Qgb2Ygc3RyaW5nc1xuICAgICAgICAgICAgICAgICAgICBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2YgY2hlY2sgdGhhdCB3YXMgbWFkZS5cbiAgICAqL1xuICAgIC8vIGRlYnVnTG9nKGBwcm9jZXNzTm90aWNlc0NvbW1vbiB2JHtOT1RJQ0VfUFJPQ0VTU09SX1ZFUlNJT05fU1RSSU5HfVxuICAgIC8vICAgICB3aXRoICR7SlNPTi5zdHJpbmdpZnkoZ2l2ZW5Ob3RpY2VPYmplY3QpfVxuICAgIC8vICAgICB3aXRoIG9wdGlvbnM9JHtKU09OLnN0cmluZ2lmeShvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zKX1cbiAgICAvLyAgIEdpdmVuICR7Z2l2ZW5Ob3RpY2VPYmplY3Quc3VjY2Vzc0xpc3QubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9IHN1Y2Nlc3Mgc3RyaW5nKHMpIHBsdXMgJHtnaXZlbk5vdGljZU9iamVjdC5ub3RpY2VMaXN0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSBub3RpY2UocylgKTtcblxuXG4gICAgY29uc3Qgc3RhbmRhcmRpc2VkTm90aWNlTGlzdCA9IGdpdmVuTm90aWNlT2JqZWN0Lm5vdGljZUxpc3Q7IC8vIFRPRE86IFdoeSBkaWQgd2UgbmVlZCB0aGlzPz8/XG5cbiAgICBtYXhpbXVtSGlkZGVuTm90aWNlcyA9IERFRkFVTFRfTUFYSU1VTV9ISURERU5fTk9USUNFUzsgbWF4aW11bUhpZGRlbk5vdGljZXNNZXNzYWdlID0gREVGQVVMVF9NQVhJTVVNX0hJRERFTl9OT1RJQ0VTX01FU1NBR0U7XG4gICAgbWF4aW11bVNpbWlsYXJNZXNzYWdlcyA9IERFRkFVTFRfTUFYSU1VTV9TSU1JTEFSX01FU1NBR0VTO1xuICAgIHRyeSB7XG4gICAgICAgIG1heGltdW1TaW1pbGFyTWVzc2FnZXMgPSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zLm1heGltdW1TaW1pbGFyTWVzc2FnZXM7XG4gICAgfSBjYXRjaCAobnBmTVNNZXJyb3IpIHsgfVxuICAgIGlmICh0eXBlb2YgbWF4aW11bVNpbWlsYXJNZXNzYWdlcyAhPT0gJ251bWJlcicgfHwgaXNOYU4obWF4aW11bVNpbWlsYXJNZXNzYWdlcykpIHtcbiAgICAgICAgbWF4aW11bVNpbWlsYXJNZXNzYWdlcyA9IERFRkFVTFRfTUFYSU1VTV9TSU1JTEFSX01FU1NBR0VTO1xuICAgICAgICAvLyBkZWJ1Z0xvZyhgVXNpbmcgZGVmYXVsdCBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzPSR7bWF4aW11bVNpbWlsYXJNZXNzYWdlc31gKTtcbiAgICB9XG4gICAgLy8gZWxzZSB1c2VyTG9nKGBVc2luZyBzdXBwbGllZCBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzPSR7bWF4aW11bVNpbWlsYXJNZXNzYWdlc30gY2YuIGRlZmF1bHQ9JHtERUZBVUxUX01BWElNVU1fU0lNSUxBUl9NRVNTQUdFU31gKTtcblxuICAgIC8vIENoZWNrIGZvciBkdXBsaWNhdGUgbm90aWNlcyBpbiB0aGUgbm90aWNlTGlzdFxuICAgIC8vIFRoaXMgbWlnaHQgaW5kaWNhdGUgdGhhdCBhIGZ1bmN0aW9uIGlzIGJlaW5nIGNhbGxlZCB0d2ljZSB1bm5lY2Vzc2FyaWx5XG4gICAgLy8gVGhpcyBlbnRpcmUgc2VjdGlvbiBtYXkgYmUgY29tbWVudGVkIG91dCBvZiBwcm9kdWN0aW9uIGNvZGVcbiAgICAvLyBJdCBvbmx5IHJlYWxseSBtYWtlcyBzZW5zZSBpZiB0aGUgZGVidWdDaGFpbiBpcyBlbmFibGVkXG4gICAgaWYgKGdpdmVuTm90aWNlT2JqZWN0Lm5vdGljZUxpc3QgJiYgZ2l2ZW5Ob3RpY2VPYmplY3Qubm90aWNlTGlzdC5sZW5ndGgpXG4gICAgICAgIGlmIChnaXZlbk5vdGljZU9iamVjdC5ub3RpY2VMaXN0Lmxlbmd0aCA+IDgwMDApIHtcbiAgICAgICAgICAgIHVzZXJMb2coYHByb2Nlc3NOb3RpY2VzQ29tbW9uOiAke2dpdmVuTm90aWNlT2JqZWN0Lm5vdGljZUxpc3QubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9IG5vdGljZXMgaXMgdG9vIG1hbnkgdG8gc2VhcmNoIGZvciBkdXBsaWNhdGVzIWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdXNlckxvZyhgcHJvY2Vzc05vdGljZXNDb21tb246IENoZWNraW5nICR7Z2l2ZW5Ob3RpY2VPYmplY3Qubm90aWNlTGlzdC5sZW5ndGgudG9Mb2NhbGVTdHJpbmcoKX0gbm90aWNlcyBmb3IgZHVwbGljYXRlc+KApmApO1xuICAgICAgICAgICAgY29uc3QgdW5pcXVlTGlzdCA9IFtdO1xuICAgICAgICAgICAgZnVuY3Rpb24gdW5pcXVlTGlzdENvbnRhaW5zKGl0ZW0pIHsgLy8gcmV0dXJucyAtMSBvciB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IG1hdGNoXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXggPSAwOyBpeCA8IHVuaXF1ZUxpc3QubGVuZ3RoOyBpeCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNVbmlxdWVOb3RpY2UgPSB1bmlxdWVMaXN0W2l4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCAvLyBjb21wYXJlIGFzIGZldyBlc3NlbnRpYWxmaWVsZHMgYXMgcG9zc2libGUgdG8gZmluZCBtYXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzVW5pcXVlTm90aWNlLnByaW9yaXR5ID09PSBpdGVtLnByaW9yaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAmJiB0aGlzVW5pcXVlTm90aWNlLm1lc3NhZ2UgPT09IGl0ZW0ubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHRoaXNVbmlxdWVOb3RpY2UuZGV0YWlscyA9PT0gaXRlbS5kZXRhaWxzIHx8IHRoaXNVbmlxdWVOb3RpY2UuZGV0YWlscyA9PT0gdW5kZWZpbmVkIHx8IGl0ZW0uZGV0YWlscyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHRoaXNVbmlxdWVOb3RpY2UucmVwb0NvZGUgPT09IGl0ZW0ucmVwb0NvZGUgfHwgdGhpc1VuaXF1ZU5vdGljZS5yZXBvQ29kZSA9PT0gdW5kZWZpbmVkIHx8IGl0ZW0ucmVwb0NvZGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICh0aGlzVW5pcXVlTm90aWNlLmZpbGVuYW1lID09PSBpdGVtLmZpbGVuYW1lIHx8IHRoaXNVbmlxdWVOb3RpY2UuZmlsZW5hbWUgPT09IHVuZGVmaW5lZCB8fCBpdGVtLmZpbGVuYW1lID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAodGhpc1VuaXF1ZU5vdGljZS5yb3dJRCA9PT0gaXRlbS5yb3dJRCB8fCB0aGlzVW5pcXVlTm90aWNlLnJvd0lEID09PSB1bmRlZmluZWQgfHwgaXRlbS5yb3dJRCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHRoaXNVbmlxdWVOb3RpY2UubGluZU51bWJlciA9PT0gaXRlbS5saW5lTnVtYmVyIHx8IHRoaXNVbmlxdWVOb3RpY2UubGluZU51bWJlciA9PT0gdW5kZWZpbmVkIHx8IGl0ZW0ubGluZU51bWJlciA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgKHRoaXNVbmlxdWVOb3RpY2UuY2hhcmFjdGVySW5kZXggPT09IGl0ZW0uY2hhcmFjdGVySW5kZXggfHwgdGhpc1VuaXF1ZU5vdGljZS5jaGFyYWN0ZXJJbmRleCA9PT0gdW5kZWZpbmVkIHx8IGl0ZW0uY2hhcmFjdGVySW5kZXggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICh0aGlzVW5pcXVlTm90aWNlLmV4Y2VycHQgPT09IGl0ZW0uZXhjZXJwdCB8fCB0aGlzVW5pcXVlTm90aWNlLmV4Y2VycHQgPT09IHVuZGVmaW5lZCB8fCBpdGVtLmV4Y2VycHQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICYmICh0aGlzVW5pcXVlTm90aWNlLmV4dHJhID09PSBpdGVtLmV4dHJhIHx8IHRoaXNVbmlxdWVOb3RpY2UuZXh0cmEgPT09IHVuZGVmaW5lZCB8fCBpdGVtLmV4dHJhID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpeDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0aGlzR2l2ZW5Ob3RpY2Ugb2Ygc3RhbmRhcmRpc2VkTm90aWNlTGlzdCkge1xuICAgICAgICAgICAgICAgIGxldCB4eDtcbiAgICAgICAgICAgICAgICBpZiAoKHh4ID0gdW5pcXVlTGlzdENvbnRhaW5zKHRoaXNHaXZlbk5vdGljZSkpID09PSAtMSkgLy8gd2FzbuKAmXQgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlTGlzdC5wdXNoKHRoaXNHaXZlbk5vdGljZSk7XG4gICAgICAgICAgICAgICAgZWxzZSB1c2VyTG9nKGBEdXBsaWNhdGUgbm90aWNlczpcXG4ke0pTT04uc3RyaW5naWZ5KHRoaXNHaXZlbk5vdGljZSl9XFxud2hlbiBoYWRcXG4ke0pTT04uc3RyaW5naWZ5KHVuaXF1ZUxpc3RbeHhdKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bmlxdWVMaXN0Lmxlbmd0aCAhPT0gZ2l2ZW5Ob3RpY2VPYmplY3Qubm90aWNlTGlzdC5sZW5ndGgpXG4gICAgICAgICAgICAgICAgdXNlckxvZyhgSGVyZSB3aXRoICR7Z2l2ZW5Ob3RpY2VPYmplY3Qubm90aWNlTGlzdC5sZW5ndGgudG9Mb2NhbGVTdHJpbmcoKX0gbm90aWNlcyBhbmQgJHt1bmlxdWVMaXN0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSB1bmlxdWUgbm90aWNlc2ApO1xuICAgICAgICB9XG5cblxuICAgIC8vIFJ1biBhIGNoZWNrIHRocm91Z2ggdGhlIG5vdGljZUxpc3QgdG8gaGVscCBkaXNjb3ZlciBhbnkgcHJvZ3JhbW1pbmcgZXJyb3JzIHRoYXQgbmVlZCBmaXhpbmdcbiAgICAvLyBUaGlzIGVudGlyZSBzZWN0aW9uIG1heSBiZSBjb21tZW50ZWQgb3V0IG9mIHByb2R1Y3Rpb24gY29kZVxuICAgIGlmIChnaXZlbk5vdGljZU9iamVjdC5ub3RpY2VMaXN0ICYmIGdpdmVuTm90aWNlT2JqZWN0Lm5vdGljZUxpc3QubGVuZ3RoKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgICAgICBjb25zdCBBTExfVFNWX0ZJRUxETkFNRVMgPSBbJ0Jvb2snLCAnQ2hhcHRlcicsICdWZXJzZScsICdSZWZlcmVuY2UnLFxuICAgICAgICAgICAgJ0lEJywgJ1RhZ3MnLCAnU3VwcG9ydFJlZmVyZW5jZScsXG4gICAgICAgICAgICAnT3JpZ1dvcmRzJywgJ1RXTGluaycsXG4gICAgICAgICAgICAnT3JpZ1F1b3RlJywgJ1F1b3RlJywgJ09jY3VycmVuY2UnLCAnR0xRdW90ZScsXG4gICAgICAgICAgICAnUXVlc3Rpb24nLCAnUmVzcG9uc2UnLFxuICAgICAgICAgICAgJ09jY3VycmVuY2VOb3RlJywgJ05vdGUnXTtcbiAgICAgICAgY29uc3QgbnVtYmVyU3RvcmUgPSB7fSwgZHVwbGljYXRlUHJpb3JpdHlMaXN0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgdGhpc0dpdmVuTm90aWNlIG9mIHN0YW5kYXJkaXNlZE5vdGljZUxpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNQcmlvcml0eSA9IHRoaXNHaXZlbk5vdGljZS5wcmlvcml0eSwgdGhpc01zZyA9IHRoaXNHaXZlbk5vdGljZS5tZXNzYWdlO1xuICAgICAgICAgICAgLy8odHlwZW9mIHRoaXNQcmlvcml0eSA9PT0gJ251bWJlcicgJiYgdGhpc1ByaW9yaXR5ID4gMCAmJiB0aGlzUHJpb3JpdHkgPCAxMDAwMCwgYEJBRCBQUklPUklUWSBmb3IgJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIHRoaXNNc2cgPT09ICdzdHJpbmcnICYmIHRoaXNNc2cubGVuZ3RoID49IDEwLCBgQkFEIE1FU1NBR0UgZm9yICR7SlNPTi5zdHJpbmdpZnkodGhpc0dpdmVuTm90aWNlKX1gKTtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBub3RpY2UgcHJpb3JpdHkgbnVtYmVycyBhcmUgdW5pcXVlICh0byBkZXRlY3QgcHJvZ3JhbW1pbmcgZXJyb3JzKVxuICAgICAgICAgICAgY29uc3Qgb2xkTXNnID0gbnVtYmVyU3RvcmVbdGhpc1ByaW9yaXR5XTtcbiAgICAgICAgICAgIGlmIChvbGRNc2cgJiYgb2xkTXNnICE9PSB0aGlzTXNnICYmICFkdXBsaWNhdGVQcmlvcml0eUxpc3QuaW5jbHVkZXModGhpc1ByaW9yaXR5KVxuICAgICAgICAgICAgICAgIC8vIFNvbWUgb2YgdGhlIG1lc3NhZ2VzIGluY2x1ZGUgdGhlIHRyb3VibGluZyBjaGFyYWN0ZXIgaW4gdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAvLyAgICBzbyB3ZSBleHBlY3QgdGhlbSB0byBkaWZmZXIgc2xpZ2h0bHlcbiAgICAgICAgICAgICAgICAmJiAhdGhpc01zZy5zdGFydHNXaXRoKCdNaXNtYXRjaGVkICcpXG4gICAgICAgICAgICAgICAgJiYgIXRoaXNNc2cuc3RhcnRzV2l0aCgnVW5leHBlY3RlZCBkb3VibGVkICcpXG4gICAgICAgICAgICAgICAgJiYgIXRoaXNNc2cuc3RhcnRzV2l0aCgnVW5leHBlY3RlZCBzcGFjZSBhZnRlciAnKVxuICAgICAgICAgICAgICAgICYmICF0aGlzTXNnLnN0YXJ0c1dpdGgoJ1VuZXhwZWN0ZWQgY29udGVudCBhZnRlciBcXFxcJylcbiAgICAgICAgICAgICAgICAmJiAhdGhpc01zZy5zdGFydHNXaXRoKCdVU0ZNR3JhbW1hcjogJylcbiAgICAgICAgICAgICAgICAmJiAhdGhpc01zZy5zdGFydHNXaXRoKCdCYWQgcHVuY3R1YXRpb24gbmVzdGluZzogJylcbiAgICAgICAgICAgICAgICAmJiAhdGhpc01zZy5zdGFydHNXaXRoKCdBdCBlbmQgb2YgdGV4dCB3aXRoIHVuY2xvc2VkICcpXG4gICAgICAgICAgICAgICAgJiYgIXRoaXNNc2cuc3RhcnRzV2l0aCgnUG9zc2libGUgbWlzbWF0Y2hlZCAnKVxuICAgICAgICAgICAgICAgICYmICF0aGlzTXNnLmVuZHNXaXRoKCcgY2hhcmFjdGVyIGNvbWJpbmF0aW9uJylcbiAgICAgICAgICAgICAgICAmJiAhdGhpc01zZy5lbmRzV2l0aCgnIGNoYXJhY3RlciBhZnRlciBzcGFjZScpXG4gICAgICAgICAgICAgICAgJiYgIXRoaXNNc2cuZW5kc1dpdGgoJyBjaGFyYWN0ZXIgYXQgc3RhcnQgb2YgbGluZScpXG4gICAgICAgICAgICAgICAgJiYgIXRoaXNNc2cuZW5kc1dpdGgoJyBjaGFyYWN0ZXIgYXQgZW5kIG9mIGxpbmUnKVxuICAgICAgICAgICAgICAgICYmICF0aGlzTXNnLmVuZHNXaXRoKCcgbWFya2VyIGF0IHN0YXJ0IG9mIGxpbmUnKVxuICAgICAgICAgICAgICAgICYmICF0aGlzTXNnLmVuZHNXaXRoKCcgY2xvc2luZyBjaGFyYWN0ZXIgKG5vIG1hdGNoaW5nIG9wZW5lciknKVxuICAgICAgICAgICAgICAgICYmICF0aGlzTXNnLmVuZHNXaXRoKCcgY2xvc2luZyBjaGFyYWN0ZXIgZG9lc27igJl0IG1hdGNoJylcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFBPU1NJQkxFIFBST0dSQU1NSU5HIEVSUk9SOiBwcmlvcml0eSAke3RoaXNQcmlvcml0eX0gaGFzIGF0IGxlYXN0IHR3byBkaWZmZXJlbnQgbWVzc2FnZXM6ICcke29sZE1zZ30nIGFuZCAnJHt0aGlzTXNnfSdgKTtcbiAgICAgICAgICAgICAgICBkdXBsaWNhdGVQcmlvcml0eUxpc3QucHVzaCh0aGlzUHJpb3JpdHkpOyAvLyBzbyB0aGF0IHdlIG9ubHkgZ2l2ZSB0aGUgZXJyb3Igb25jZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGVjayBmaWVsZHMgZm9yIGJhZCB2YWx1ZXMsIGFuZCBhbHNvIGFjcm9zcyBmaWVsZHMgZm9yIHVuZXhwZWN0ZWQgY29tYmluYXRpb25zXG4gICAgICAgICAgICBjb25zdCB0aGlzUmVwb05hbWUgPSB0aGlzR2l2ZW5Ob3RpY2UucmVwb05hbWUsXG4gICAgICAgICAgICAgICAgdGhpc0ZpbGVuYW1lID0gdGhpc0dpdmVuTm90aWNlLmZpbGVuYW1lLCB0aGlzTGluZU51bWJlciA9IHRoaXNHaXZlbk5vdGljZS5saW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIHRoaXNDID0gdGhpc0dpdmVuTm90aWNlLkMsIHRoaXNWID0gdGhpc0dpdmVuTm90aWNlLlYsXG4gICAgICAgICAgICAgICAgdGhpc1Jvd0lEID0gdGhpc0dpdmVuTm90aWNlLnJvd0lELCB0aGlzRmllbGROYW1lID0gdGhpc0dpdmVuTm90aWNlLmZpZWxkTmFtZSxcbiAgICAgICAgICAgICAgICB0aGlzTG9jYXRpb24gPSB0aGlzR2l2ZW5Ob3RpY2UubG9jYXRpb24sIHRoaXNFeHRyYSA9IHRoaXNHaXZlbk5vdGljZS5leHRyYTtcbiAgICAgICAgICAgIGlmICh0aGlzUmVwb05hbWUpIHtcbiAgICAgICAgICAgICAgICAvL3BhcmFtZXRlckFzc2VydCh0aGlzUmVwb05hbWUuaW5kZXhPZignICcpIDwgMCAmJiB0aGlzUmVwb05hbWUuaW5kZXhPZignLycpIDwgMCAmJiB0aGlzUmVwb05hbWUuaW5kZXhPZignXFxcXCcpIDwgMCwgYHJlcG9OYW1lICcke3RoaXNSZXBvTmFtZX0nIGNvbnRhaW5zIHVuZXhwZWN0ZWQgY2hhcmFjdGVycyBpbiAke0pTT04uc3RyaW5naWZ5KHRoaXNHaXZlbk5vdGljZSl9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNMb2NhdGlvbikgeyAvL3BhcmFtZXRlckFzc2VydCh0aGlzTG9jYXRpb24uaW5kZXhPZih0aGlzUmVwb05hbWUpIDwgMCwgYHJlcG9OYW1lIGlzIHJlcGVhdGVkIGluIGxvY2F0aW9uIGluICR7SlNPTi5zdHJpbmdpZnkodGhpc0dpdmVuTm90aWNlKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpc0ZpbGVuYW1lKSB7XG4gICAgICAgICAgICAgICAgbG9naWNBc3NlcnQodGhpc0ZpbGVuYW1lLmluZGV4T2YoJzonKSA8IDAgJiYgdGhpc0ZpbGVuYW1lLmluZGV4T2YoJ1xcXFwnKSA8IDAsIGBmaWxlbmFtZSAnJHt0aGlzRmlsZW5hbWV9JyBjb250YWlucyB1bmV4cGVjdGVkIGNoYXJhY3RlcnMgaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KEFMTF9UU1ZfRklFTEROQU1FUy5pbmRleE9mKHRoaXNGaWxlbmFtZSkgPCAwLCBgZmlsZW5hbWUgJyR7dGhpc0ZpbGVuYW1lfScgY29udGFpbnMgYSBUU1YgZmllbGROYW1lIWApO1xuICAgICAgICAgICAgICAgIC8vIE5PVEU6IFNvbWUgT0JTIGFuZCBvdGhlciBtZXNzYWdlcyBoYXZlIHRvIGluY2x1ZGUgcGFydCBvZiB0aGUgcGFydCBpbiB0aGUgJ2ZpbGVuYW1lJyAodG8gcHJldmVudCBhbWJpZ3VpdHkpIHNvIHdlIGRvbuKAmXQgZGlzYWxsb3cgZm9yd2FyZCBzbGFzaFxuICAgICAgICAgICAgICAgIC8vIGlmICghdGhpc1JlcG9OYW1lIHx8ICEodGhpc1JlcG9OYW1lLmVuZHNXaXRoKCdfb2JzJykgfHwgdGhpc1JlcG9OYW1lLmVuZHNXaXRoKCdfdGEnKSB8fCB0aGlzUmVwb05hbWUuZW5kc1dpdGgoJ190dycpKSlcbiAgICAgICAgICAgICAgICAvLyAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodGhpc0ZpbGVuYW1lLmluZGV4T2YoJy8nKSA8IDAsIGBmaWxlbmFtZSAnJHt0aGlzRmlsZW5hbWV9JyBjb250YWlucyB1bmV4cGVjdGVkIGNoYXJhY3RlcnMgaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzTG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KHRoaXNMb2NhdGlvbi5pbmRleE9mKHRoaXNGaWxlbmFtZSkgPCAwLCBgZmlsZW5hbWUgaXMgcmVwZWF0ZWQgaW4gbG9jYXRpb24gaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXNDKVxuICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KHRoaXNDID09PSAnZnJvbnQnIHx8ICFpc05hTih0aGlzQyAqIDEpLCBgQyAnJHt0aGlzQ30nIGNvbnRhaW5zIHVuZXhwZWN0ZWQgY2hhcmFjdGVycyBpbiAke0pTT04uc3RyaW5naWZ5KHRoaXNHaXZlbk5vdGljZSl9YCk7XG4gICAgICAgICAgICBpZiAodGhpc1YpIHsgLy8gTk9URTogV2UgZG9uJ3QgYWxsb3cgZm9yIGEgZW4tZGFzaCBpbiB2ZXJzZSByYW5nZXMgLS0gc2hvdWxkIHdlP1xuICAgICAgICAgICAgICAgIGlmICh0aGlzVi5pbmRleE9mKCctJykgIT09IC0xKSB7IC8vIGl0IGNvbnRhaW5zIGEgaHlwaGVuLCBpLmUuLCBhIHZlcnNlIHJhbmdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZCaXRzID0gdGhpc1Yuc3BsaXQoJy0nKTtcbiAgICAgICAgICAgICAgICAgICAgbG9naWNBc3NlcnQodkJpdHMubGVuZ3RoID09PSAyICYmICFpc05hTih2Qml0c1swXSAqIDEpICYmICFpc05hTih2Qml0c1sxXSAqIDEpLCBgViAnJHt0aGlzVn0nIHZlcnNlIHJhbmdlIGNvbnRhaW5zIHVuZXhwZWN0ZWQgY2hhcmFjdGVycyBpbiAke0pTT04uc3RyaW5naWZ5KHRoaXNHaXZlbk5vdGljZSl9YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIC8vIE5PVEU6IFF1ZXN0aW9uIG1hcmsgYmVsb3cgaXMgaW4gXCJiYWQgdmVyc2UgbnVtYmVyXCIgbm90aWNlc1xuICAgICAgICAgICAgICAgICAgICBsb2dpY0Fzc2VydCh0aGlzViA9PT0gJ2ludHJvJyB8fCB0aGlzViA9PT0gJz8nIHx8ICFpc05hTih0aGlzViAqIDEpLCBgViAnJHt0aGlzVn0nIGNvbnRhaW5zIHVuZXhwZWN0ZWQgY2hhcmFjdGVycyBpbiAke0pTT04uc3RyaW5naWZ5KHRoaXNHaXZlbk5vdGljZSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpc1Jvd0lEKSB7XG4gICAgICAgICAgICAgICAgbG9naWNBc3NlcnQodGhpc1Jvd0lELmluZGV4T2YoJyAnKSA8IDAgJiYgdGhpc1Jvd0lELmluZGV4T2YoJy8nKSA8IDAgJiYgdGhpc1Jvd0lELmluZGV4T2YoJ1xcXFwnKSA8IDAsIGByb3dJRCAnJHt0aGlzUm93SUR9JyBjb250YWlucyB1bmV4cGVjdGVkIGNoYXJhY3RlcnMgaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzTG9jYXRpb24pXG4gICAgICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KHRoaXNMb2NhdGlvbi5pbmRleE9mKHRoaXNSb3dJRCkgPCAwLCBgcm93SUQgaXMgcmVwZWF0ZWQgaW4gbG9jYXRpb24gaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXNGaWVsZE5hbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiBmaWVsZE5hbWUgY2FuIGJlIGEgVVNGTSBtYXJrZXIsIGUuZy4sICdmcm9tIFxcdydcbiAgICAgICAgICAgICAgICBsb2dpY0Fzc2VydCh0aGlzRmllbGROYW1lLmluZGV4T2YoJy8nKSA8IDAsIGBmaWVsZE5hbWUgJyR7dGhpc0ZpZWxkTmFtZX0nIGNvbnRhaW5zIHVuZXhwZWN0ZWQgY2hhcmFjdGVycyBpbiAke0pTT04uc3RyaW5naWZ5KHRoaXNHaXZlbk5vdGljZSl9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNMb2NhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgbG9naWNBc3NlcnQodGhpc0ZpZWxkTmFtZSA9PT0gJ3cnIC8vICd3JyBpcyBqdXN0IHRvbyBsaWtlbHkgdG8gb2NjdXIgaW4gdGhlIGxvY2F0aW9uIHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgfHwgdGhpc0xvY2F0aW9uLmluZGV4T2YodGhpc0ZpZWxkTmFtZSkgPCAwLCBgZmllbGROYW1lIGlzIHJlcGVhdGVkIGluIGxvY2F0aW9uIGluICR7SlNPTi5zdHJpbmdpZnkodGhpc0dpdmVuTm90aWNlKX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzTGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KHR5cGVvZiB0aGlzTGluZU51bWJlciA9PT0gJ251bWJlcicgJiYgdGhpc0xpbmVOdW1iZXIgPiAwLCBgbGluZU51bWJlciAnJHt0aGlzTGluZU51bWJlcn0nIGNvbnRhaW5zIHVuZXhwZWN0ZWQgdmFsdWUgaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IGxpbmVOdW1iZXIgY2FuIG9jY3VyIGluIGxvY2F0aW9uLCBlLmcuLCBpbiAzIGluICczSk4nIG9yICdEb29yNDMnIHNvIGhhdmUgdG8gdGFrZSBhZGRpdGlvbmFsIGNhcmUgbm90IHRvIGdpdmUgZmFsc2UgYWxhcm1zXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNMb2NhdGlvbiAmJiB0aGlzTGluZU51bWJlciA+IDQgJiYgdGhpc0xpbmVOdW1iZXIgIT09IDQzKVxuICAgICAgICAgICAgICAgICAgICAvLyAmJiAoIXRoaXNHaXZlbk5vdGljZS5ib29rSUQgfHwgdGhpc0dpdmVuTm90aWNlLmJvb2tJRC5pbmRleE9mKHRoaXNMaW5lTnVtYmVyICsgJycpIDwgMClcbiAgICAgICAgICAgICAgICAgICAgbG9naWNBc3NlcnQodGhpc0xvY2F0aW9uLmluZGV4T2YodGhpc0xpbmVOdW1iZXIgKyAnJykgPCAwICYmIHRoaXNMb2NhdGlvbi5pbmRleE9mKHRoaXNMaW5lTnVtYmVyLnRvTG9jYWxlU3RyaW5nKCkpIDwgMCwgYGxpbmVOdW1iZXIgbWlnaHQgYmUgcmVwZWF0ZWQgaW4gbG9jYXRpb24gaW4gJHtKU09OLnN0cmluZ2lmeSh0aGlzR2l2ZW5Ob3RpY2UpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXNFeHRyYSkgeyBsb2dpY0Fzc2VydCh0aGlzRXh0cmEgIT09ICcwMScsIGBleHRyYSBzaG91bGQgbm90IGJlICcke3RoaXNFeHRyYX0nYCk7IH1cbiAgICAgICAgICAgIG51bWJlclN0b3JlW3RoaXNQcmlvcml0eV0gPSB0aGlzTXNnO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBjb25zdCByZXN1bHRPYmplY3QgPSB7IC8vIGluaXRpdGFsaXNlIHdpdGggb3VyIG5ldyBmaWVsZHNcbiAgICAgICAgbnVtSWdub3JlZE5vdGljZXM6IDAsIC8vIElnbm9yZWQgYnkgdW5pcXVlIHByaW9yaXR5IG51bWJlclxuICAgICAgICBudW1EaXNhYmxlZE5vdGljZXM6IDAsIC8vIEluZGl2aWR1YWxseSBkaXNhYmxlZFxuICAgICAgICBudW1TdXBwcmVzc2VkTm90aWNlczogMCwgLy8gTG93IHByaW9yaXR5IG5vdGljZXMgZHJvcHBlZCBjb21wbGV0ZWx5XG4gICAgICAgIHByb2Nlc3NpbmdPcHRpb25zOiBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zLCAvLyBKdXN0IGhlbHBmdWxseSBpbmNsdWRlcyB3aGF0IHdlIHdlcmUgZ2l2ZW4gKG1heSBiZSB1bmRlZmluZWQpXG4gICAgfTtcbiAgICAvLyBDb3B5IGFjcm9zcyBhbGwgdGhlIG90aGVyIHByb3BlcnRpZXMgdGhhdCB3ZSBhcmVu4oCZdCBpbnRlcmVzdGVkIGluXG4gICAgZm9yIChjb25zdCBnbm9Qcm9wZXJ0eU5hbWUgaW4gZ2l2ZW5Ob3RpY2VPYmplY3QpXG4gICAgICAgIGlmIChnbm9Qcm9wZXJ0eU5hbWUgIT09ICdzdWNjZXNzTGlzdCcgJiYgZ25vUHJvcGVydHlOYW1lICE9PSAnbm90aWNlTGlzdCcpXG4gICAgICAgICAgICByZXN1bHRPYmplY3RbZ25vUHJvcGVydHlOYW1lXSA9IGdpdmVuTm90aWNlT2JqZWN0W2dub1Byb3BlcnR5TmFtZV07XG5cbiAgICAvLyBGZXRjaCBvdXIgcHJvY2Vzc2luZyBwYXJhbWV0ZXJzXG4gICAgbGV0IGlnbm9yZVByaW9yaXR5TnVtYmVyTGlzdDtcbiAgICB0cnkge1xuICAgICAgICBpZ25vcmVQcmlvcml0eU51bWJlckxpc3QgPSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zLmlnbm9yZVByaW9yaXR5TnVtYmVyTGlzdDtcbiAgICB9IGNhdGNoIChucGZJUE5MZXJyb3IpIHsgfVxuICAgIGlmIChpZ25vcmVQcmlvcml0eU51bWJlckxpc3QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZ25vcmVQcmlvcml0eU51bWJlckxpc3QgPSBERUZBVUxUX0lHTk9SRV9QUklPUklUWV9OVU1CRVJfTElTVDtcbiAgICAgICAgLy8gZGVidWdMb2coYFVzaW5nIGRlZmF1bHQgaWdub3JlUHJpb3JpdHlOdW1iZXJMaXN0PSR7SlNPTi5zdHJpbmdpZnkoaWdub3JlUHJpb3JpdHlOdW1iZXJMaXN0KX1gKTtcbiAgICB9XG4gICAgZWxzZSB1c2VyTG9nKGBwcm9jZXNzTm90aWNlc0NvbW1vbjogVXNpbmcgc3VwcGxpZWQgaWdub3JlUHJpb3JpdHlOdW1iZXJMaXN0PSR7SlNPTi5zdHJpbmdpZnkoaWdub3JlUHJpb3JpdHlOdW1iZXJMaXN0KX0gY2YuIGRlZmF1bHQ9JHtKU09OLnN0cmluZ2lmeShERUZBVUxUX0lHTk9SRV9QUklPUklUWV9OVU1CRVJfTElTVCl9YCk7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQoQXJyYXkuaXNBcnJheShpZ25vcmVQcmlvcml0eU51bWJlckxpc3QpLCBgaWdub3JlUHJpb3JpdHlOdW1iZXJMaXN0IHNob3VsZCBiZSBhbiBBcnJheSwgbm90ICR7dHlwZW9mIGlnbm9yZVByaW9yaXR5TnVtYmVyTGlzdH09JHtpZ25vcmVQcmlvcml0eU51bWJlckxpc3R9YCk7XG4gICAgbGV0IHNvcnRCeTtcbiAgICB0cnkge1xuICAgICAgICBzb3J0QnkgPSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zLnNvcnRCeTtcbiAgICAgICAgLy8gZGVidWdMb2coYHByb2Nlc3NOb3RpY2VzQ29tbW9uOiBTZXR0aW5nIHNvcnRCeT0nJHtzb3J0Qnl9JyBmcm9tIG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnNgKTtcbiAgICB9IGNhdGNoIChucGZTQmVycm9yKSB7IH1cbiAgICBpZiAoc29ydEJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc29ydEJ5ID0gJ0J5UHJpb3JpdHknO1xuICAgICAgICAvLyBkZWJ1Z0xvZyhgcHJvY2Vzc05vdGljZXNDb21tb246IFVzaW5nIGRlZmF1bHQgc29ydEJ5PScke3NvcnRCeX0nYCk7XG4gICAgfVxuICAgIC8vIGVsc2UgdXNlckxvZyhgcHJvY2Vzc05vdGljZXNDb21tb246IFVzaW5nIHN1cHBsaWVkIHNvcnRCeT0nJHtzb3J0Qnl9JyBjZi4gZGVmYXVsdD0nQnlQcmlvcml0eSdgKTtcbiAgICBsZXQgY3V0b2ZmUHJpb3JpdHlMZXZlbDtcbiAgICB0cnkge1xuICAgICAgICBjdXRvZmZQcmlvcml0eUxldmVsID0gb3B0aW9uYWxQcm9jZXNzaW5nT3B0aW9ucy5jdXRvZmZQcmlvcml0eUxldmVsO1xuICAgIH0gY2F0Y2ggKG5wZkNQTGVycm9yKSB7IH1cbiAgICBpZiAoY3V0b2ZmUHJpb3JpdHlMZXZlbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGN1dG9mZlByaW9yaXR5TGV2ZWwgPSBERUZBVUxUX0NVVE9GRl9QUklPUklUWV9MRVZFTDtcbiAgICAgICAgLy8gZGVidWdMb2coYFVzaW5nIGRlZmF1bHQgY3V0b2ZmUHJpb3JpdHlMZXZlbD0ke2N1dG9mZlByaW9yaXR5TGV2ZWx9YCk7XG4gICAgfVxuICAgIGVsc2UgdXNlckxvZyhgVXNpbmcgc3VwcGxpZWQgY3V0b2ZmUHJpb3JpdHlMZXZlbD0ke2N1dG9mZlByaW9yaXR5TGV2ZWx9IGNmLiBkZWZhdWx0PSR7REVGQVVMVF9DVVRPRkZfUFJJT1JJVFlfTEVWRUx9YCk7XG4gICAgLy8gaWYgKGN1dG9mZlByaW9yaXR5TGV2ZWwgPiBlcnJvclByaW9yaXR5TGV2ZWwpXG4gICAgLy8gcmVzdWx0T2JqZWN0LmVycm9yTGlzdC5wdXNoKHs5OTksIFwiQ3V0b2ZmIGxldmVsIG11c3Qgbm90IGJlIGhpZ2hlciB0aGFuIGVycm9yIGxldmVsXCIsIGV4Y2VycHQ6YCgke2N1dG9mZlByaW9yaXR5TGV2ZWx9IHZzICR7ZXJyb3JQcmlvcml0eUxldmVsfSlgLCBcIiBpbiBwcm9jZXNzTm90aWNlc0NvbW1vbiBvcHRpb25zXCJdKTtcblxuICAgIGxldCBzaG93RGlzYWJsZWROb3RpY2VzRmxhZyA9IG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMuc2hvd0Rpc2FibGVkTm90aWNlc0ZsYWcgPT09IHRydWU7XG4gICAgaWYgKHNob3dEaXNhYmxlZE5vdGljZXNGbGFnKSB1c2VyTG9nKGBzaG93RGlzYWJsZWROb3RpY2VzRmxhZz0ke3Nob3dEaXNhYmxlZE5vdGljZXNGbGFnfWApO1xuXG4gICAgLy8gQWRqdXN0IHRoZSBsaXN0IG9mIHN1Y2Nlc3Mgbm90aWNlcyB0byBjb21iaW5lIG11bHRpcGxlIHNpbWlsYXIgbWVzc2FnZXMsIGUuZy4sIENoZWNrZWQgdGhpcyBib29rLCBDaGVja2VkIHRoYXQgYm9va1xuICAgIC8vICBpbnRvIG9uZSBzdW1tYXJ5IG1lc3NhZ2UsIGUuZy4sIENoZWNrZWQgdGhpcyBhbmQgdGhhdCBib29rcy5cbiAgICBpZiAoZ2l2ZW5Ob3RpY2VPYmplY3Quc3VjY2Vzc0xpc3QpXG4gICAgICAgIC8vIEhhbmRsZSB0aGUgc3VjY2Vzc0xpc3RcbiAgICAgICAgaWYgKGdpdmVuTm90aWNlT2JqZWN0LnN1Y2Nlc3NMaXN0Lmxlbmd0aCA8IDUpXG4gICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QgPSBnaXZlbk5vdGljZU9iamVjdC5zdWNjZXNzTGlzdDtcbiAgICAgICAgZWxzZSB7IC8vIHN1Y2Nlc3NMaXN0IGlzIGZhaXJseSBsb25nIC0tIG1heWJlIHdlIGNhbiBzaG9ydGVuIGl0IGJ5IGNvbWJpbmluZyBtdWx0aXBsZSBzaW1pbGFyIG1lc3NhZ2VzXG4gICAgICAgICAgICBjb25zdCBCaWJsZVJlZ2V4ID0gL1xcZFxcZC0oXFx3XFx3XFx3KS51c2ZtLzsgLy8gXCJDaGVja2VkIEpVRCBmaWxlOiA2Ni1KVUQudXNmbVwiXG4gICAgICAgICAgICBjb25zdCBOb3Rlc1JlZ2V4ID0gL1xcZFxcZC0oXFx3XFx3XFx3KS50c3YvOyAvLyBcIkNoZWNrZWQgRU5fVE5fMDEtR0VOLlRTViBmaWxlOiBlbl90bl8wMS1HRU4udHN2XCJcbiAgICAgICAgICAgIC8vIGNvbnN0IFRXTFJlZ2V4ID0gL3R3bF8oXFx3XFx3XFx3KS50c3YvOyAvLyBGcm9tIHJlcG9DaGVjayBcIkNoZWNrZWQgZW5fdHdsIEJCQiBmaWxlOiB0d2xfQkJCLnRzdlwiXG4gICAgICAgICAgICBjb25zdCBtYW5pZmVzdFJlZ2V4ID0gL0NoZWNrZWQgKFtcXHdcXC1fXXsyLDI1fSkgbWFuaWZlc3QgZmlsZS87XG4gICAgICAgICAgICBjb25zdCBSRUFETUVyZWdleCA9IC9DaGVja2VkIChbXFx3XFwtX117MiwyNX0pIFJFQURNRSBmaWxlLztcbiAgICAgICAgICAgIGNvbnN0IExJQ0VOU0VyZWdleCA9IC9DaGVja2VkIChbXFx3XFwtX117MiwyNX0pIExJQ0VOU0UgZmlsZS87XG4gICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IFVIQkJvb2tMaXN0ID0gW10sIFVHTlRCb29rTGlzdCA9IFtdLCBMVEJvb2tMaXN0ID0gW10sIFNUQm9va0xpc3QgPSBbXSwgVE5Cb29rTGlzdCA9IFtdLCBUTjJCb29rTGlzdCA9IFtdLCBUUTJCb29rTGlzdCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgVVNGTUJvb2tMaXN0ID0gW10sIFRTVk5vdGVzTGlzdCA9IFtdLCBtYW5pZmVzdHNMaXN0ID0gW10sIFJFQURNRXNMaXN0ID0gW10sIExJQ0VOU0VzTGlzdCA9IFtdO1xuICAgICAgICAgICAgY29uc3QgVE5MaXN0ID0gW10sIFRRTGlzdCA9IFtdLCBUV0xMaXN0ID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZyBvZiBnaXZlbk5vdGljZU9iamVjdC5zdWNjZXNzTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIGRlYnVnTG9nKFwidGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnXCIsIHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlZ2V4UmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3RhcnRzV2l0aCgnQ2hlY2tlZCBVSEIgZmlsZTogJykpXG4gICAgICAgICAgICAgICAgICAgIFVIQkJvb2tMaXN0LnB1c2godGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygxOCwgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN0YXJ0c1dpdGgoJ0NoZWNrZWQgVUdOVCBmaWxlOiAnKSlcbiAgICAgICAgICAgICAgICAgICAgVUdOVEJvb2tMaXN0LnB1c2godGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygxOSwgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN0YXJ0c1dpdGgoJ0NoZWNrZWQgVFdMIGZpbGU6ICcpKVxuICAgICAgICAgICAgICAgICAgICBUV0xMaXN0LnB1c2godGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygxOCwgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN0YXJ0c1dpdGgoJ0NoZWNrZWQgTFQgZmlsZTogJykpXG4gICAgICAgICAgICAgICAgICAgIExUQm9va0xpc3QucHVzaCh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3Vic3RyaW5nKDE3LCB0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3RhcnRzV2l0aCgnQ2hlY2tlZCBTVCBmaWxlOiAnKSlcbiAgICAgICAgICAgICAgICAgICAgU1RCb29rTGlzdC5wdXNoKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdWJzdHJpbmcoMTcsIHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdGFydHNXaXRoKCdDaGVja2VkIFROIGZpbGU6ICcpKVxuICAgICAgICAgICAgICAgICAgICBUTkJvb2tMaXN0LnB1c2godGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygxNywgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN0YXJ0c1dpdGgoJ0NoZWNrZWQgVE4yIGZpbGU6ICcpKVxuICAgICAgICAgICAgICAgICAgICBUTjJCb29rTGlzdC5wdXNoKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdWJzdHJpbmcoMTgsIHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdGFydHNXaXRoKCdDaGVja2VkIFRRMiBmaWxlOiAnKSlcbiAgICAgICAgICAgICAgICAgICAgVFEyQm9va0xpc3QucHVzaCh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3Vic3RyaW5nKDE4LCB0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cubGVuZ3RoKSlcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3RhcnRzV2l0aCgnQ2hlY2tlZCBUTjIgJykgJiYgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygxNCwgMjApID09PSAnIGZpbGU6JylcbiAgICAgICAgICAgICAgICAgICAgVE5MaXN0LnB1c2godGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygyMSwgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN0YXJ0c1dpdGgoJ0NoZWNrZWQgVFEyICcpICYmIHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdWJzdHJpbmcoMTQsIDIwKSA9PT0gJyBmaWxlOicpXG4gICAgICAgICAgICAgICAgICAgIFRRTGlzdC5wdXNoKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdWJzdHJpbmcoMjEsIHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdGFydHNXaXRoKCdDaGVja2VkIFRXTCAnKSAmJiB0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3Vic3RyaW5nKDE1LCAyMSkgPT09ICcgZmlsZTonKVxuICAgICAgICAgICAgICAgICAgICBUV0xMaXN0LnB1c2godGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLnN1YnN0cmluZygyMiwgdGhpc1BhcnRpY3VsYXJTdWNjZXNzTXNnLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKHJlZ2V4UmVzdWx0ID0gQmlibGVSZWdleC5leGVjKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZykpICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBkb27igJl0IGRvIGl0IGZvciBCb29rIFBhY2thZ2UgY2hlY2tzIChpbiBkaWZmZXJlbnQgcmVwb3MpXG4gICAgICAgICAgICAgICAgICAgICYmIHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZy5zdGFydHNXaXRoKGBDaGVja2VkICR7cmVnZXhSZXN1bHRbMV19IGZpbGVgKSlcbiAgICAgICAgICAgICAgICAgICAgVVNGTUJvb2tMaXN0LnB1c2gocmVnZXhSZXN1bHRbMV0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChyZWdleFJlc3VsdCA9IE5vdGVzUmVnZXguZXhlYyh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cpKSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAvLyBidXQgZG9u4oCZdCBkbyBpdCBmb3IgQm9vayBQYWNrYWdlIGNoZWNrcyAoaW4gZGlmZmVyZW50IHJlcG9zKVxuICAgICAgICAgICAgICAgICAgICAmJiB0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cuc3RhcnRzV2l0aChgQ2hlY2tlZCAke3JlZ2V4UmVzdWx0WzFdfSBmaWxlYCkpXG4gICAgICAgICAgICAgICAgICAgIFRTVk5vdGVzTGlzdC5wdXNoKHJlZ2V4UmVzdWx0WzFdKTtcbiAgICAgICAgICAgICAgICAvLyBlbHNlIGlmICgocmVnZXhSZXN1bHQgPSBUV0xSZWdleC5leGVjKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZykpICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIC8vICAgICBUV0xMaXN0LnB1c2gocmVnZXhSZXN1bHRbMV0pO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChyZWdleFJlc3VsdCA9IG1hbmlmZXN0UmVnZXguZXhlYyh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cpKSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgbWFuaWZlc3RzTGlzdC5wdXNoKHJlZ2V4UmVzdWx0WzFdKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocmVnZXhSZXN1bHQgPSBSRUFETUVyZWdleC5leGVjKHRoaXNQYXJ0aWN1bGFyU3VjY2Vzc01zZykpICE9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBSRUFETUVzTGlzdC5wdXNoKHJlZ2V4UmVzdWx0WzFdKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgocmVnZXhSZXN1bHQgPSBMSUNFTlNFcmVnZXguZXhlYyh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cpKSAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgTElDRU5TRXNMaXN0LnB1c2gocmVnZXhSZXN1bHRbMV0pO1xuICAgICAgICAgICAgICAgIGVsc2UgLy8gSnVzdCBjb3B5IGl0IGFjcm9zc1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaCh0aGlzUGFydGljdWxhclN1Y2Nlc3NNc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVjcmVhdGUgb3JpZ2luYWwgbWVzc2FnZXMgaWYgZXhhY3RseSBvbmUgZm91bmRcbiAgICAgICAgICAgIGlmIChVSEJCb29rTGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnB1c2goYENoZWNrZWQgVUhCIGZpbGU6ICR7VUhCQm9va0xpc3RbMF19YCk7XG4gICAgICAgICAgICBpZiAoVUdOVEJvb2tMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaChgQ2hlY2tlZCBVR05UIGZpbGU6ICR7VUdOVEJvb2tMaXN0WzBdfWApO1xuICAgICAgICAgICAgLy8gaWYgKFRXTEJvb2tMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgIC8vIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC5wdXNoKGBDaGVja2VkIFRXTCBmaWxlOiAke1RXTEJvb2tMaXN0WzBdfWApO1xuICAgICAgICAgICAgaWYgKExUQm9va0xpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC5wdXNoKGBDaGVja2VkIExUIGZpbGU6ICR7TFRCb29rTGlzdFswXX1gKTtcbiAgICAgICAgICAgIGlmIChTVEJvb2tMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaChgQ2hlY2tlZCBTVCBmaWxlOiAke1NUQm9va0xpc3RbMF19YCk7XG4gICAgICAgICAgICBpZiAoVE5Cb29rTGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnB1c2goYENoZWNrZWQgVE4gZmlsZTogJHtUTkJvb2tMaXN0WzBdfWApO1xuICAgICAgICAgICAgaWYgKFROMkJvb2tMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaChgQ2hlY2tlZCBUTjIgZmlsZTogJHtUTjJCb29rTGlzdFswXX1gKTtcbiAgICAgICAgICAgIGlmIChUUTJCb29rTGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnB1c2goYENoZWNrZWQgVFEyIGZpbGU6ICR7VFEyQm9va0xpc3RbMF19YCk7XG4gICAgICAgICAgICBpZiAoVVNGTUJvb2tMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaChgQ2hlY2tlZCAke1VTRk1Cb29rTGlzdFswXX0gZmlsZWApO1xuICAgICAgICAgICAgaWYgKFRTVk5vdGVzTGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnB1c2goYENoZWNrZWQgJHtUU1ZOb3Rlc0xpc3RbMF19IGZpbGVgKTtcbiAgICAgICAgICAgIGlmIChUTkxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC5wdXNoKGBDaGVja2VkIFROMiBmaWxlOiAke1ROTGlzdFswXX1gKTtcbiAgICAgICAgICAgIGlmIChUUUxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC5wdXNoKGBDaGVja2VkIFRRMiBmaWxlOiAke1RRTGlzdFswXX1gKTtcbiAgICAgICAgICAgIGlmIChUV0xMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaChgQ2hlY2tlZCBUV0wgZmlsZTogJHtUV0xMaXN0WzBdfWApO1xuICAgICAgICAgICAgaWYgKG1hbmlmZXN0c0xpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC5wdXNoKGBDaGVja2VkICR7bWFuaWZlc3RzTGlzdFswXX0gbWFuaWZlc3QgZmlsZWApO1xuICAgICAgICAgICAgaWYgKFJFQURNRXNMaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QucHVzaChgQ2hlY2tlZCAke1JFQURNRXNMaXN0WzBdfSBSRUFETUUgZmlsZWApO1xuICAgICAgICAgICAgaWYgKExJQ0VOU0VzTGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnB1c2goYENoZWNrZWQgJHtMSUNFTlNFc0xpc3RbMF19IExJQ0VOU0UgZmlsZWApO1xuICAgICAgICAgICAgLy8gUHV0IHN1bW1hcnkgbWVzc2FnZXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGlzdCBpZiBtb3JlIHRoYW4gb25lIGZvdW5kXG4gICAgICAgICAgICAvLyBQcm9jZXNzIHRoZXNlIG1lc3NhZ2VzIGluIHRoZSBvcHBvc2l0ZSBvcmRlciB0aGFuIHdlIHdhbnQgdGhlbSB0byBkaXNwbGF5IChzaW5jZSB3ZSBwdXNoIHRvIGJlZ2lubmluZyBvZiBsaXN0IGVhY2ggdGltZSlcbiAgICAgICAgICAgIGlmIChMSUNFTlNFc0xpc3QubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QudW5zaGlmdChgQ2hlY2tlZCAke0xJQ0VOU0VzTGlzdC5sZW5ndGh9IExJQ0VOU0UgZmlsZXM6ICR7TElDRU5TRXNMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAoUkVBRE1Fc0xpc3QubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QudW5zaGlmdChgQ2hlY2tlZCAke1JFQURNRXNMaXN0Lmxlbmd0aH0gUkVBRE1FIGZpbGVzOiAke1JFQURNRXNMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAobWFuaWZlc3RzTGlzdC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC51bnNoaWZ0KGBDaGVja2VkICR7bWFuaWZlc3RzTGlzdC5sZW5ndGh9IG1hbmlmZXN0IGZpbGVzOiAke21hbmlmZXN0c0xpc3Quam9pbignLCAnKX1gKTtcbiAgICAgICAgICAgIGlmIChUU1ZOb3Rlc0xpc3QubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QudW5zaGlmdChgQ2hlY2tlZCAke1RTVk5vdGVzTGlzdC5sZW5ndGh9IFRTViBub3RlcyBmaWxlczogJHtUU1ZOb3Rlc0xpc3Quam9pbignLCAnKX1gKTtcbiAgICAgICAgICAgIGlmIChVU0ZNQm9va0xpc3QubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QudW5zaGlmdChgQ2hlY2tlZCAke1VTRk1Cb29rTGlzdC5sZW5ndGh9IFVTRk0gQmlibGUgZmlsZXM6ICR7VVNGTUJvb2tMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAoVFdMTGlzdC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC51bnNoaWZ0KGBDaGVja2VkICR7VFdMTGlzdC5sZW5ndGh9IFRXTCBmaWxlczogJHtUV0xMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAoVFFMaXN0Lmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnVuc2hpZnQoYENoZWNrZWQgJHtUUUxpc3QubGVuZ3RofSBUUTIgZmlsZXM6ICR7VFFMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAoVE5MaXN0Lmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnVuc2hpZnQoYENoZWNrZWQgJHtUTkxpc3QubGVuZ3RofSBUTiBmaWxlczogJHtUTkxpc3Quam9pbignLCAnKX1gKTtcbiAgICAgICAgICAgIGlmIChUUTJCb29rTGlzdC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC51bnNoaWZ0KGBDaGVja2VkICR7VFEyQm9va0xpc3QubGVuZ3RofSBUUTIgZmlsZXM6ICR7VFEyQm9va0xpc3Quam9pbignLCAnKX1gKTtcbiAgICAgICAgICAgIGlmIChUTjJCb29rTGlzdC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC51bnNoaWZ0KGBDaGVja2VkICR7VE4yQm9va0xpc3QubGVuZ3RofSBUTjIgZmlsZXM6ICR7VE4yQm9va0xpc3Quam9pbignLCAnKX1gKTtcbiAgICAgICAgICAgIGlmIChUTkJvb2tMaXN0Lmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnVuc2hpZnQoYENoZWNrZWQgJHtUTkJvb2tMaXN0Lmxlbmd0aH0gVE4gZmlsZXM6ICR7VE5Cb29rTGlzdC5qb2luKCcsICcpfWApO1xuICAgICAgICAgICAgaWYgKFNUQm9va0xpc3QubGVuZ3RoID4gMSlcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QudW5zaGlmdChgQ2hlY2tlZCAke1NUQm9va0xpc3QubGVuZ3RofSBTVCBmaWxlczogJHtTVEJvb2tMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAoTFRCb29rTGlzdC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC51bnNoaWZ0KGBDaGVja2VkICR7TFRCb29rTGlzdC5sZW5ndGh9IExUIGZpbGVzOiAke0xUQm9va0xpc3Quam9pbignLCAnKX1gKTtcbiAgICAgICAgICAgIC8vIGlmIChUV0xCb29rTGlzdC5sZW5ndGggPiAxKVxuICAgICAgICAgICAgLy8gcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnVuc2hpZnQoYENoZWNrZWQgJHtUV0xCb29rTGlzdC5sZW5ndGh9IFRXTCBmaWxlczogJHtMVEJvb2tMaXN0LmpvaW4oJywgJyl9YCk7XG4gICAgICAgICAgICBpZiAoVUdOVEJvb2tMaXN0Lmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnVuc2hpZnQoYENoZWNrZWQgJHtVR05UQm9va0xpc3QubGVuZ3RofSBVR05UIGZpbGVzOiAke1VHTlRCb29rTGlzdC5qb2luKCcsICcpfWApO1xuICAgICAgICAgICAgaWYgKFVIQkJvb2tMaXN0Lmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnN1Y2Nlc3NMaXN0LnVuc2hpZnQoYENoZWNrZWQgJHtVSEJCb29rTGlzdC5sZW5ndGh9IFVIQiBmaWxlczogJHtVSEJCb29rTGlzdC5qb2luKCcsICcpfWApO1xuICAgICAgICB9XG4gICAgZWxzZSByZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QgPSBbXTtcblxuICAgIC8vIEhhbmRsZSB0aGUgY2hlY2tlZEZpbGVuYW1lcyBsaXN0XG4gICAgLy8gIHdoaWNoIG1pZ2h0IGhhdmUgMTAwcyBvciAxLDAwMHMgb2YgLm1kIGZpbGVuYW1lc1xuICAgIGlmIChyZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVuYW1lcyAmJiByZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVuYW1lcy5sZW5ndGggPiAxMCkge1xuICAgICAgICAvLyBkZWJ1Z0xvZyhgSGF2ZSAke3Jlc3VsdE9iamVjdC5jaGVja2VkRmlsZW5hbWVzLmxlbmd0aH0gY2hlY2tlZEZpbGVuYW1lc2ApO1xuICAgICAgICByZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVuYW1lcyA9IFsuLi5uZXcgU2V0KHJlc3VsdE9iamVjdC5jaGVja2VkRmlsZW5hbWVzKV07IC8vIE9ubHkga2VlcCB1bmlxdWUgb25lc1xuICAgICAgICAvLyBkZWJ1Z0xvZyhgTm93IGhhdmUgJHtyZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVuYW1lcy5sZW5ndGh9IGNoZWNrZWRGaWxlbmFtZXNgKTtcbiAgICAgICAgLy8gZGVidWdMb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0T2JqZWN0LmNoZWNrZWRGaWxlbmFtZXMpKTtcbiAgICB9XG5cbiAgICAvLyBTcGVjaWFsaXNlZCBwcm9jZXNzaW5nXG4gICAgLy8gSWYgaGF2ZSBzNSBtYXJrZXIgd2FybmluZ3MsIGFkZCBvbmUgc3VtbWFyeSBlcnJvclxuICAgIC8vIGNvbnNvbGVMb2dPYmplY3QoJ3N0YW5kYXJkaXNlZE5vdGljZUxpc3QnLCBzdGFuZGFyZGlzZWROb3RpY2VMaXN0KTtcbiAgICBmb3IgKGNvbnN0IHRoaXNQYXJ0aWN1bGFyTm90aWNlIG9mIHN0YW5kYXJkaXNlZE5vdGljZUxpc3QpIHtcbiAgICAgICAgLy8gZGVidWdMb2coXCJ0aGlzUGFydGljdWxhck5vdGljZVwiLCBKU09OLnN0cmluZ2lmeSh0aGlzUGFydGljdWxhck5vdGljZSkpO1xuICAgICAgICBpZiAodGhpc1BhcnRpY3VsYXJOb3RpY2UubWVzc2FnZS5pbmRleE9mKCdcXFxcczUnKSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCB0aGlzTmV3Tm90aWNlID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXNQYXJ0aWN1bGFyTm90aWNlLCBwcmlvcml0eTogNzAxLCBtZXNzYWdlOiBcIlxcXFxzNSBmaWVsZHMgc2hvdWxkIGJlIGNvZGVkIGFzIFxcXFx0c1xcXFwqIG1pbGVzdG9uZXNcIiwgbG9jYXRpb246IGAgaW4gJHtnaXZlbk5vdGljZU9iamVjdC5jaGVja1R5cGV9YCxcbiAgICAgICAgICAgICAgICAvLyBJIHRoaW5rIHdlIG5lZWQgdG8gZGVsZXRlIHRoZXNlIGZpZWxkcyBiZWxvdyBhcyB0aGV5IHdlcmUgcHJvYmFibHkgc2V0IGluIHRoaXNQYXJ0aWN1bGFyTm90aWNlXG4gICAgICAgICAgICAgICAgQzogdW5kZWZpbmVkLCBWOiB1bmRlZmluZWQsIGNoYXJhY3RlckluZGV4OiB1bmRlZmluZWQsIGV4Y2VycHQ6IHVuZGVmaW5lZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGlmICh0aGlzUGFydGljdWxhck5vdGljZS5maWxlbmFtZSAmJiB0aGlzUGFydGljdWxhck5vdGljZS5maWxlbmFtZS5sZW5ndGgpXG4gICAgICAgICAgICAvLyAgICAgdGhpc05ld05vdGljZS5maWxlbmFtZSA9IHRoaXNQYXJ0aWN1bGFyTm90aWNlLmZpbGVuYW1lOyAvLyBTb21ldGltZXMgd2UgaGF2ZSBhbiBhZGRpdGlvbmFsIGZpbGUgaWRlbnRpZmllclxuICAgICAgICAgICAgLy8gaWYgKHRoaXNQYXJ0aWN1bGFyTm90aWNlLnJlcG9OYW1lICYmIHRoaXNQYXJ0aWN1bGFyTm90aWNlLnJlcG9OYW1lLmxlbmd0aClcbiAgICAgICAgICAgIC8vICAgICB0aGlzTmV3Tm90aWNlLnJlcG9OYW1lID0gdGhpc1BhcnRpY3VsYXJOb3RpY2UucmVwb05hbWU7IC8vIFNvbWV0aW1lcyB3ZSBoYXZlIGFuIGFkZGl0aW9uYWwgZmlsZSBpZGVudGlmaWVyXG4gICAgICAgICAgICAvLyBpZiAodGhpc1BhcnRpY3VsYXJOb3RpY2UuZXh0cmEgJiYgdGhpc1BhcnRpY3VsYXJOb3RpY2UuZXh0cmEubGVuZ3RoKVxuICAgICAgICAgICAgLy8gICAgIHRoaXNOZXdOb3RpY2UuZXh0cmEgPSB0aGlzUGFydGljdWxhck5vdGljZS5leHRyYTsgLy8gU29tZXRpbWVzIHdlIGhhdmUgYW4gYWRkaXRpb25hbCBmaWxlIGlkZW50aWZpZXJcbiAgICAgICAgICAgIHN0YW5kYXJkaXNlZE5vdGljZUxpc3QucHVzaCh0aGlzTmV3Tm90aWNlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmVtb3ZlIGFueSBub3RpY2VzIHRoYXQgdGhleSBoYXZlIGFza2VkIHVzIHRvIGlnbm9yZVxuICAgIC8vICBwbHVzIGFueSBmcm9tIG91ciBsaXN0IG9mIGRpc2FibGVkIG5vdGljZXMgKGZvciBjZXJ0YWluIHJlcG9zL2ZpbGVzLCBldGMuKVxuICAgIGxldCByZW1haW5pbmdOb3RpY2VMaXN0ID0gW107XG4gICAgZm9yIChjb25zdCB0aGlzTm90aWNlIG9mIHN0YW5kYXJkaXNlZE5vdGljZUxpc3QpIHtcbiAgICAgICAgaWYgKGlnbm9yZVByaW9yaXR5TnVtYmVyTGlzdC5pbmNsdWRlcyh0aGlzTm90aWNlLnByaW9yaXR5KSlcbiAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1JZ25vcmVkTm90aWNlcysrO1xuICAgICAgICBlbHNlIGlmIChpc0Rpc2FibGVkTm90aWNlKHRoaXNOb3RpY2UpKVxuICAgICAgICAgICAgaWYgKHNob3dEaXNhYmxlZE5vdGljZXNGbGFnKSB7XG4gICAgICAgICAgICAgICAgdGhpc05vdGljZS5tZXNzYWdlID0gYChkaXNhYmxlZCkgJHt0aGlzTm90aWNlLm1lc3NhZ2V9YDtcbiAgICAgICAgICAgICAgICByZW1haW5pbmdOb3RpY2VMaXN0LnB1c2godGhpc05vdGljZSk7XG4gICAgICAgICAgICB9IGVsc2UgLy8gaWdub3JlIGl0IGFzIHVzdWFsXG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bURpc2FibGVkTm90aWNlcysrO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZW1haW5pbmdOb3RpY2VMaXN0LnB1c2godGhpc05vdGljZSk7XG4gICAgfVxuICAgIGlmIChyZXN1bHRPYmplY3QubnVtSWdub3JlZE5vdGljZXMpXG4gICAgICAgIHVzZXJMb2coYHByb2Nlc3NOb3RpY2VzQ29tbW9uOiBJZ25vcmVkICR7cmVzdWx0T2JqZWN0Lm51bUlnbm9yZWROb3RpY2VzLnRvTG9jYWxlU3RyaW5nKCl9IGdlbmVyaWMgbm90aWNlKHMpIG91dCBvZiAke2dpdmVuTm90aWNlT2JqZWN0Lm5vdGljZUxpc3QubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9YCk7XG4gICAgaWYgKHJlc3VsdE9iamVjdC5udW1EaXNhYmxlZE5vdGljZXMpXG4gICAgICAgIHVzZXJMb2coYHByb2Nlc3NOb3RpY2VzQ29tbW9uOiBEaXNhYmxlZCAke3Jlc3VsdE9iamVjdC5udW1EaXNhYmxlZE5vdGljZXMudG9Mb2NhbGVTdHJpbmcoKX0gc3BlY2lmaWMgbm90aWNlKHMpIG91dCBvZiAke2dpdmVuTm90aWNlT2JqZWN0Lm5vdGljZUxpc3QubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9YCk7XG5cbiAgICAvLyBDdXQgb2ZmIHRoZSBsb3dlc3QgcHJpb3JpdHkgbm90aWNlcyBpZiByZXF1ZXN0ZWRcbiAgICBpZiAoY3V0b2ZmUHJpb3JpdHlMZXZlbCA+IDApIHtcbiAgICAgICAgY29uc3QgbmV3Tm90aWNlTGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHRoaXNOb3RpY2Ugb2YgcmVtYWluaW5nTm90aWNlTGlzdClcbiAgICAgICAgICAgIGlmICh0aGlzTm90aWNlLnByaW9yaXR5IDwgY3V0b2ZmUHJpb3JpdHlMZXZlbClcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtU3VwcHJlc3NlZE5vdGljZXMrKztcbiAgICAgICAgICAgIGVsc2UgbmV3Tm90aWNlTGlzdC5wdXNoKHRoaXNOb3RpY2UpO1xuICAgICAgICByZW1haW5pbmdOb3RpY2VMaXN0ID0gbmV3Tm90aWNlTGlzdDtcbiAgICB9XG4gICAgLy8gaWYgKGN1dG9mZlByaW9yaXR5TGV2ZWwgPiBlcnJvclByaW9yaXR5TGV2ZWwpXG4gICAgLy8gcmVzdWx0T2JqZWN0LmVycm9yTGlzdC5wdXNoKHs5OTksIFwiQ3V0b2ZmIGxldmVsIG11c3Qgbm90IGJlIGhpZ2hlciB0aGFuIGVycm9yIGxldmVsXCIsIGV4Y2VycHQ6YCgke2N1dG9mZlByaW9yaXR5TGV2ZWx9IHZzICR7ZXJyb3JQcmlvcml0eUxldmVsfSlgLCBcIiBpbiBwcm9jZXNzTm90aWNlc0NvbW1vbiBvcHRpb25zXCJdKTtcblxuICAgIC8vIEVuc3VyZSB0aGF0IG91ciBkaXNwbGF5ZWQgbWVzc2FnZSBsaXN0IGRvZXNuJ3QgZW5kIHVwIHRvbyBodWdlIGZvciB0aGUgYnJvd3NlciB0byBoYW5kbGVcbiAgICBpZiAocmVtYWluaW5nTm90aWNlTGlzdC5sZW5ndGggPiA2MDAwKSB7XG4gICAgICAgIG1heGltdW1IaWRkZW5Ob3RpY2VzID0gTWF0aC5taW4oMjAsIG1heGltdW1IaWRkZW5Ob3RpY2VzKTtcbiAgICAgICAgbWF4aW11bUhpZGRlbk5vdGljZXNNZXNzYWdlID0gYEZ1cnRoZXIgaGlkZGVuIG5vdGljZXMgKGJleW9uZCAke21heGltdW1IaWRkZW5Ob3RpY2VzfSkgd2VyZSBzdXBwcmVzc2VkIWA7XG4gICAgfVxuICAgIGlmIChyZW1haW5pbmdOb3RpY2VMaXN0Lmxlbmd0aCA+IDEwMDAwKSB7XG4gICAgICAgIG1heGltdW1TaW1pbGFyTWVzc2FnZXMgPSBNYXRoLm1pbigyLCBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzKTtcbiAgICAgICAgc3RhbmRhcmRpc2VkTm90aWNlTGlzdC5wdXNoKHsgcHJpb3JpdHk6IDEsIG1lc3NhZ2U6IGBSZWR1Y2VkIG51bWJlcnMgb2Ygc2ltaWxhciBhbmQgaGlkZGVuIG1lc3NhZ2VzIGJlY2F1c2Ugb2YgbGFyZ2UgbGlzdCAoJHtzdGFuZGFyZGlzZWROb3RpY2VMaXN0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSlgLCBsb2NhdGlvbjogXCIgZHVyaW5nIG5vdGljZSBwcm9jZXNzaW5nXCIgfSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCB0aGUgcmVtYWluaW5nTm90aWNlTGlzdCBhcyByZXF1aXJlZFxuICAgIGNvbnN0IFNPUlRfTElTVCA9IFsnVE4nLCAnVE4yJywgJ0xUJywgJ1NUJywgJ1VIQicsICdVR05UJywgJ1RXTCcsICdUVycsICdUUScsICdUUTInLCAnU04nLCAnU1EnLCAnVEEnLCB1bmRlZmluZWQsICdSRUFETUUnLCAnTElDRU5TRSddO1xuICAgIGlmIChzb3J0QnkgPT09ICdCeVByaW9yaXR5JyB8fCBzb3J0QnkgPT09ICdCeVJlcG8nKVxuICAgICAgICAvLyBOT1RFOiBXZSBkbyBoYXZlIHNvbWUgbm90aWNlcyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGJ1dCBkaWZmZXJlbnQgYWN0dWFsIG1lc3NhZ2VzLCBlc3AuIDE5MSBVbmV4cGVjdGVkIHh4IGNoYXJhY3RlciBhZnRlciBzcGFjZVxuICAgICAgICByZW1haW5pbmdOb3RpY2VMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGAke1N0cmluZyhiLnByaW9yaXR5KS5wYWRTdGFydCgzLCAnMCcpfSR7Yi5tZXNzYWdlfWAgPiBgJHtTdHJpbmcoYS5wcmlvcml0eSkucGFkU3RhcnQoMywgJzAnKX0ke2EubWVzc2FnZX1gOyB9KTtcbiAgICBlbHNlIGlmIChzb3J0QnkgIT09ICdBc0ZvdW5kJylcbiAgICAgICAgY29uc29sZS5lcnJvcihgU29ydGluZyAnJHtzb3J0Qnl9JyBpcyBub3QgaW1wbGVtZW50ZWQgeWV0ISEhYCk7XG4gICAgaWYgKHNvcnRCeSA9PT0gJ0J5UmVwbycpIC8vIHNvcnQgYWdhaW4gYnkgcmVwb0NvZGUgc3RyaW5nXG4gICAgICAgIHJlbWFpbmluZ05vdGljZUxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gU09SVF9MSVNULmluZGV4T2YoYS5yZXBvQ29kZSkgLSBTT1JUX0xJU1QuaW5kZXhPZihiLnJlcG9Db2RlKTsgfSk7XG4gICAgLy8gcmVtYWluaW5nTm90aWNlTGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBiLnJlcG9Db2RlID4gYS5yZXBvQ29kZTsgfSk7XG5cbiAgICAvLyBBZGQgaW4gZXh0cmEgaW5mbyBpZiBpdOKAmXMgdGhlcmUgLS0gZGVmYXVsdCBpcyB0byBwcmVwZW5kIGl0IHRvIHRoZSBtc2dcbiAgICAvLyAgRG9pbmcgdGhpcyBwcmV2ZW50cyBlcnJvcnMvd2FybmluZ3MgZnJvbSBkaWZmZXJlbnQgcmVwb3Mgb3IgYm9va3MgZnJvbSBiZWluZyBjb21iaW5lZFxuICAgIGlmIChyZW1haW5pbmdOb3RpY2VMaXN0Lmxlbmd0aFxuICAgICAgICAmJiByZW1haW5pbmdOb3RpY2VMaXN0WzBdLmV4dHJhICYmIHJlbWFpbmluZ05vdGljZUxpc3RbMF0uZXh0cmEubGVuZ3RoKSB7XG4gICAgICAgIC8vIGRlYnVnTG9nKGBXZSBuZWVkIHRvIGFkZCB0aGUgZXh0cmEgbG9jYXRpb24sIGUuZy4gJyR7cmVtYWluaW5nTm90aWNlTGlzdFswXVs1XX0nOiB3aWxsIHByZXBlbmQgaXQgdG8gdGhlIG1lc3NhZ2VzYCk7XG4gICAgICAgIGNvbnN0IG5ld05vdGljZUxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB0aGlzTm90aWNlIG9mIHJlbWFpbmluZ05vdGljZUxpc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoaXNFeHRyYSA9IHRoaXNOb3RpY2UuZXh0cmE7XG4gICAgICAgICAgICAvLyBsb2dpY0Fzc2VydCh0aGlzRXh0cmEgJiYgdGhpc0V4dHJhLmxlbmd0aCwgYEV4cGVjdCB0aGlzTm90aWNlIHRvIGhhdmUgYW4gXCJleHRyYVwiIGZpZWxkOiAke0pTT04uc3RyaW5naWZ5KHRoaXNOb3RpY2UpfWApXG4gICAgICAgICAgICBjb25zdCBuZXdOb3RpY2UgPSB7IC4uLnRoaXNOb3RpY2UgfTtcbiAgICAgICAgICAgIC8vIFdlIGRvbuKAmXQgbmVlZCB0aGUgZXh0cmEgZmllbGQgaWYgd2UndmUgYWxyZWFkeSBnb3QgdGhpcyBpbmZvXG4gICAgICAgICAgICBpZiAodGhpc0V4dHJhICYmIHRoaXNFeHRyYSAhPT0gdGhpc05vdGljZS5yZXBvTmFtZSAmJiB0aGlzRXh0cmEgIT09IHRoaXNOb3RpY2UuYm9va0lEKVxuICAgICAgICAgICAgICAgIG5ld05vdGljZS5tZXNzYWdlID0gYCR7dGhpc0V4dHJhfSAke3RoaXNOb3RpY2UubWVzc2FnZX1gO1xuICAgICAgICAgICAgZGVsZXRlIG5ld05vdGljZS5leHRyYTsgLy8gc2luY2Ugd2UndmUgdXNlZCBpdCAoaWYgaXQgZXhpc3RlZClcbiAgICAgICAgICAgIG5ld05vdGljZUxpc3QucHVzaChuZXdOb3RpY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJlbWFpbmluZ05vdGljZUxpc3QgPSBuZXdOb3RpY2VMaXN0O1xuICAgIH1cblxuICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2Ygb2NjdXJyZW5jZXMgb2YgZWFjaCBtZXNzYWdlXG4gICAgLy8gIHJlYWR5IGZvciBmdXJ0aGVyIHByb2Nlc3NpbmdcbiAgICBjb25zdCBhbGxUb3RhbHMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHRoaXNOb3RpY2Ugb2YgcmVtYWluaW5nTm90aWNlTGlzdCkge1xuICAgICAgICBjb25zdCB0aGlzQ29tYmluZWRJRCA9IGAke1N0cmluZyh0aGlzTm90aWNlLnByaW9yaXR5KS5wYWRTdGFydCgzLCAnMCcpfSR7dGhpc05vdGljZS5tZXNzYWdlfWA7IC8vIENvdWxkIGhhdmUgaWRlbnRpY2FsIHdvcmRlZCBtZXNzYWdlcyBidXQgd2l0aCBkaWZmZXJlbnQgcHJpb3JpdGllc1xuICAgICAgICBpZiAoaXNOYU4oYWxsVG90YWxzW3RoaXNDb21iaW5lZElEXSkpIGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0gPSAxO1xuICAgICAgICBlbHNlIGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0rKztcbiAgICB9XG5cbiAgICAvLyBkZWJ1Z0xvZyhgcHJvY2Vzc05vdGljZXNDb21tb24gaXMgcmV0dXJuaW5nIHJlc3VsdE9iamVjdD0ke0pTT04uc3RyaW5naWZ5KHJlc3VsdE9iamVjdCl9YCk7XG4gICAgcmV0dXJuIFtyZW1haW5pbmdOb3RpY2VMaXN0LCBhbGxUb3RhbHMsIHJlc3VsdE9iamVjdF07XG59XG4vLyBlbmQgb2YgcHJvY2Vzc05vdGljZXNDb21tb24gZnVuY3Rpb25cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZ2l2ZW5Ob3RpY2VPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IGNvbnRhaW5pbmcgZXJyb3JMaXN0IGFuZCB3YXJuaW5nTGlzdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc05vdGljZXNUb0Vycm9yc1dhcm5pbmdzKGdpdmVuTm90aWNlT2JqZWN0LCBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zKSB7XG4gICAgLypcbiAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnMgYXJlOlxuICAgICAgICAgICAgZXJyb3JQcmlvcml0eUxldmVsIChpbnRlZ2VyOyBkZWZhdWx0IGlzIERFRkFVTFRfRVJST1JfUFJJT1JJVFlfTEVWRUwgYWJvdmUpXG4gICAgICAgICAgICBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzIChpbnRlZ2VyOyBkZWZhdWx0IGlzIERFRkFVTFRfTUFYSU1VTV9TSU1JTEFSX01FU1NBR0VTIGFib3ZlKVxuXG4gICAgICAgIFJldHVybnMgYW4gb2JqZWN0IHdpdGg6XG4gICAgICAgICAgICBzdWNjZXNzTGlzdDogYSBsaXN0IG9mIHN0cmluZ3MgZGVzY3JpYmluZyB3aGF0IGhhcyBiZWVuIGNoZWNrZWRcbiAgICAgICAgICAgIGVycm9yTGlzdFxuICAgICAgICAgICAgd2FybmluZ0xpc3RcbiAgICAgICAgICAgIG51bUlnbm9yZWROb3RpY2VzLCBudW1EaXNhYmxlZE5vdGljZXMsIG51bVN1cHByZXNzZWROb3RpY2VzLCBudW1IaWRkZW5FcnJvcnMsIG51bUhpZGRlbldhcm5pbmdzXG4gICAgICAgICAgICBwcm9jZXNzaW5nT3B0aW9uczoganVzdCBoZWxwZnVsbHkgcGFzc2VzIG9uIHdoYXQgd2Ugd2VyZSBnaXZlbiAobWF5IGJlIHVuZGVmaW5lZClcbiAgICAgICAgQWxzbywgYW55IG90aGVyIHBhcmFtZXRlcnMgYXJlIGp1c3QgcGFzc2VkIHRocm91Z2gsXG4gICAgICAgICAgICBhbHRob3VnaCBmaWxlbmFtZUxpc3QgbWlnaHQgYmUgYWJicmV2aWF0ZWQsIGUuZy4gZm9yIDEwMHMgb2YgLm1kIGZpbGVzLlxuICAgICovXG4gICAgLy8gICAgIHVzZXJMb2coYHByb2Nlc3NOb3RpY2VzVG9FcnJvcnNXYXJuaW5ncyB2JHtOT1RJQ0VfUFJPQ0VTU09SX1ZFUlNJT05fU1RSSU5HfSB3aXRoIG9wdGlvbnM9JHtKU09OLnN0cmluZ2lmeShvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zKX1cbiAgICAvLyAgICBHaXZlbiAke2dpdmVuTm90aWNlT2JqZWN0LnN1Y2Nlc3NMaXN0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSBzdWNjZXNzIHN0cmluZyhzKSBwbHVzICR7Z2l2ZW5Ob3RpY2VPYmplY3Qubm90aWNlTGlzdC5sZW5ndGgudG9Mb2NhbGVTdHJpbmcoKX0gbm90aWNlKHMpYCk7XG5cbiAgICBjb25zdCBbcmVtYWluaW5nTm90aWNlTGlzdCwgYWxsVG90YWxzLCByZXN1bHRPYmplY3RdID0gcHJvY2Vzc05vdGljZXNDb21tb24oZ2l2ZW5Ob3RpY2VPYmplY3QsIG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMpO1xuXG4gICAgLy8gQWRkIHRoZSBmaWVsZHMgdGhhdCB3ZSBuZWVkIGhlcmUgdG8gdGhlIGV4aXN0aW5nIHJlc3VsdE9iamVjdFxuICAgIHJlc3VsdE9iamVjdC5lcnJvckxpc3QgPSBbXTsgcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0ID0gW107XG4gICAgcmVzdWx0T2JqZWN0Lm51bUhpZGRlbkVycm9ycyA9IDA7IHJlc3VsdE9iamVjdC5udW1IaWRkZW5XYXJuaW5ncyA9IDA7XG5cbiAgICBsZXQgZXJyb3JQcmlvcml0eUxldmVsO1xuICAgIHRyeSB7XG4gICAgICAgIGVycm9yUHJpb3JpdHlMZXZlbCA9IG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMuZXJyb3JQcmlvcml0eUxldmVsO1xuICAgIH0gY2F0Y2ggKG5wZkVQTGVycm9yKSB7IH1cbiAgICBpZiAoZXJyb3JQcmlvcml0eUxldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXJyb3JQcmlvcml0eUxldmVsID0gREVGQVVMVF9FUlJPUl9QUklPUklUWV9MRVZFTDtcbiAgICAgICAgLy8gZGVidWdMb2coYFVzaW5nIGRlZmF1bHQgZXJyb3JQcmlvcml0eUxldmVsPSR7ZXJyb3JQcmlvcml0eUxldmVsfWApO1xuICAgIH1cbiAgICBlbHNlIHVzZXJMb2coYFVzaW5nIHN1cHBsaWVkIGVycm9yUHJpb3JpdHlMZXZlbD0ke2Vycm9yUHJpb3JpdHlMZXZlbH0gY2YuIGRlZmF1bHQ9JHtERUZBVUxUX0VSUk9SX1BSSU9SSVRZX0xFVkVMfWApO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHJlcGVhdGVkIG5vdGljZXMgdGhhdCBzaG91bGQgYmUgY29tcHJlc3NlZFxuICAgIC8vICB3aGlsZSBzaW11bHRhbmVvdXNseSBzZXBhcmF0aW5nIGludG8gZXJyb3IgYW5kIHdhcm5pbmcgbGlzdHNcbiAgICBsZXQgY291bnRlciA9IHt9O1xuICAgIGZvciAoY29uc3QgdGhpc05vdGljZSBvZiByZW1haW5pbmdOb3RpY2VMaXN0KSB7XG4gICAgICAgIGNvbnN0IHRoaXNQcmlvcml0eSA9IHRoaXNOb3RpY2UucHJpb3JpdHksIHRoaXNNc2cgPSB0aGlzTm90aWNlLm1lc3NhZ2U7XG4gICAgICAgIGNvbnN0IHRoaXNDb21iaW5lZElEID0gYCR7U3RyaW5nKHRoaXNOb3RpY2UucHJpb3JpdHkpLnBhZFN0YXJ0KDMsICcwJyl9JHt0aGlzTm90aWNlLm1lc3NhZ2V9YDsgLy8gQ291bGQgaGF2ZSBpZGVudGljYWwgd29yZGVkIG1lc3NhZ2VzIGJ1dCB3aXRoIGRpZmZlcmVudCBwcmlvcml0aWVzXG4gICAgICAgIGlmIChpc05hTihjb3VudGVyW3RoaXNDb21iaW5lZElEXSkpIGNvdW50ZXJbdGhpc0NvbWJpbmVkSURdID0gMTtcbiAgICAgICAgZWxzZSBjb3VudGVyW3RoaXNDb21iaW5lZElEXSsrO1xuICAgICAgICBpZiAobWF4aW11bVNpbWlsYXJNZXNzYWdlcyA+IDAgJiYgYWxsVG90YWxzW3RoaXNDb21iaW5lZElEXSA+IG1heGltdW1TaW1pbGFyTWVzc2FnZXMgKyAxICYmIGNvdW50ZXJbdGhpc0NvbWJpbmVkSURdID09PSBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzICsgMSkge1xuICAgICAgICAgICAgaWYgKHRoaXNQcmlvcml0eSA+PSBlcnJvclByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1IaWRkZW4gPSBhbGxUb3RhbHNbdGhpc0NvbWJpbmVkSURdIC0gbWF4aW11bVNpbWlsYXJNZXNzYWdlcztcbiAgICAgICAgICAgICAgICBsb2dpY0Fzc2VydChudW1IaWRkZW4gIT09IDEsIGBTaG91bGRu4oCZdCBzdXBwcmVzcyBqdXN0IG9uZSBlcnJvciBvZiBwcmlvcml0eSAke3RoaXNQcmlvcml0eX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGpIaWRkZW4gPSBNYXRoLm1pbihudW1IaWRkZW4sIG1heGltdW1IaWRkZW5Ob3RpY2VzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1TdXBwcmVzc2VkID0gbnVtSGlkZGVuIC0gYWRqSGlkZGVuO1xuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5lcnJvckxpc3QucHVzaCh7IHByaW9yaXR5OiB0aGlzUHJpb3JpdHksIG1lc3NhZ2U6IHRoaXNNc2csIGxvY2F0aW9uOiBgIOKGkSAke2FkakhpZGRlbi50b0xvY2FsZVN0cmluZygpfSBNT1JFIFNJTUlMQVIgRVJST1Ike2FkakhpZGRlbiA9PT0gMSA/ICcnIDogJ1MnfSBISURERU4ke251bVN1cHByZXNzZWQgPyBgIChQTFVTICR7bnVtU3VwcHJlc3NlZC50b0xvY2FsZVN0cmluZygpfSBTVVBQUkVTU0VEKWAgOiAnJ31gLCBoaWRkZW5Ob3RpY2VzOiBbdGhpc05vdGljZV0gfSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bUhpZGRlbkVycm9ycysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1IaWRkZW4gPSBhbGxUb3RhbHNbdGhpc0NvbWJpbmVkSURdIC0gbWF4aW11bVNpbWlsYXJNZXNzYWdlcztcbiAgICAgICAgICAgICAgICBsb2dpY0Fzc2VydChudW1IaWRkZW4gIT09IDEsIGBTaG91bGRu4oCZdCBzdXBwcmVzcyBqdXN0IG9uZSB3YXJuaW5nIG9mIHByaW9yaXR5ICR7dGhpc1ByaW9yaXR5fWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkakhpZGRlbiA9IE1hdGgubWluKG51bUhpZGRlbiwgbWF4aW11bUhpZGRlbk5vdGljZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bVN1cHByZXNzZWQgPSBudW1IaWRkZW4gLSBhZGpIaWRkZW47XG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0LnB1c2goeyBwcmlvcml0eTogdGhpc1ByaW9yaXR5LCBtZXNzYWdlOiB0aGlzTXNnLCBsb2NhdGlvbjogYCDihpEgJHthZGpIaWRkZW4udG9Mb2NhbGVTdHJpbmcoKX0gTU9SRSBTSU1JTEFSIFdBUk5JTkcke2FkakhpZGRlbiA9PT0gMSA/ICcnIDogJ1MnfSBISURERU4ke251bVN1cHByZXNzZWQgPyBgIChQTFVTICR7bnVtU3VwcHJlc3NlZC50b0xvY2FsZVN0cmluZygpfSBTVVBQUkVTU0VEKWAgOiAnJ31gLCBoaWRkZW5Ob3RpY2VzOiBbdGhpc05vdGljZV0gfSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bUhpZGRlbldhcm5pbmdzKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWF4aW11bVNpbWlsYXJNZXNzYWdlcyA+IDAgJiYgY291bnRlclt0aGlzQ29tYmluZWRJRF0gPiBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzICsgMSkge1xuICAgICAgICAgICAgaWYgKHRoaXNQcmlvcml0eSA+PSBlcnJvclByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c09iamVjdCA9IHJlc3VsdE9iamVjdC5lcnJvckxpc3RbcmVzdWx0T2JqZWN0LmVycm9yTGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5sZW5ndGggPCBtYXhpbXVtSGlkZGVuTm90aWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5wdXNoKHRoaXNOb3RpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bUhpZGRlbkVycm9ycysrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBzdXBwcmVzcyB0aGVzZSBleGNlc3Mgbm90aWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEhpZGRlbk5vdGljZU9iamVjdCA9IHByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXNbcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0SGlkZGVuTm90aWNlT2JqZWN0Lm1lc3NhZ2UgIT09IG1heGltdW1IaWRkZW5Ob3RpY2VzTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLnB1c2goeyBwcmlvcml0eTogdGhpc05vdGljZS5wcmlvcml0eSwgbWVzc2FnZTogbWF4aW11bUhpZGRlbk5vdGljZXNNZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bVN1cHByZXNzZWROb3RpY2VzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8vIHByZXN1bWFibHkgbm8gaGlkZGVuIE5vdGljZXMgaW4gcHJldmlvdXMgT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KCFwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLCBgRGlkbid0IGV4cGVjdGVkIGhpZGRlbk5vdGljZXMgdG8gYmUgZGVmaW5lZDogJHtKU09OLnN0cmluZ2lmeShwcmV2aW91c09iamVjdCl9IGVycm9yIHdhczogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1TdXBwcmVzc2VkTm90aWNlcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNPYmplY3QgPSByZXN1bHRPYmplY3Qud2FybmluZ0xpc3RbcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLmxlbmd0aCA8IG1heGltdW1IaWRkZW5Ob3RpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLnB1c2godGhpc05vdGljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuV2FybmluZ3MrKztcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gc3VwcHJlc3MgdGhlc2UgZXhjZXNzIG5vdGljZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RIaWRkZW5Ob3RpY2VPYmplY3QgPSBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzW3ByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdEhpZGRlbk5vdGljZU9iamVjdC5tZXNzYWdlICE9PSBtYXhpbXVtSGlkZGVuTm90aWNlc01lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5wdXNoKHsgcHJpb3JpdHk6IHRoaXNOb3RpY2UucHJpb3JpdHksIG1lc3NhZ2U6IG1heGltdW1IaWRkZW5Ob3RpY2VzTWVzc2FnZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1TdXBwcmVzc2VkTm90aWNlcysrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAvLyBwcmVzdW1hYmx5IG5vIGhpZGRlbiBOb3RpY2VzIGluIHByZXZpb3VzIE9iamVjdFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydCghcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcywgYERpZG4ndCBleHBlY3RlZCBoaWRkZW5Ob3RpY2VzIHRvIGJlIGRlZmluZWQ6ICR7SlNPTi5zdHJpbmdpZnkocHJldmlvdXNPYmplY3QpfSBlcnJvciB3YXM6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtU3VwcHJlc3NlZE5vdGljZXMrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpc1ByaW9yaXR5ID49IGVycm9yUHJpb3JpdHlMZXZlbClcbiAgICAgICAgICAgIHJlc3VsdE9iamVjdC5lcnJvckxpc3QucHVzaCh0aGlzTm90aWNlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0LnB1c2godGhpc05vdGljZSk7XG4gICAgfVxuXG4gICAgLy8gZGVidWdMb2coYHByb2Nlc3NOb3RpY2VzVG9FcnJvcnNXYXJuaW5ncyBpcyByZXR1cm5pbmcgJHtyZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QubGVuZ3RofSBzdWNjZXNzZXMsICR7cmVzdWx0T2JqZWN0LmVycm9yTGlzdC5sZW5ndGh9IGVycm9ycywgYW5kICR7cmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0Lmxlbmd0aH0gd2FybmluZ3NcbiAgICAvLyAgIG51bUlnbm9yZWROb3RpY2VzPSR7cmVzdWx0T2JqZWN0Lm51bUlnbm9yZWROb3RpY2VzfSBudW1IaWRkZW5FcnJvcnM9JHtyZXN1bHRPYmplY3QubnVtSGlkZGVuRXJyb3JzfSBudW1IaWRkZW5XYXJuaW5ncz0ke3Jlc3VsdE9iamVjdC5udW1IaWRkZW5XYXJuaW5nc31gKTtcbiAgICByZXR1cm4gcmVzdWx0T2JqZWN0O1xufVxuLy8gZW5kIG9mIHByb2Nlc3NOb3RpY2VzVG9FcnJvcnNXYXJuaW5ncyBmdW5jdGlvblxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBnaXZlbk5vdGljZU9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gY29udGFpbmluZyBzZXZlcmVMaXN0LCBtZWRpdW1MaXN0LCBhbmQgbG93TGlzdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc05vdGljZXNUb1NldmVyZU1lZGl1bUxvdyhnaXZlbk5vdGljZU9iamVjdCwgb3B0aW9uYWxQcm9jZXNzaW5nT3B0aW9ucykge1xuICAgIC8qXG4gICAgICAgIEF2YWlsYWJsZSBvcHRpb25zIGFyZTpcbiAgICAgICAgICAgIHNldmVyZVByaW9yaXR5TGV2ZWwgKGludGVnZXI7IGRlZmF1bHQgaXMgREVGQVVMVF9TRVZFUkVfUFJJT1JJVFlfTEVWRUwgYWJvdmUpXG4gICAgICAgICAgICBtZWRpdW1Qcmlvcml0eUxldmVsIChpbnRlZ2VyOyBkZWZhdWx0IGlzIERFRkFVTFRfTUVESVVNX1BSSU9SSVRZX0xFVkVMIGFib3ZlKVxuICAgICAgICAgICAgbWF4aW11bVNpbWlsYXJNZXNzYWdlcyAoaW50ZWdlcjsgZGVmYXVsdCBpcyBERUZBVUxUX01BWElNVU1fU0lNSUxBUl9NRVNTQUdFUyBhYm92ZSlcblxuICAgICAgICBSZXR1cm5zIGFuIG9iamVjdCB3aXRoOlxuICAgICAgICAgICAgc3VjY2Vzc0xpc3Q6IGEgbGlzdCBvZiBzdHJpbmdzIGRlc2NyaWJpbmcgd2hhdCBoYXMgYmVlbiBjaGVja2VkXG4gICAgICAgICAgICBzZXZlcmVMaXN0XG4gICAgICAgICAgICBtZWRpdW1MaXN0XG4gICAgICAgICAgICBsb3dMaXN0XG4gICAgICAgICAgICBudW1JZ25vcmVkTm90aWNlcywgbnVtRGlzYWJsZWROb3RpY2VzLCBudW1TdXBwcmVzc2VkTm90aWNlcywgbnVtSGlkZGVuU2V2ZXJlLCBudW1IaWRkZW5NZWRpdW0sIG51bUhpZGRlbkxvd1xuICAgICAgICAgICAgcHJvY2Vzc2luZ09wdGlvbnM6IGp1c3QgaGVscGZ1bGx5IHBhc3NlcyBvbiB3aGF0IHdlIHdlcmUgZ2l2ZW4gKG1heSBiZSB1bmRlZmluZWQpXG4gICAgICAgIEFsc28sIGFueSBvdGhlciBwYXJhbWV0ZXJzIGFyZSBqdXN0IHBhc3NlZCB0aHJvdWdoLFxuICAgICAgICAgICAgYWx0aG91Z2ggZmlsZW5hbWVMaXN0IG1pZ2h0IGJlIGFiYnJldmlhdGVkLCBlLmcuIGZvciAxMDBzIG9mIC5tZCBmaWxlcy5cbiAgICAqL1xuICAgIC8vICAgICB1c2VyTG9nKGBwcm9jZXNzTm90aWNlc1RvU2V2ZXJlTWVkaXVtTG93IHYke05PVElDRV9QUk9DRVNTT1JfVkVSU0lPTl9TVFJJTkd9IHdpdGggb3B0aW9ucz0ke0pTT04uc3RyaW5naWZ5KG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMpfVxuICAgIC8vICAgIEdpdmVuICR7Z2l2ZW5Ob3RpY2VPYmplY3Quc3VjY2Vzc0xpc3QubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9IHN1Y2Nlc3Mgc3RyaW5nKHMpIHBsdXMgJHtnaXZlbk5vdGljZU9iamVjdC5ub3RpY2VMaXN0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSBub3RpY2UocylgKTtcblxuICAgIGNvbnN0IFtyZW1haW5pbmdOb3RpY2VMaXN0LCBhbGxUb3RhbHMsIHJlc3VsdE9iamVjdF0gPSBwcm9jZXNzTm90aWNlc0NvbW1vbihnaXZlbk5vdGljZU9iamVjdCwgb3B0aW9uYWxQcm9jZXNzaW5nT3B0aW9ucyk7XG5cbiAgICAvLyBBZGQgdGhlIGZpZWxkcyB0aGF0IHdlIG5lZWQgaGVyZSB0byB0aGUgZXhpc3RpbmcgcmVzdWx0T2JqZWN0XG4gICAgcmVzdWx0T2JqZWN0LnNldmVyZUxpc3QgPSBbXTsgcmVzdWx0T2JqZWN0Lm1lZGl1bUxpc3QgPSBbXTsgcmVzdWx0T2JqZWN0Lmxvd0xpc3QgPSBbXTtcbiAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuU2V2ZXJlID0gMDsgcmVzdWx0T2JqZWN0Lm51bUhpZGRlbk1lZGl1bSA9IDA7IHJlc3VsdE9iamVjdC5udW1IaWRkZW5Mb3cgPSAwO1xuXG4gICAgbGV0IHNldmVyZVByaW9yaXR5TGV2ZWw7XG4gICAgdHJ5IHtcbiAgICAgICAgc2V2ZXJlUHJpb3JpdHlMZXZlbCA9IG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMuc2V2ZXJlUHJpb3JpdHlMZXZlbDtcbiAgICB9IGNhdGNoIChucGZTUExlcnJvcikgeyB9XG4gICAgaWYgKHNldmVyZVByaW9yaXR5TGV2ZWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBzZXZlcmVQcmlvcml0eUxldmVsID0gREVGQVVMVF9TRVZFUkVfUFJJT1JJVFlfTEVWRUw7XG4gICAgICAgIC8vIGRlYnVnTG9nKGBVc2luZyBkZWZhdWx0IHNldmVyZVByaW9yaXR5TGV2ZWw9JHtzZXZlcmVQcmlvcml0eUxldmVsfWApO1xuICAgIH1cbiAgICBlbHNlIHVzZXJMb2coYFVzaW5nIHN1cHBsaWVkIHNldmVyZVByaW9yaXR5TGV2ZWw9JHtzZXZlcmVQcmlvcml0eUxldmVsfSBjZi4gZGVmYXVsdD0ke0RFRkFVTFRfU0VWRVJFX1BSSU9SSVRZX0xFVkVMfWApO1xuICAgIGxldCBtZWRpdW1Qcmlvcml0eUxldmVsO1xuICAgIHRyeSB7XG4gICAgICAgIG1lZGl1bVByaW9yaXR5TGV2ZWwgPSBvcHRpb25hbFByb2Nlc3NpbmdPcHRpb25zLm1lZGl1bVByaW9yaXR5TGV2ZWw7XG4gICAgfSBjYXRjaCAobmZwTVBMZXJyb3IpIHsgfVxuICAgIGlmIChtZWRpdW1Qcmlvcml0eUxldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbWVkaXVtUHJpb3JpdHlMZXZlbCA9IERFRkFVTFRfTUVESVVNX1BSSU9SSVRZX0xFVkVMO1xuICAgICAgICAvLyBkZWJ1Z0xvZyhgVXNpbmcgZGVmYXVsdCBtZWRpdW1Qcmlvcml0eUxldmVsPSR7bWVkaXVtUHJpb3JpdHlMZXZlbH1gKTtcbiAgICB9XG4gICAgZWxzZSB1c2VyTG9nKGBVc2luZyBzdXBwbGllZCBtZWRpdW1Qcmlvcml0eUxldmVsPSR7bWVkaXVtUHJpb3JpdHlMZXZlbH0gY2YuIGRlZmF1bHQ9JHtERUZBVUxUX01FRElVTV9QUklPUklUWV9MRVZFTH1gKTtcblxuICAgIC8vIENoZWNrIGZvciByZXBlYXRlZCBub3RpY2VzIHRoYXQgc2hvdWxkIGJlIGNvbXByZXNzZWRcbiAgICAvLyAgd2hpbGUgc2ltdWx0YW5lb3VzbHkgc2VwYXJhdGluZyBpbnRvIGVycm9yIGFuZCB3YXJuaW5nIGxpc3RzXG4gICAgbGV0IGNvdW50ZXIgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHRoaXNOb3RpY2Ugb2YgcmVtYWluaW5nTm90aWNlTGlzdCkge1xuICAgICAgICBjb25zdCB0aGlzUHJpb3JpdHkgPSB0aGlzTm90aWNlLnByaW9yaXR5LCB0aGlzTXNnID0gdGhpc05vdGljZS5tZXNzYWdlO1xuICAgICAgICBjb25zdCB0aGlzQ29tYmluZWRJRCA9IGAke1N0cmluZyh0aGlzTm90aWNlLnByaW9yaXR5KS5wYWRTdGFydCgzLCAnMCcpfSR7dGhpc05vdGljZS5tZXNzYWdlfWA7IC8vIENvdWxkIGhhdmUgaWRlbnRpY2FsIHdvcmRlZCBtZXNzYWdlcyBidXQgd2l0aCBkaWZmZXJlbnQgcHJpb3JpdGllc1xuICAgICAgICBpZiAoaXNOYU4oY291bnRlclt0aGlzQ29tYmluZWRJRF0pKSBjb3VudGVyW3RoaXNDb21iaW5lZElEXSA9IDE7XG4gICAgICAgIGVsc2UgY291bnRlclt0aGlzQ29tYmluZWRJRF0rKztcbiAgICAgICAgaWYgKG1heGltdW1TaW1pbGFyTWVzc2FnZXMgPiAwICYmIGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0gPiBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzICsgMSAmJiBjb3VudGVyW3RoaXNDb21iaW5lZElEXSA9PT0gbWF4aW11bVNpbWlsYXJNZXNzYWdlcyArIDEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzUHJpb3JpdHkgPj0gc2V2ZXJlUHJpb3JpdHlMZXZlbCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bUhpZGRlbiA9IGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0gLSBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KG51bUhpZGRlbiAhPT0gMSwgYFNob3VsZG7igJl0IHN1cHByZXNzIGp1c3Qgb25lIHNldmVyZSBlcnJvciBvZiBwcmlvcml0eSAke3RoaXNQcmlvcml0eX1gKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZGpIaWRkZW4gPSBNYXRoLm1pbihudW1IaWRkZW4sIG1heGltdW1IaWRkZW5Ob3RpY2VzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1TdXBwcmVzc2VkID0gbnVtSGlkZGVuIC0gYWRqSGlkZGVuO1xuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5zZXZlcmVMaXN0LnB1c2goeyBwcmlvcml0eTogdGhpc1ByaW9yaXR5LCBtZXNzYWdlOiB0aGlzTXNnLCBsb2NhdGlvbjogYCDihpEgJHthZGpIaWRkZW4udG9Mb2NhbGVTdHJpbmcoKX0gTU9SRSBTSU1JTEFSIEVSUk9SJHthZGpIaWRkZW4gPT09IDEgPyAnJyA6ICdTJ30gSElEREVOJHtudW1TdXBwcmVzc2VkID8gYCAoUExVUyAke251bVN1cHByZXNzZWQudG9Mb2NhbGVTdHJpbmcoKX0gU1VQUFJFU1NFRClgIDogJyd9YCwgaGlkZGVuTm90aWNlczogW3RoaXNOb3RpY2VdIH0pO1xuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1IaWRkZW5TZXZlcmUrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpc1ByaW9yaXR5ID49IG1lZGl1bVByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBudW1IaWRkZW4gPSBhbGxUb3RhbHNbdGhpc0NvbWJpbmVkSURdIC0gbWF4aW11bVNpbWlsYXJNZXNzYWdlcztcbiAgICAgICAgICAgICAgICBsb2dpY0Fzc2VydChudW1IaWRkZW4gIT09IDEsIGBTaG91bGRu4oCZdCBzdXBwcmVzcyBqdXN0IG9uZSBtZWRpdW0gZXJyb3Igb2YgcHJpb3JpdHkgJHt0aGlzUHJpb3JpdHl9YCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYWRqSGlkZGVuID0gTWF0aC5taW4obnVtSGlkZGVuLCBtYXhpbXVtSGlkZGVuTm90aWNlcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbnVtU3VwcHJlc3NlZCA9IG51bUhpZGRlbiAtIGFkakhpZGRlbjtcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubWVkaXVtTGlzdC5wdXNoKHsgcHJpb3JpdHk6IHRoaXNQcmlvcml0eSwgbWVzc2FnZTogdGhpc01zZywgbG9jYXRpb246IGAg4oaRICR7YWRqSGlkZGVuLnRvTG9jYWxlU3RyaW5nKCl9IE1PUkUgU0lNSUxBUiBFUlJPUiR7YWRqSGlkZGVuID09PSAxID8gJycgOiAnUyd9IEhJRERFTiR7bnVtU3VwcHJlc3NlZCA/IGAgKFBMVVMgJHtudW1TdXBwcmVzc2VkLnRvTG9jYWxlU3RyaW5nKCl9IFNVUFBSRVNTRUQpYCA6ICcnfWAsIGhpZGRlbk5vdGljZXM6IFt0aGlzTm90aWNlXSB9KTtcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuTWVkaXVtKys7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bUhpZGRlbiA9IGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0gLSBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzO1xuICAgICAgICAgICAgICAgIGxvZ2ljQXNzZXJ0KG51bUhpZGRlbiAhPT0gMSwgYFNob3VsZG7igJl0IHN1cHByZXNzIGp1c3Qgb25lIGxvdyB3YXJuaW5nIG9mIHByaW9yaXR5ICR7dGhpc1ByaW9yaXR5fWApO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkakhpZGRlbiA9IE1hdGgubWluKG51bUhpZGRlbiwgbWF4aW11bUhpZGRlbk5vdGljZXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG51bVN1cHByZXNzZWQgPSBudW1IaWRkZW4gLSBhZGpIaWRkZW47XG4gICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lmxvd0xpc3QucHVzaCh7IHByaW9yaXR5OiB0aGlzUHJpb3JpdHksIG1lc3NhZ2U6IHRoaXNNc2csIGxvY2F0aW9uOiBgIOKGkSAke2FkakhpZGRlbi50b0xvY2FsZVN0cmluZygpfSBNT1JFIFNJTUlMQVIgV0FSTklORyR7YWRqSGlkZGVuID09PSAxID8gJycgOiAnUyd9IEhJRERFTiR7bnVtU3VwcHJlc3NlZCA/IGAgKFBMVVMgJHtudW1TdXBwcmVzc2VkLnRvTG9jYWxlU3RyaW5nKCl9IFNVUFBSRVNTRUQpYCA6ICcnfWAsIGhpZGRlbk5vdGljZXM6IFt0aGlzTm90aWNlXSB9KTtcbiAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuTG93Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWF4aW11bVNpbWlsYXJNZXNzYWdlcyA+IDAgJiYgY291bnRlclt0aGlzQ29tYmluZWRJRF0gPiBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzICsgMSkge1xuICAgICAgICAgICAgaWYgKHRoaXNQcmlvcml0eSA+PSBzZXZlcmVQcmlvcml0eUxldmVsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNPYmplY3QgPSByZXN1bHRPYmplY3Quc2V2ZXJlTGlzdFtyZXN1bHRPYmplY3Quc2V2ZXJlTGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5sZW5ndGggPCBtYXhpbXVtSGlkZGVuTm90aWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5wdXNoKHRoaXNOb3RpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bUhpZGRlblNldmVyZSsrO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBzdXBwcmVzcyB0aGVzZSBleGNlc3Mgbm90aWNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGFzdEhpZGRlbk5vdGljZU9iamVjdCA9IHByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXNbcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0SGlkZGVuTm90aWNlT2JqZWN0Lm1lc3NhZ2UgIT09IG1heGltdW1IaWRkZW5Ob3RpY2VzTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLnB1c2goeyBwcmlvcml0eTogdGhpc05vdGljZS5wcmlvcml0eSwgbWVzc2FnZTogbWF4aW11bUhpZGRlbk5vdGljZXNNZXNzYWdlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bVN1cHByZXNzZWROb3RpY2VzKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7IC8vIHByZXN1bWFibHkgbm8gaGlkZGVuIE5vdGljZXMgaW4gcHJldmlvdXMgT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuYXNzZXJ0KCFwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLCBgRGlkbid0IGV4cGVjdGVkIGhpZGRlbk5vdGljZXMgdG8gYmUgZGVmaW5lZDogJHtKU09OLnN0cmluZ2lmeShwcmV2aW91c09iamVjdCl9IGVycm9yIHdhczogJHtlLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1TdXBwcmVzc2VkTm90aWNlcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpc1ByaW9yaXR5ID49IG1lZGl1bVByaW9yaXR5TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c09iamVjdCA9IHJlc3VsdE9iamVjdC5tZWRpdW1MaXN0W3Jlc3VsdE9iamVjdC5tZWRpdW1MaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLmxlbmd0aCA8IG1heGltdW1IaWRkZW5Ob3RpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLnB1c2godGhpc05vdGljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuTWVkaXVtKys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHN1cHByZXNzIHRoZXNlIGV4Y2VzcyBub3RpY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0SGlkZGVuTm90aWNlT2JqZWN0ID0gcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlc1twcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RIaWRkZW5Ob3RpY2VPYmplY3QubWVzc2FnZSAhPT0gbWF4aW11bUhpZGRlbk5vdGljZXNNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMucHVzaCh7IHByaW9yaXR5OiB0aGlzTm90aWNlLnByaW9yaXR5LCBtZXNzYWdlOiBtYXhpbXVtSGlkZGVuTm90aWNlc01lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtU3VwcHJlc3NlZE5vdGljZXMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLy8gcHJlc3VtYWJseSBubyBoaWRkZW4gTm90aWNlcyBpbiBwcmV2aW91cyBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMsIGBEaWRuJ3QgZXhwZWN0ZWQgaGlkZGVuTm90aWNlcyB0byBiZSBkZWZpbmVkOiAke0pTT04uc3RyaW5naWZ5KHByZXZpb3VzT2JqZWN0KX0gZXJyb3Igd2FzOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bVN1cHByZXNzZWROb3RpY2VzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c09iamVjdCA9IHJlc3VsdE9iamVjdC5sb3dMaXN0W3Jlc3VsdE9iamVjdC5sb3dMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLmxlbmd0aCA8IG1heGltdW1IaWRkZW5Ob3RpY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLnB1c2godGhpc05vdGljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuTG93Kys7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHN1cHByZXNzIHRoZXNlIGV4Y2VzcyBub3RpY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0SGlkZGVuTm90aWNlT2JqZWN0ID0gcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlc1twcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RIaWRkZW5Ob3RpY2VPYmplY3QubWVzc2FnZSAhPT0gbWF4aW11bUhpZGRlbk5vdGljZXNNZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMucHVzaCh7IHByaW9yaXR5OiB0aGlzTm90aWNlLnByaW9yaXR5LCBtZXNzYWdlOiBtYXhpbXVtSGlkZGVuTm90aWNlc01lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtU3VwcHJlc3NlZE5vdGljZXMrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLy8gcHJlc3VtYWJseSBubyBoaWRkZW4gTm90aWNlcyBpbiBwcmV2aW91cyBPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5hc3NlcnQoIXByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMsIGBEaWRuJ3QgZXhwZWN0ZWQgaGlkZGVuTm90aWNlcyB0byBiZSBkZWZpbmVkOiAke0pTT04uc3RyaW5naWZ5KHByZXZpb3VzT2JqZWN0KX0gZXJyb3Igd2FzOiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lm51bVN1cHByZXNzZWROb3RpY2VzKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXNQcmlvcml0eSA+PSBzZXZlcmVQcmlvcml0eUxldmVsKVxuICAgICAgICAgICAgcmVzdWx0T2JqZWN0LnNldmVyZUxpc3QucHVzaCh0aGlzTm90aWNlKTtcbiAgICAgICAgZWxzZSBpZiAodGhpc1ByaW9yaXR5ID49IG1lZGl1bVByaW9yaXR5TGV2ZWwpXG4gICAgICAgICAgICByZXN1bHRPYmplY3QubWVkaXVtTGlzdC5wdXNoKHRoaXNOb3RpY2UpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXN1bHRPYmplY3QubG93TGlzdC5wdXNoKHRoaXNOb3RpY2UpO1xuICAgIH1cblxuICAgIC8vIGRlYnVnTG9nKGBwcm9jZXNzTm90aWNlc1RvU2V2ZXJlTWVkaXVtTG93IGlzIHJldHVybmluZyAke3Jlc3VsdE9iamVjdC5zdWNjZXNzTGlzdC5sZW5ndGh9IHN1Y2Nlc3NlcywgJHtyZXN1bHRPYmplY3Quc2V2ZXJlTGlzdC5sZW5ndGh9IHNldmVyZSwgJHtyZXN1bHRPYmplY3QubWVkaXVtTGlzdC5sZW5ndGh9IG1lZGl1bSwgYW5kICR7cmVzdWx0T2JqZWN0Lmxvd0xpc3QubGVuZ3RofSBsb3dcbiAgICAvLyAgIG51bUlnbm9yZWROb3RpY2VzPSR7cmVzdWx0T2JqZWN0Lm51bUlnbm9yZWROb3RpY2VzfSBudW1IaWRkZW5TZXZlcmU9JHtyZXN1bHRPYmplY3QubnVtSGlkZGVuU2V2ZXJlfSBudW1IaWRkZW5NZWRpdW09JHtyZXN1bHRPYmplY3QubnVtSGlkZGVuTWVkaXVtfSBudW1IaWRkZW5Mb3c9JHtyZXN1bHRPYmplY3QubnVtSGlkZGVuTG93fWApO1xuICAgIHJldHVybiByZXN1bHRPYmplY3Q7XG59XG4vLyBlbmQgb2YgcHJvY2Vzc05vdGljZXNUb1NldmVyZU1lZGl1bUxvdyBmdW5jdGlvblxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBnaXZlbk5vdGljZU9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH0gY29udGFpbmluZyB3YXJuaW5nTGlzdFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJvY2Vzc05vdGljZXNUb1NpbmdsZUxpc3QoZ2l2ZW5Ob3RpY2VPYmplY3QsIG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMpIHtcbiAgICAvKlxuICAgICAgICBBdmFpbGFibGUgb3B0aW9ucyBhcmU6XG4gICAgICAgICAgICBzZXZlcmVQcmlvcml0eUxldmVsIChpbnRlZ2VyOyBkZWZhdWx0IGlzIERFRkFVTFRfU0VWRVJFX1BSSU9SSVRZX0xFVkVMIGFib3ZlKVxuICAgICAgICAgICAgbWVkaXVtUHJpb3JpdHlMZXZlbCAoaW50ZWdlcjsgZGVmYXVsdCBpcyBERUZBVUxUX01FRElVTV9QUklPUklUWV9MRVZFTCBhYm92ZSlcbiAgICAgICAgICAgIG1heGltdW1TaW1pbGFyTWVzc2FnZXMgKGludGVnZXI7IGRlZmF1bHQgaXMgREVGQVVMVF9NQVhJTVVNX1NJTUlMQVJfTUVTU0FHRVMgYWJvdmUpXG5cbiAgICAgICAgUmV0dXJucyBhbiBvYmplY3Qgd2l0aDpcbiAgICAgICAgICAgIHN1Y2Nlc3NMaXN0OiBhIGxpc3Qgb2Ygc3RyaW5ncyBkZXNjcmliaW5nIHdoYXQgaGFzIGJlZW4gY2hlY2tlZFxuICAgICAgICAgICAgd2FybmluZ0xpc3RcbiAgICAgICAgICAgIG51bUlnbm9yZWROb3RpY2VzLCBudW1EaXNhYmxlZE5vdGljZXMsIG51bVN1cHByZXNzZWROb3RpY2VzLCBudW1IaWRkZW5Ob3RpY2VzXG4gICAgICAgICAgICBwcm9jZXNzaW5nT3B0aW9uczoganVzdCBoZWxwZnVsbHkgcGFzc2VzIG9uIHdoYXQgd2Ugd2VyZSBnaXZlbiAobWF5IGJlIHVuZGVmaW5lZClcbiAgICAgICAgQWxzbywgYW55IG90aGVyIHBhcmFtZXRlcnMgYXJlIGp1c3QgcGFzc2VkIHRocm91Z2gsXG4gICAgICAgICAgICBhbHRob3VnaCBmaWxlbmFtZUxpc3QgbWlnaHQgYmUgYWJicmV2aWF0ZWQsIGUuZy4gZm9yIDEwMHMgb2YgLm1kIGZpbGVzLlxuICAgICovXG4gICAgLy8gICAgIHVzZXJMb2coYHByb2Nlc3NOb3RpY2VzVG9TaW5nbGVMaXN0IHYke05PVElDRV9QUk9DRVNTT1JfVkVSU0lPTl9TVFJJTkd9IHdpdGggb3B0aW9ucz0ke0pTT04uc3RyaW5naWZ5KG9wdGlvbmFsUHJvY2Vzc2luZ09wdGlvbnMpfVxuICAgIC8vICAgIEdpdmVuICR7Z2l2ZW5Ob3RpY2VPYmplY3Quc3VjY2Vzc0xpc3QubGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCl9IHN1Y2Nlc3Mgc3RyaW5nKHMpIHBsdXMgJHtnaXZlbk5vdGljZU9iamVjdC5ub3RpY2VMaXN0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSBub3RpY2UocylgKTtcblxuICAgIGNvbnN0IFtyZW1haW5pbmdOb3RpY2VMaXN0LCBhbGxUb3RhbHMsIHJlc3VsdE9iamVjdF0gPSBwcm9jZXNzTm90aWNlc0NvbW1vbihnaXZlbk5vdGljZU9iamVjdCwgb3B0aW9uYWxQcm9jZXNzaW5nT3B0aW9ucyk7XG5cbiAgICAvLyBBZGQgdGhlIGZpZWxkcyB0aGF0IHdlIG5lZWQgaGVyZSB0byB0aGUgZXhpc3RpbmcgcmVzdWx0T2JqZWN0XG4gICAgcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0ID0gW107IHJlc3VsdE9iamVjdC5udW1IaWRkZW5Ob3RpY2VzID0gMDtcblxuICAgIC8vIENoZWNrIGZvciByZXBlYXRlZCBub3RpY2VzIHRoYXQgc2hvdWxkIGJlIGNvbXByZXNzZWRcbiAgICAvLyAgd2hpbGUgc2ltdWx0YW5lb3VzbHkgY3JlYXRpbmcgd2FybmluZyBsaXN0XG4gICAgbGV0IGNvdW50ZXIgPSB7fTtcbiAgICBmb3IgKGNvbnN0IHRoaXNOb3RpY2Ugb2YgcmVtYWluaW5nTm90aWNlTGlzdCkge1xuICAgICAgICBjb25zdCB0aGlzUHJpb3JpdHkgPSB0aGlzTm90aWNlLnByaW9yaXR5LCB0aGlzTXNnID0gdGhpc05vdGljZS5tZXNzYWdlO1xuICAgICAgICBjb25zdCB0aGlzQ29tYmluZWRJRCA9IGAke1N0cmluZyh0aGlzTm90aWNlLnByaW9yaXR5KS5wYWRTdGFydCgzLCAnMCcpfSR7dGhpc05vdGljZS5tZXNzYWdlfWA7IC8vIENvdWxkIGhhdmUgaWRlbnRpY2FsIHdvcmRlZCBtZXNzYWdlcyBidXQgd2l0aCBkaWZmZXJlbnQgcHJpb3JpdGllc1xuICAgICAgICBpZiAoaXNOYU4oY291bnRlclt0aGlzQ29tYmluZWRJRF0pKSBjb3VudGVyW3RoaXNDb21iaW5lZElEXSA9IDE7XG4gICAgICAgIGVsc2UgY291bnRlclt0aGlzQ29tYmluZWRJRF0rKztcbiAgICAgICAgaWYgKG1heGltdW1TaW1pbGFyTWVzc2FnZXMgPiAwICYmIGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0gPiBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzICsgMSAmJiBjb3VudGVyW3RoaXNDb21iaW5lZElEXSA9PT0gbWF4aW11bVNpbWlsYXJNZXNzYWdlcyArIDEpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bUhpZGRlbiA9IGFsbFRvdGFsc1t0aGlzQ29tYmluZWRJRF0gLSBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzO1xuICAgICAgICAgICAgbG9naWNBc3NlcnQobnVtSGlkZGVuICE9PSAxLCBgU2hvdWxkbuKAmXQgc3VwcHJlc3MganVzdCBvbmUgbm90aWNlIG9mIHByaW9yaXR5ICR7dGhpc1ByaW9yaXR5fWApO1xuICAgICAgICAgICAgY29uc3QgYWRqSGlkZGVuID0gTWF0aC5taW4obnVtSGlkZGVuLCBtYXhpbXVtSGlkZGVuTm90aWNlcyk7XG4gICAgICAgICAgICBjb25zdCBudW1TdXBwcmVzc2VkID0gbnVtSGlkZGVuIC0gYWRqSGlkZGVuO1xuICAgICAgICAgICAgcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0LnB1c2goeyBwcmlvcml0eTogdGhpc1ByaW9yaXR5LCBtZXNzYWdlOiB0aGlzTXNnLCBsb2NhdGlvbjogYCDihpEgJHthZGpIaWRkZW4udG9Mb2NhbGVTdHJpbmcoKX0gTU9SRSBTSU1JTEFSIE5PVElDRSR7YWRqSGlkZGVuID09PSAxID8gJycgOiAnUyd9IEhJRERFTiR7bnVtU3VwcHJlc3NlZCA/IGAgKFBMVVMgJHtudW1TdXBwcmVzc2VkLnRvTG9jYWxlU3RyaW5nKCl9IFNVUFBSRVNTRUQpYCA6ICcnfWAsIGhpZGRlbk5vdGljZXM6IFt0aGlzTm90aWNlXSB9KTtcbiAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1IaWRkZW5Ob3RpY2VzKys7XG4gICAgICAgIH0gZWxzZSBpZiAobWF4aW11bVNpbWlsYXJNZXNzYWdlcyA+IDAgJiYgY291bnRlclt0aGlzQ29tYmluZWRJRF0gPiBtYXhpbXVtU2ltaWxhck1lc3NhZ2VzICsgMSkge1xuICAgICAgICAgICAgLy8gZGVidWdMb2coYEhhdmUgdGhpc0NvbWJpbmVkSUQ9JyR7dGhpc0NvbWJpbmVkSUR9JyBhbmQgJHtjb3VudGVyW3RoaXNDb21iaW5lZElEXX1gKVxuICAgICAgICAgICAgY29uc3QgcHJldmlvdXNPYmplY3QgPSByZXN1bHRPYmplY3Qud2FybmluZ0xpc3RbcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0Lmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmFzc2VydChwcmV2aW91c09iamVjdCwgYHByZXZpb3VzT2JqZWN0IHNob3VsZCBiZSBkZWZpbmVkOiAke3Jlc3VsdE9iamVjdC53YXJuaW5nTGlzdC5sZW5ndGh9YCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5hc3NlcnQocHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcywgYHJlc3VsdE9iamVjdC53YXJuaW5nTGlzdFske3Jlc3VsdE9iamVjdC53YXJuaW5nTGlzdC5sZW5ndGgtMX1dLmhpZGRlbk5vdGljZXMgc2hvdWxkIGJlIGRlZmluZWQ6IG5vdyAke0pTT04uc3RyaW5naWZ5KHRoaXNOb3RpY2UsIDIpfSB3aXRoICR7SlNPTi5zdHJpbmdpZnkocHJldmlvdXNPYmplY3QsIDIpfSBhbmQgYmVmb3JlIHRoYXQgJHtKU09OLnN0cmluZ2lmeShyZXN1bHRPYmplY3Qud2FybmluZ0xpc3RbcmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0Lmxlbmd0aC0yXSl9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMubGVuZ3RoIDwgbWF4aW11bUhpZGRlbk5vdGljZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcy5wdXNoKHRoaXNOb3RpY2UpO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRPYmplY3QubnVtSGlkZGVuTm90aWNlcysrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHN1cHByZXNzIHRoZXNlIGV4Y2VzcyBub3RpY2VzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RIaWRkZW5Ob3RpY2VPYmplY3QgPSBwcmV2aW91c09iamVjdC5oaWRkZW5Ob3RpY2VzW3ByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0SGlkZGVuTm90aWNlT2JqZWN0Lm1lc3NhZ2UgIT09IG1heGltdW1IaWRkZW5Ob3RpY2VzTWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzT2JqZWN0LmhpZGRlbk5vdGljZXMucHVzaCh7IHByaW9yaXR5OiB0aGlzTm90aWNlLnByaW9yaXR5LCBtZXNzYWdlOiBtYXhpbXVtSGlkZGVuTm90aWNlc01lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1TdXBwcmVzc2VkTm90aWNlcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgLy8gcHJlc3VtYWJseSBubyBoaWRkZW4gTm90aWNlcyBpbiBwcmV2aW91cyBPYmplY3RcbiAgICAgICAgICAgICAgICBjb25zb2xlLmFzc2VydCghcHJldmlvdXNPYmplY3QuaGlkZGVuTm90aWNlcywgYERpZG4ndCBleHBlY3RlZCBoaWRkZW5Ob3RpY2VzIHRvIGJlIGRlZmluZWQ6ICR7SlNPTi5zdHJpbmdpZnkocHJldmlvdXNPYmplY3QpfSBlcnJvciB3YXM6ICR7ZS5tZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIHJlc3VsdE9iamVjdC5udW1TdXBwcmVzc2VkTm90aWNlcysrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIHJlc3VsdE9iamVjdC53YXJuaW5nTGlzdC5wdXNoKHRoaXNOb3RpY2UpO1xuICAgIH1cblxuICAgIC8vIGRlYnVnTG9nKGBwcm9jZXNzTm90aWNlc1RvU2luZ2xlTGlzdCBpcyByZXR1cm5pbmcgJHtyZXN1bHRPYmplY3Quc3VjY2Vzc0xpc3QubGVuZ3RofSBzdWNjZXNzZXMsICR7cmVzdWx0T2JqZWN0Lndhcm5pbmdMaXN0Lmxlbmd0aH0gd2FybmluZ3NcbiAgICAvLyAgIG51bUlnbm9yZWROb3RpY2VzPSR7cmVzdWx0T2JqZWN0Lm51bUlnbm9yZWROb3RpY2VzfSBudW1IaWRkZW5Ob3RpY2VzPSR7cmVzdWx0T2JqZWN0Lm51bUhpZGRlbk5vdGljZXN9YCk7XG4gICAgcmV0dXJuIHJlc3VsdE9iamVjdDtcbn1cbi8vIGVuZCBvZiBwcm9jZXNzTm90aWNlc1RvU2luZ2xlTGlzdCBmdW5jdGlvblxuIl19