"use strict";var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");var _typeof = require("@babel/runtime/helpers/typeof");Object.defineProperty(exports, "__esModule", { value: true });exports.checkTWL_TSV6DataRow = checkTWL_TSV6DataRow;var _regenerator = _interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));var _defaults = require("./defaults");
var _textHandlingFunctions = require("./text-handling-functions");
var books = _interopRequireWildcard(require("./books/books"));
var _fieldTextCheck = require("./field-text-check");


var _notesLinksCheck = require("./notes-links-check");
var _origQuoteCheck = require("./orig-quote-check");

var _utilities = require("./utilities");function _getRequireWildcardCache(nodeInterop) {if (typeof WeakMap !== "function") return null;var cacheBabelInterop = new WeakMap();var cacheNodeInterop = new WeakMap();return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {return nodeInterop ? cacheNodeInterop : cacheBabelInterop;})(nodeInterop);}function _interopRequireWildcard(obj, nodeInterop) {if (!nodeInterop && obj && obj.__esModule) {return obj;}if (obj === null || _typeof(obj) !== "object" && typeof obj !== "function") {return { default: obj };}var cache = _getRequireWildcardCache(nodeInterop);if (cache && cache.has(obj)) {return cache.get(obj);}var newObj = {};var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;for (var key in obj) {if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;if (desc && (desc.get || desc.set)) {Object.defineProperty(newObj, key, desc);} else {newObj[key] = obj[key];}}}newObj.default = obj;if (cache) {cache.set(obj, newObj);}return newObj;}function _createForOfIteratorHelper(o, allowArrayLike) {var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];if (!it) {if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {if (it) o = it;var i = 0;var F = function F() {};return { s: F, n: function n() {if (i >= o.length) return { done: true };return { done: false, value: o[i++] };}, e: function e(_e) {throw _e;}, f: F };}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion = true,didErr = false,err;return { s: function s() {it = it.call(o);}, n: function n() {var step = it.next();normalCompletion = step.done;return step;}, e: function e(_e2) {didErr = true;err = _e2;}, f: function f() {try {if (!normalCompletion && it.return != null) it.return();} finally {if (didErr) throw err;}} };}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) {symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});}keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {(0, _defineProperty2.default)(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}


// const TWL_TABLE_ROW_VALIDATOR_VERSION_STRING = '0.1.8';

var NUM_EXPECTED_TWL_TSV_FIELDS = 6; // so expects 5 tabs per line
var EXPECTED_TWL_HEADING_LINE = 'Reference\tID\tTags\tOrigWords\tOccurrence\tTWLink';

var LC_ALPHABET = 'abcdefghijklmnopqrstuvwxyz';
var LC_ALPHABET_PLUS_DIGITS = 'abcdefghijklmnopqrstuvwxyz0123456789';
var LC_ALPHABET_PLUS_DIGITS_PLUS_HYPHEN = 'abcdefghijklmnopqrstuvwxyz0123456789-';


/**
 *
 * @description - Checks one TSV data row of translation word links (TWL)
 * @param {string} languageCode - the language code, e.g., 'en'
 * @param {string} repoCode - 'TWL' or 'OBS-TWL'-- keeps parameter set consistent with other similar functions
 * @param {string} line - the TSV line to be checked
 * @param {string} bookID - 3-character UPPERCASE USFM book identifier or 'OBS'
 * @param {string} givenC - chapter number or (for OBS) story number string
 * @param {string} givenV - verse number or (for OBS) frame number string
 * @param {string} givenRowLocation - description of where the line is located
 * @param {Object} checkingOptions - may contain excerptLength parameter
 * @return {Object} - containing noticeList
 */function
checkTWL_TSV6DataRow(_x, _x2, _x3, _x4, _x5, _x6, _x7, _x8) {return _checkTWL_TSV6DataRow.apply(this, arguments);}





















































































































































































































































































































































































































// end of checkTWL_TSV6DataRow function
function _checkTWL_TSV6DataRow() {_checkTWL_TSV6DataRow = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3(languageCode, repoCode, line, bookID, givenC, givenV, givenRowLocation, checkingOptions) {var ourRowLocation, linkCheckingOptions, drResult, addNoticePartial, ourCheckTextField, ourCheckTNOriginalLanguageQuoteAndOccurrence, _ourCheckTNOriginalLanguageQuoteAndOccurrence, ourCheckNotesLinksToOutside, _ourCheckNotesLinksToOutside, excerptLength, excerptHalfLength, excerptHalfLengthPlus, lowercaseBookID, numChaptersThisBook, haveGoodBookID, fields, RIDSuggestion, QSuggestion, OSuggestion, LSuggestion, _fields, reference, rowID, tags, origWords, occurrence, TWLink, _reference$split, _reference$split2, C, V, numVersesThisChapter, haveGoodChapterNumber, intC, intV, tagsList, _iterator2, _step2, thisTag, charCount, bits, characterIndex, excerpt, suggestion, _rowID;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:_ourCheckNotesLinksToOutside = function _ourCheckNotesLinksTo2() {_ourCheckNotesLinksToOutside = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(rowID, fieldName, twLinkText, rowLocation, checkingOptions) {var adjustedLanguageCode, coTNlResultObject, _iterator4, _step4, coqNoticeEntry, _iterator5, _step5, checkedRepoName, _iterator6, _step6, checkedFilenameExtension;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0: // Checks that the TA/TW/Bible reference can be found
                        // Updates the global list of notices
                        // functionLog(`checkTWL_TSV6DataRow ourCheckNotesLinksToOutside(${rowID}, ${fieldName}, (${twLinkText.length}) '${twLinkText}', ${rowLocation}, ${JSON.stringify(checkingOptions)})`);
                        //parameterAssert(rowID !== undefined, "checkTWL_TSV6DataRow ourCheckNotesLinksToOutside: 'rowID' parameter should be defined");
                        //parameterAssert(typeof rowID === 'string', `checkTWL_TSV6DataRow ourCheckNotesLinksToOutside: 'rowID' parameter should be a string not a '${typeof rowID}'`);
                        //parameterAssert(fieldName === 'TWLink', `checkTWL_TSV6DataRow ourCheckNotesLinksToOutside: 'fieldName' parameter should be 'TWLink' not '${fieldName}'`);
                        //parameterAssert(twLinkText !== undefined, "checkTWL_TSV6DataRow ourCheckNotesLinksToOutside: 'twLinkText' parameter should be defined");
                        //parameterAssert(typeof twLinkText === 'string', `checkTWL_TSV6DataRow ourCheckNotesLinksToOutside: 'twLinkText' parameter should be a string not a '${typeof twLinkText}'`);
                        adjustedLanguageCode = languageCode; // This is the language code of the resource with the link
                        if (languageCode === 'hbo' || languageCode === 'el-x-koine') adjustedLanguageCode = 'en'; // This is a guess (and won't be needed for TWs when we switch to TWLs)
                        _context2.next = 4;return (0, _notesLinksCheck.checkNotesLinksToOutside)(languageCode, repoCode, bookID, givenC, givenV, fieldName, twLinkText, rowLocation, _objectSpread(_objectSpread({}, checkingOptions), {}, { defaultLanguageCode: adjustedLanguageCode }));case 4:coTNlResultObject = _context2.sent; // debugLog(`coTNlResultObject=${JSON.stringify(coTNlResultObject)}`);
                        // Choose only ONE of the following
                        // This is the fast way of append the results from this field
                        // result.noticeList = result.noticeList.concat(coTNlResultObject.noticeList);
                        // If we need to put everything through addNoticePartial, e.g., for debugging or filtering
                        //  process results line by line
                        _iterator4 = _createForOfIteratorHelper(coTNlResultObject.noticeList);try {for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {coqNoticeEntry = _step4.value;if (coqNoticeEntry.extra) // it must be an indirect check on a TA or TW article from a TN2 check
                              drResult.noticeList.push(coqNoticeEntry); // Just copy the complete notice as is
                            else // For our direct checks, we add the repoCode as an extra value
                              addNoticePartial(_objectSpread(_objectSpread({}, coqNoticeEntry), {}, { rowID: rowID, fieldName: fieldName }));} // The following is needed coz we might be checking the linked TA and/or TW articles
                        } catch (err) {_iterator4.e(err);} finally {_iterator4.f();}if (coTNlResultObject.checkedFileCount && coTNlResultObject.checkedFileCount > 0) if (typeof drResult.checkedFileCount === 'number') drResult.checkedFileCount += coTNlResultObject.checkedFileCount;else drResult.checkedFileCount = coTNlResultObject.checkedFileCount;if (coTNlResultObject.checkedFilesizes && coTNlResultObject.checkedFilesizes > 0) if (typeof drResult.checkedFilesizes === 'number') drResult.checkedFilesizes += coTNlResultObject.checkedFilesizes;else drResult.checkedFilesizes = coTNlResultObject.checkedFilesizes;if (coTNlResultObject.checkedRepoNames && coTNlResultObject.checkedRepoNames.length > 0) {_iterator5 = _createForOfIteratorHelper(coTNlResultObject.checkedRepoNames);try {for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {checkedRepoName = _step5.value;try {if (drResult.checkedRepoNames.indexOf(checkedRepoName) < 0) drResult.checkedRepoNames.push(checkedRepoName);} catch (_unused2) {drResult.checkedRepoNames = [checkedRepoName];}}} catch (err) {_iterator5.e(err);} finally {_iterator5.f();}}if (coTNlResultObject.checkedFilenameExtensions && coTNlResultObject.checkedFilenameExtensions.length > 0) {_iterator6 = _createForOfIteratorHelper(coTNlResultObject.checkedFilenameExtensions);try {for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {checkedFilenameExtension = _step6.value;try {if (drResult.checkedFilenameExtensions.indexOf(checkedFilenameExtension) < 0) drResult.checkedFilenameExtensions.push(checkedFilenameExtension);} catch (_unused3) {drResult.checkedFilenameExtensions = [checkedFilenameExtension];}}} catch (err) {_iterator6.e(err);} finally {_iterator6.f();}} // if (drResult.checkedFilenameExtensions) userLog("drResult", JSON.stringify(drResult));
                      case 11:case "end":return _context2.stop();}}}, _callee2);}));return _ourCheckNotesLinksToOutside.apply(this, arguments);};ourCheckNotesLinksToOutside = function _ourCheckNotesLinksTo(_x15, _x16, _x17, _x18, _x19) {return _ourCheckNotesLinksToOutside.apply(this, arguments);};_ourCheckTNOriginalLanguageQuoteAndOccurrence = function _ourCheckTNOriginalLa2() {_ourCheckTNOriginalLanguageQuoteAndOccurrence = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(rowID, fieldName, fieldText, occurrence, rowLocation, checkingOptions) {var colqResultObject, _iterator3, _step3, noticeEntry;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:_context.next = 2;return (0, _origQuoteCheck.checkOriginalLanguageQuoteAndOccurrence)(languageCode, repoCode, fieldName, fieldText, occurrence, bookID, givenC, givenV, rowLocation, checkingOptions);case 2:colqResultObject = _context.sent; // Choose only ONE of the following
                        // This is the fast way of append the results from this field
                        // result.noticeList = result.noticeList.concat(colqResultObject.noticeList);
                        // If we need to put everything through addNoticePartial, e.g., for debugging or filtering
                        //  process results line by line
                        _iterator3 = _createForOfIteratorHelper(colqResultObject.noticeList);try {for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {noticeEntry = _step3.value; // //parameterAssert(Object.keys(noticeEntry).length === 5, `TL ourCheckTNOriginalLanguageQuoteAndOccurrence notice length=${Object.keys(noticeEntry).length}`);
                            addNoticePartial(_objectSpread(_objectSpread({}, noticeEntry), {}, { rowID: rowID, fieldName: fieldName }));}} catch (err) {_iterator3.e(err);} finally {_iterator3.f();}case 5:case "end":return _context.stop();}}}, _callee);}));return _ourCheckTNOriginalLanguageQuoteAndOccurrence.apply(this, arguments);};ourCheckTNOriginalLanguageQuoteAndOccurrence = function _ourCheckTNOriginalLa(_x9, _x10, _x11, _x12, _x13, _x14) {return _ourCheckTNOriginalLanguageQuoteAndOccurrence.apply(this, arguments);};ourCheckTextField = function _ourCheckTextField(rowID, fieldName, fieldText, allowedLinks, rowLocation, checkingOptions) {/**
              * @description - checks the given text field and processes the returned results
              * @param {string} rowID - 4-character row ID field
              * @param {string} fieldName - name of the field being checked
              * @param {string} fieldText - the actual text of the field being checked
              * @param {boolean} allowedLinks - true if links are allowed in the field, otherwise false
              * @param {string} rowLocation - description of where the line is located
              * @param {Object} checkingOptions - parameters that might affect the check
              */ // Does basic checks for small errors like leading/trailing spaces, etc.
              // We assume that checking for compulsory fields is done elsewhere
              // Updates the global list of notices
              // functionLog(`checkTWL_TSV6DataRow ourCheckTextField(${fieldName}, (${fieldText.length}), ${allowedLinks}, ${rowLocation}, …)`);
              //parameterAssert(rowID !== undefined, "checkTWL_TSV6DataRow ourCheckTextField: 'rowID' parameter should be defined");
              //parameterAssert(typeof rowID === 'string', `checkTWL_TSV6DataRow ourCheckTextField: 'rowID' parameter should be a string not a '${typeof rowID}'`);
              //parameterAssert(fieldName !== undefined, "checkTWL_TSV6DataRow ourCheckTextField: 'fieldName' parameter should be defined");
              //parameterAssert(typeof fieldName === 'string', `checkTWL_TSV6DataRow ourCheckTextField: 'fieldName' parameter should be a string not a '${typeof fieldName}'`);
              //parameterAssert(fieldText !== undefined, "checkTWL_TSV6DataRow ourCheckTextField: 'fieldText' parameter should be defined");
              //parameterAssert(typeof fieldText === 'string', `checkTWL_TSV6DataRow ourCheckTextField: 'fieldText' parameter should be a string not a '${typeof fieldText}'`);
              //parameterAssert(allowedLinks === true || allowedLinks === false, "checkTWL_TSV6DataRow ourCheckTextField: allowedLinks parameter must be either true or false");
              //parameterAssert(rowLocation !== undefined, "checkTWL_TSV6DataRow ourCheckTextField: 'rowLocation' parameter should be defined");
              //parameterAssert(typeof rowLocation === 'string', `checkTWL_TSV6DataRow ourCheckTextField: 'rowLocation' parameter should be a string not a '${typeof rowLocation}'`);
              //parameterAssert(rowLocation.indexOf(fieldName) < 0, `checkTWL_TSV6DataRow ourCheckTextField: 'rowLocation' parameter should be not contain fieldName=${fieldName}`);
              var fieldType = 'raw';var octfResultObject = (0, _fieldTextCheck.checkTextField)(languageCode, repoCode, fieldType, fieldName, fieldText, allowedLinks, rowLocation, checkingOptions); // Choose only ONE of the following
              // This is the fast way of append the results from this field
              // result.noticeList = result.noticeList.concat(dbtcResultObject.noticeList);
              // If we need to put everything through addNoticePartial, e.g., for debugging or filtering
              //  process results line by line
              var _iterator = _createForOfIteratorHelper(octfResultObject.noticeList),_step;try {for (_iterator.s(); !(_step = _iterator.n()).done;) {var noticeEntry = _step.value; // //parameterAssert(Object.keys(noticeEntry).length === 5, `TL ourCheckTextField notice length=${Object.keys(noticeEntry).length}`);
                  addNoticePartial(_objectSpread(_objectSpread({}, noticeEntry), {}, { rowID: rowID, fieldName: fieldName }));}} catch (err) {_iterator.e(err);} finally {_iterator.f();}return octfResultObject.suggestion; // There may or may not be one!
            };addNoticePartial = function _addNoticePartial(noticeObject) {/**
              * @description - adds a new notice entry, adding bookID,C,V to the given fields
              * @param {Number} priority - notice priority from 1 (lowest) to 999 (highest)
              * @param {string} message - the text of the notice message
              * @param {string} rowID - 4-character row ID field
              * @param {Number} lineNumber - one-based line number
              * @param {Number} characterIndex - zero-based index of where the issue occurs in the line
              * @param {string} excerpt - short excerpt from the line centred on the problem (if available)
              * @param {string} location - description of where the issue is located
              */ // functionLog(`checkTWL_TSV6DataRow addNoticePartial(priority=${noticeObject.priority}) ${noticeObject.message}, ${noticeObject.characterIndex}, ${noticeObject.excerpt}, ${noticeObject.location}`);
              //parameterAssert(noticeObject.priority !== undefined, "checkTWL_TSV6DataRow addNoticePartial: 'priority' parameter should be defined");
              //parameterAssert(typeof noticeObject.priority === 'number', `checkTWL_TSV6DataRow addNoticePartial: 'priority' parameter should be a number not a '${typeof noticeObject.priority}': ${noticeObject.priority}`);
              //parameterAssert(noticeObject.message !== undefined, "checkTWL_TSV6DataRow addNoticePartial: 'message' parameter should be defined");
              //parameterAssert(typeof noticeObject.message === 'string', `checkTWL_TSV6DataRow addNoticePartial: 'message' parameter should be a string not a '${typeof noticeObject.message}': ${noticeObject.message}`);
              // //parameterAssert(lineNumber !== undefined, "checkTWL_TSV6DataRow addNoticePartial: 'lineNumber' parameter should be defined");
              // //parameterAssert(typeof lineNumber === 'number', `checkTWL_TSV6DataRow addNoticePartial: 'lineNumber' parameter should be a number not a '${typeof lineNumber}': ${lineNumber}`);
              // //parameterAssert(characterIndex !== undefined, "checkTWL_TSV6DataRow addNoticePartial: 'characterIndex' parameter should be defined");
              if (noticeObject.characterIndex) {//parameterAssert(typeof noticeObject.characterIndex === 'number', `checkTWL_TSV6DataRow addNoticePartial: 'characterIndex' parameter should be a number not a '${typeof noticeObject.characterIndex}': ${noticeObject.characterIndex}`);
              } // //parameterAssert(excerpt !== undefined, "checkTWL_TSV6DataRow addNoticePartial: 'excerpt' parameter should be defined");
              if (noticeObject.excerpt) {//parameterAssert(typeof noticeObject.excerpt === 'string', `checkTWL_TSV6DataRow addNoticePartial: 'excerpt' parameter should be a string not a '${typeof noticeObject.excerpt}': ${noticeObject.excerpt}`);
              } //parameterAssert(noticeObject.location !== undefined, "checkTWL_TSV6DataRow addNoticePartial: 'location' parameter should be defined");
              //parameterAssert(typeof noticeObject.location === 'string', `checkTWL_TSV6DataRow addNoticePartial: 'location' parameter should be a string not a '${typeof noticeObject.location}': ${noticeObject.location}`);
              // Also uses the given bookID,C,V, parameters from the main function call
              // noticeObject.debugChain = noticeObject.debugChain ? `checkTWL_TSV6DataRow ${noticeObject.debugChain}` : `checkTWL_TSV6DataRow(${repoCode})`;
              drResult.noticeList.push(_objectSpread(_objectSpread({}, noticeObject), {}, { bookID: bookID, C: givenC, V: givenV }));}; /* This function is only for checking one data row
                  and the function doesn’t assume that it has any previous context.
                 TWL being translation word-links.
                 bookID is a three-character UPPERCASE USFM book identifier or 'OBS'
                    so givenC and givenV are usually chapter number and verse number
                        but can be story number and frame number for OBS.
                 It’s designed to be able to quickly show errors for a single row being displayed/edited.
                 Returns an object containing the noticeList.
            */ // functionLog(`checkTWL_TSV6DataRow(${languageCode}, ${repoCode}, ${line}, ${bookID}, ${givenRowLocation}, ${JSON.stringify(checkingOptions)})…`);
            //parameterAssert(languageCode !== undefined, "checkTWL_TSV6DataRow: 'languageCode' parameter should be defined");
            //parameterAssert(typeof languageCode === 'string', `checkTWL_TSV6DataRow: 'languageCode' parameter should be a string not a '${typeof languageCode}'`);
            //parameterAssert(repoCode === 'TWL' || repoCode === 'OBS-TWL', `checkTWL_TSV6DataRow: repoCode expected 'TWL' or 'OBS-TWL' not '${repoCode}'`);
            //parameterAssert(line !== undefined, "checkTWL_TSV6DataRow: 'line' parameter should be defined");
            //parameterAssert(typeof line === 'string', `checkTWL_TSV6DataRow: 'line' parameter should be a string not a '${typeof line}'`);
            //parameterAssert(bookID !== undefined, "checkTWL_TSV6DataRow: 'bookID' parameter should be defined");
            //parameterAssert(typeof bookID === 'string', `checkTWL_TSV6DataRow: 'bookID' parameter should be a string not a '${typeof bookID}'`);
            //parameterAssert(bookID.length === 3, `checkTWL_TSV6DataRow: 'bookID' parameter should be three characters long not ${bookID.length}`);
            //parameterAssert(bookID.toUpperCase() === bookID, `checkTWL_TSV6DataRow: 'bookID' parameter should be UPPERCASE not '${bookID}'`);
            //parameterAssert(bookID === 'OBS' || books.isValidBookID(bookID), `checkTWL_TSV6DataRow: '${bookID}' is not a valid USFM book identifier`);
            // //parameterAssert(givenC !== undefined, "checkTWL_TSV6DataRow: 'givenC' parameter should be defined");
            if (givenC) {//parameterAssert(typeof givenC === 'string', `checkTWL_TSV6DataRow: 'givenC' parameter should be a string not a '${typeof givenC}'`);
            } // //parameterAssert(givenV !== undefined, "checkTWL_TSV6DataRow: 'givenV' parameter should be defined");
            if (givenV) {//parameterAssert(typeof givenV === 'string', `checkTWL_TSV6DataRow: 'givenV' parameter should be a string not a '${typeof givenV}'`);
            } //parameterAssert(givenRowLocation !== undefined, "checkTWL_TSV6DataRow: 'givenRowLocation' parameter should be defined");
            //parameterAssert(typeof givenRowLocation === 'string', `checkTWL_TSV6DataRow: 'givenRowLocation' parameter should be a string not a '${typeof givenRowLocation}'`);
            //parameterAssert(givenRowLocation.indexOf('true') === -1, "checkTWL_TSV6DataRow: 'givenRowLocation' parameter should not be 'true'");
            ourRowLocation = givenRowLocation;if (ourRowLocation && ourRowLocation[0] !== ' ') ourRowLocation = " ".concat(ourRowLocation);linkCheckingOptions = _objectSpread({}, checkingOptions);linkCheckingOptions.twRepoLanguageCode = languageCode;drResult = { noticeList: [] };if (!(line === EXPECTED_TWL_HEADING_LINE)) {_context3.next = 15;break;}return _context3.abrupt("return", drResult);case 15:try {excerptLength = checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.excerptLength;} catch (tlcELerror) {}if (typeof excerptLength !== 'number' || isNaN(excerptLength)) {excerptLength = _defaults.DEFAULT_EXCERPT_LENGTH; // debugLog(`Using default excerptLength=${excerptLength}`);
            } // else
            // debugLog(`Using supplied excerptLength=${excerptLength}`, `cf. default=${DEFAULT_EXCERPT_LENGTH}`);
            excerptHalfLength = Math.floor(excerptLength / 2); // rounded down
            excerptHalfLengthPlus = Math.floor((excerptLength + 1) / 2); // rounded up
            // debugLog(`Using excerptHalfLength=${excerptHalfLength}`, `excerptHalfLengthPlus=${excerptHalfLengthPlus}`);
            lowercaseBookID = bookID.toLowerCase();if (bookID === 'OBS') numChaptersThisBook = 50; // There's 50 Open Bible Stories
            else {//parameterAssert(lowercaseBookID !== 'obs', "Shouldn’t happen in checkTWL_TSV6DataRow");
                try {numChaptersThisBook = books.chaptersInBook(bookID);} catch (tlcNCerror) {addNoticePartial({ priority: 979, message: "Invalid book identifier passed to checkTWL_TSV6DataRow", location: " '".concat(bookID, "' in first parameter: ").concat(tlcNCerror) });}}haveGoodBookID = numChaptersThisBook !== undefined;fields = line.split('\t');if (!(fields.length === NUM_EXPECTED_TWL_TSV_FIELDS)) {_context3.next = 68;break;}_fields = (0, _slicedToArray2.default)(fields, 6), reference = _fields[0], rowID = _fields[1], tags = _fields[2], origWords = _fields[3], occurrence = _fields[4], TWLink = _fields[5]; // let withString = ` with '${rowID}'${inString}`;
            // let CV_withString = ` ${C}:${V}${withString}`;
            // let atString = ` at ${B} ${C}:${V} (${rowID})${inString}`;
            // Check the fields one-by-one
            _reference$split = reference.split(':'), _reference$split2 = (0, _slicedToArray2.default)(_reference$split, 2), C = _reference$split2[0], V = _reference$split2[1];if (C.length) {if (C !== givenC) addNoticePartial({ priority: 976, message: "Wrong chapter number", details: "expected '".concat(givenC, "'"), fieldName: 'Reference', rowID: rowID, excerpt: C, location: ourRowLocation });if (C === 'front') {} else if (/^\d+$/.test(C)) {intC = Number(C);if (intC === 0) {addNoticePartial({ priority: 824, message: "Invalid zero chapter number", excerpt: C, rowID: rowID, fieldName: 'Reference', location: ourRowLocation });haveGoodChapterNumber = false;} // TODO: Does this next section need rewriting (see verse check below)???
                else if (intC > numChaptersThisBook) {addNoticePartial({ priority: 823, message: "Invalid large chapter number", excerpt: C, rowID: rowID, fieldName: 'Reference', location: ourRowLocation });haveGoodChapterNumber = false;}if (lowercaseBookID === 'obs') numVersesThisChapter = 99; // Set to maximum expected number of frames
                else {try {numVersesThisChapter = books.versesInChapter(lowercaseBookID, intC);haveGoodChapterNumber = true;} catch (tlcNVerror) {if (!haveGoodBookID) // addNoticePartial({priority:500, "Invalid chapter number", rowLocation);
                        // else
                        addNoticePartial({ priority: 822, message: "Unable to check chapter number", excerpt: C, rowID: rowID, fieldName: 'Reference', location: ourRowLocation });haveGoodChapterNumber = false;}}} else addNoticePartial({ priority: 821, message: "Bad chapter number", excerpt: C, rowID: rowID, fieldName: 'Reference', location: ourRowLocation });} else addNoticePartial({ priority: 820, message: "Missing chapter number", rowID: rowID, fieldName: 'Reference', location: " ?:".concat(V).concat(ourRowLocation) });if (V !== null && V !== void 0 && V.length) {// can be undefined if no colon at split above
              if (V !== givenV) addNoticePartial({ priority: 975, message: "Wrong verse number", details: "expected '".concat(givenV, "'"), rowID: rowID, fieldName: 'Reference', excerpt: V, location: ourRowLocation });if (bookID === 'OBS' || V === 'intro') {} else if (/^\d+$/.test(V)) {intV = Number(V);if (intV === 0 && bookID !== 'PSA') // Psalms have \d as verse zero
                  addNoticePartial({ priority: 814, message: "Invalid zero verse number", rowID: rowID, fieldName: 'Reference', excerpt: V, location: ourRowLocation });else {if (haveGoodChapterNumber) {if (intV > numVersesThisChapter) addNoticePartial({ priority: 813, message: "Invalid large verse number", details: "".concat(bookID, " chapter ").concat(C, " only has ").concat(numVersesThisChapter, " verses"), rowID: rowID, fieldName: 'Reference', excerpt: V, location: ourRowLocation });} else addNoticePartial({ priority: 812, message: "Unable to check verse number", rowID: rowID, fieldName: 'Reference', location: ourRowLocation });}} else addNoticePartial({ priority: 811, message: "Bad verse number", rowID: rowID, fieldName: 'Reference', location: " '".concat(V, "'").concat(ourRowLocation) });} else addNoticePartial({ priority: 810, message: "Missing verse number", rowID: rowID, fieldName: 'Reference', location: " after ".concat(C, ":?").concat(ourRowLocation) });if (!rowID.length) addNoticePartial({ priority: 931, message: "Missing row ID field", fieldName: 'Reference', location: ourRowLocation });else {if (rowID.length !== 4) {addNoticePartial({ priority: 778, message: "Row ID should be exactly 4 characters", details: "not ".concat(rowID.length), rowID: rowID, fieldName: 'ID', excerpt: rowID, location: ourRowLocation });if (rowID.length > 4) RIDSuggestion = rowID.substring(0, 5);else {// must be < 4
                  RIDSuggestion = rowID;while (RIDSuggestion.length < 4) {RIDSuggestion += LC_ALPHABET_PLUS_DIGITS[Math.floor(Math.random() * LC_ALPHABET_PLUS_DIGITS.length)];};}} else if (LC_ALPHABET.indexOf(rowID[0]) < 0) addNoticePartial({ priority: 176, message: "Row ID should start with a lowercase letter", characterIndex: 0, rowID: rowID, fieldName: 'ID', excerpt: rowID, location: ourRowLocation });else if (LC_ALPHABET_PLUS_DIGITS.indexOf(rowID[3]) < 0) addNoticePartial({ priority: 175, message: "Row ID should end with a lowercase letter or digit", characterIndex: 3, rowID: rowID, fieldName: 'ID', excerpt: rowID, location: ourRowLocation });else if (LC_ALPHABET_PLUS_DIGITS_PLUS_HYPHEN.indexOf(rowID[1]) < 0) addNoticePartial({ priority: 174, message: "Row ID characters should only be lowercase letters, digits, or hypen", fieldName: 'ID', characterIndex: 1, rowID: rowID, excerpt: rowID, location: ourRowLocation });else if (LC_ALPHABET_PLUS_DIGITS_PLUS_HYPHEN.indexOf(rowID[2]) < 0) addNoticePartial({ priority: 173, message: "Row ID characters should only be lowercase letters, digits, or hypen", fieldName: 'ID', characterIndex: 2, rowID: rowID, excerpt: rowID, location: ourRowLocation });}if (tags.length) {tagsList = tags.split('; ');_iterator2 = _createForOfIteratorHelper(tagsList);try {for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {thisTag = _step2.value;if (thisTag !== 'keyterm' && thisTag !== 'name') addNoticePartial({ priority: 740, message: "Unrecognized tag", details: "found '".concat(thisTag, "' but expected 'keyterm' or 'name'"), excerpt: tags, fieldName: 'Tags', rowID: rowID, location: ourRowLocation });}} catch (err) {_iterator2.e(err);} finally {_iterator2.f();}}if (!origWords.length) {_context3.next = 40;break;} // need to check UTN against UHB and UGNT
            QSuggestion = ourCheckTextField(rowID, 'OrigWords', origWords, false, ourRowLocation, checkingOptions);if (!occurrence.length) {_context3.next = 37;break;}_context3.next = 35;return ourCheckTNOriginalLanguageQuoteAndOccurrence(rowID, 'OrigWords', origWords, occurrence, ourRowLocation, checkingOptions);case 35:_context3.next = 38;break;case 37:addNoticePartial({ priority: 750, message: "Missing occurrence field when we have an original quote", fieldName: 'Occurrence', rowID: rowID, location: ourRowLocation });case 38:_context3.next = 41;break;case 40: // TODO: Find more details about when these fields are really compulsory (and when they're not, e.g., for 'intro') ???
            if (V !== 'intro' && occurrence !== '0') addNoticePartial({ priority: 919, message: "Missing OrigWords field", fieldName: 'OrigWords', rowID: rowID, location: ourRowLocation });case 41:if (occurrence.length) {// This should usually be a digit
              if (occurrence === '0') {// zero means that it doesn’t occur
                if (origWords.length) {addNoticePartial({ priority: 751, message: "Invalid zero occurrence field when we have an original quote", fieldName: 'Occurrence', rowID: rowID, excerpt: occurrence, location: ourRowLocation });OSuggestion = '1';} // if (V !== 'intro')
                //     addNoticePartial({priority:500, message:"Invalid zero occurrence field", rowID, location:rowLocation);
              } else if (occurrence === '-1') {} // TODO check the special conditions when this can occur???
              else if ('12345678'.indexOf(occurrence) < 0) {// it’s not one of these integers
                  addNoticePartial({ priority: 792, message: "Invalid occurrence field", fieldName: 'Occurrence', rowID: rowID, excerpt: occurrence, location: ourRowLocation });OSuggestion = '1';}} else if (origWords.length) {addNoticePartial({ priority: 791, message: "Missing occurrence field", fieldName: 'Occurrence', rowID: rowID, location: ourRowLocation });OSuggestion = '1';}if (!TWLink.length) {_context3.next = 63;break;} // debugLog(`checkTWL_TSV6DataRow checking ${bookID} ${rowID} TWLink='${TWLink}'`);
            if (TWLink.indexOf("\u200B") >= 0) {charCount = (0, _textHandlingFunctions.countOccurrences)(TWLink, "\u200B");addNoticePartial({ priority: 374, message: "Field contains zero-width space(s)", details: "".concat(charCount, " occurrence").concat(charCount === 1 ? '' : 's', " found"), fieldName: 'TWLink', rowID: rowID, location: ourRowLocation });}if (!(0, _textHandlingFunctions.isWhitespace)(TWLink)) {_context3.next = 48;break;}addNoticePartial({ priority: 796, message: "Field is only whitespace", fieldName: 'TWLink', rowID: rowID, location: ourRowLocation });_context3.next = 61;break;case 48:if (TWLink.startsWith('rc://*/tw/dict/bible/')) {_context3.next = 52;break;}addNoticePartial({ priority: 798, message: "Field doesn’t contain expected TW link", details: "should start with 'rc://*/tw/dict/bible/'", fieldName: 'TWLink', rowID: rowID, location: ourRowLocation });_context3.next = 61;break;case 52: // it starts correctly
            bits = TWLink.substring('rc://*/tw/dict/bible/'.length).split('/'); // Get the last two bits of the link path
            // debugLog(`checkTWL_TSV6DataRow checking ${bookID} ${rowID} TWLink='${TWLink}' got bits=${JSON.stringify(bits)}`);
            if (!(bits[0] !== 'kt' && bits[0] !== 'names' && bits[0] !== 'other')) {_context3.next = 59;break;}characterIndex = 'rc://*/tw/dict/bible/'.length;excerpt = (characterIndex > excerptHalfLength ? '…' : '') + TWLink.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < TWLink.length ? '…' : '');addNoticePartial({ priority: 797, message: "Field doesn’t contain proper TW link", details: "should be 'kt', 'names', or 'other'", fieldName: 'TWLink', rowID: rowID, characterIndex: characterIndex, excerpt: excerpt, location: ourRowLocation });_context3.next = 61;break;case 59:_context3.next = 61;return ourCheckNotesLinksToOutside(rowID, 'TWLink', TWLink, ourRowLocation, linkCheckingOptions);case 61:_context3.next = 64;break;case 63: // TWLink is empty/missing
            addNoticePartial({ priority: 799, message: "Missing TWLink field", fieldName: 'TWLink', rowID: rowID, location: ourRowLocation });case 64: // 7 [reference, rowID, tags, quote, occurrence, TWLink]
            suggestion = "".concat(reference, "\t").concat(RIDSuggestion === undefined ? rowID : RIDSuggestion, "\t").concat(tags, "\t").concat(QSuggestion === undefined ? origWords : QSuggestion, "\t").concat(OSuggestion === undefined ? occurrence : OSuggestion, "\t").concat(LSuggestion === undefined ? TWLink : LSuggestion);if (suggestion !== line) {drResult.suggestion = suggestion;}_context3.next = 71;break;case 68: // wrong number of fields in the row
            // Have a go at getting some of the first fields out of the row
            _rowID = '????';try {_rowID = fields[1];} catch (_unused) {}addNoticePartial({ priority: 984, message: "Found wrong number of TSV fields (expected ".concat(NUM_EXPECTED_TWL_TSV_FIELDS, ")"), details: "Found ".concat(fields.length, " field").concat(fields.length === 1 ? '' : 's'), rowID: _rowID, location: ourRowLocation });case 71:return _context3.abrupt("return", drResult);case 72:case "end":return _context3.stop();}}}, _callee3);}));return _checkTWL_TSV6DataRow.apply(this, arguments);}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb3JlL3R3bC10c3Y2LXJvdy1jaGVjay5qcyJdLCJuYW1lcyI6WyJOVU1fRVhQRUNURURfVFdMX1RTVl9GSUVMRFMiLCJFWFBFQ1RFRF9UV0xfSEVBRElOR19MSU5FIiwiTENfQUxQSEFCRVQiLCJMQ19BTFBIQUJFVF9QTFVTX0RJR0lUUyIsIkxDX0FMUEhBQkVUX1BMVVNfRElHSVRTX1BMVVNfSFlQSEVOIiwiY2hlY2tUV0xfVFNWNkRhdGFSb3ciLCJsYW5ndWFnZUNvZGUiLCJyZXBvQ29kZSIsImxpbmUiLCJib29rSUQiLCJnaXZlbkMiLCJnaXZlblYiLCJnaXZlblJvd0xvY2F0aW9uIiwiY2hlY2tpbmdPcHRpb25zIiwiYWRkTm90aWNlUGFydGlhbCIsIm91ckNoZWNrVGV4dEZpZWxkIiwib3VyQ2hlY2tUTk9yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2UiLCJvdXJDaGVja05vdGVzTGlua3NUb091dHNpZGUiLCJyb3dJRCIsImZpZWxkTmFtZSIsInR3TGlua1RleHQiLCJyb3dMb2NhdGlvbiIsImFkanVzdGVkTGFuZ3VhZ2VDb2RlIiwiZGVmYXVsdExhbmd1YWdlQ29kZSIsImNvVE5sUmVzdWx0T2JqZWN0Iiwibm90aWNlTGlzdCIsImNvcU5vdGljZUVudHJ5IiwiZXh0cmEiLCJkclJlc3VsdCIsInB1c2giLCJjaGVja2VkRmlsZUNvdW50IiwiY2hlY2tlZEZpbGVzaXplcyIsImNoZWNrZWRSZXBvTmFtZXMiLCJsZW5ndGgiLCJjaGVja2VkUmVwb05hbWUiLCJpbmRleE9mIiwiY2hlY2tlZEZpbGVuYW1lRXh0ZW5zaW9ucyIsImNoZWNrZWRGaWxlbmFtZUV4dGVuc2lvbiIsImZpZWxkVGV4dCIsIm9jY3VycmVuY2UiLCJjb2xxUmVzdWx0T2JqZWN0Iiwibm90aWNlRW50cnkiLCJhbGxvd2VkTGlua3MiLCJmaWVsZFR5cGUiLCJvY3RmUmVzdWx0T2JqZWN0Iiwic3VnZ2VzdGlvbiIsIm5vdGljZU9iamVjdCIsImNoYXJhY3RlckluZGV4IiwiZXhjZXJwdCIsIkMiLCJWIiwib3VyUm93TG9jYXRpb24iLCJsaW5rQ2hlY2tpbmdPcHRpb25zIiwidHdSZXBvTGFuZ3VhZ2VDb2RlIiwiZXhjZXJwdExlbmd0aCIsInRsY0VMZXJyb3IiLCJpc05hTiIsIkRFRkFVTFRfRVhDRVJQVF9MRU5HVEgiLCJleGNlcnB0SGFsZkxlbmd0aCIsIk1hdGgiLCJmbG9vciIsImV4Y2VycHRIYWxmTGVuZ3RoUGx1cyIsImxvd2VyY2FzZUJvb2tJRCIsInRvTG93ZXJDYXNlIiwibnVtQ2hhcHRlcnNUaGlzQm9vayIsImJvb2tzIiwiY2hhcHRlcnNJbkJvb2siLCJ0bGNOQ2Vycm9yIiwicHJpb3JpdHkiLCJtZXNzYWdlIiwibG9jYXRpb24iLCJoYXZlR29vZEJvb2tJRCIsInVuZGVmaW5lZCIsImZpZWxkcyIsInNwbGl0IiwicmVmZXJlbmNlIiwidGFncyIsIm9yaWdXb3JkcyIsIlRXTGluayIsImRldGFpbHMiLCJ0ZXN0IiwiaW50QyIsIk51bWJlciIsImhhdmVHb29kQ2hhcHRlck51bWJlciIsIm51bVZlcnNlc1RoaXNDaGFwdGVyIiwidmVyc2VzSW5DaGFwdGVyIiwidGxjTlZlcnJvciIsImludFYiLCJSSURTdWdnZXN0aW9uIiwic3Vic3RyaW5nIiwicmFuZG9tIiwidGFnc0xpc3QiLCJ0aGlzVGFnIiwiUVN1Z2dlc3Rpb24iLCJPU3VnZ2VzdGlvbiIsImNoYXJDb3VudCIsInN0YXJ0c1dpdGgiLCJiaXRzIiwiTFN1Z2dlc3Rpb24iXSwibWFwcGluZ3MiOiI4bkJBQUE7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUEsd0M7OztBQUdBOztBQUVBLElBQU1BLDJCQUEyQixHQUFHLENBQXBDLEMsQ0FBdUM7QUFDdkMsSUFBTUMseUJBQXlCLEdBQUcsb0RBQWxDOztBQUVBLElBQU1DLFdBQVcsR0FBRyw0QkFBcEI7QUFDQSxJQUFNQyx1QkFBdUIsR0FBRyxzQ0FBaEM7QUFDQSxJQUFNQyxtQ0FBbUMsR0FBRyx1Q0FBNUM7OztBQUdBO0FB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QXBaSiw2RCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERFRkFVTFRfRVhDRVJQVF9MRU5HVEggfSBmcm9tICcuL2RlZmF1bHRzJztcbmltcG9ydCB7IGlzV2hpdGVzcGFjZSwgY291bnRPY2N1cnJlbmNlcyB9IGZyb20gJy4vdGV4dC1oYW5kbGluZy1mdW5jdGlvbnMnO1xuaW1wb3J0ICogYXMgYm9va3MgZnJvbSAnLi9ib29rcy9ib29rcyc7XG5pbXBvcnQgeyBjaGVja1RleHRGaWVsZCB9IGZyb20gJy4vZmllbGQtdGV4dC1jaGVjayc7XG4vLyBpbXBvcnQgeyBjaGVja01hcmtkb3duVGV4dCB9IGZyb20gJy4vbWFya2Rvd24tdGV4dC1jaGVjayc7XG4vLyBpbXBvcnQgeyBjaGVja1N1cHBvcnRSZWZlcmVuY2VJblRBIH0gZnJvbSAnLi90YS1yZWZlcmVuY2UtY2hlY2snO1xuaW1wb3J0IHsgY2hlY2tOb3Rlc0xpbmtzVG9PdXRzaWRlIH0gZnJvbSAnLi9ub3Rlcy1saW5rcy1jaGVjayc7XG5pbXBvcnQgeyBjaGVja09yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2UgfSBmcm9tICcuL29yaWctcXVvdGUtY2hlY2snO1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBwYXJhbWV0ZXJBc3NlcnQgfSBmcm9tICcuL3V0aWxpdGllcyc7XG5cblxuLy8gY29uc3QgVFdMX1RBQkxFX1JPV19WQUxJREFUT1JfVkVSU0lPTl9TVFJJTkcgPSAnMC4xLjgnO1xuXG5jb25zdCBOVU1fRVhQRUNURURfVFdMX1RTVl9GSUVMRFMgPSA2OyAvLyBzbyBleHBlY3RzIDUgdGFicyBwZXIgbGluZVxuY29uc3QgRVhQRUNURURfVFdMX0hFQURJTkdfTElORSA9ICdSZWZlcmVuY2VcXHRJRFxcdFRhZ3NcXHRPcmlnV29yZHNcXHRPY2N1cnJlbmNlXFx0VFdMaW5rJztcblxuY29uc3QgTENfQUxQSEFCRVQgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXonO1xuY29uc3QgTENfQUxQSEFCRVRfUExVU19ESUdJVFMgPSAnYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5JztcbmNvbnN0IExDX0FMUEhBQkVUX1BMVVNfRElHSVRTX1BMVVNfSFlQSEVOID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS0nO1xuXG5cbi8qKlxuICpcbiAqIEBkZXNjcmlwdGlvbiAtIENoZWNrcyBvbmUgVFNWIGRhdGEgcm93IG9mIHRyYW5zbGF0aW9uIHdvcmQgbGlua3MgKFRXTClcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYW5ndWFnZUNvZGUgLSB0aGUgbGFuZ3VhZ2UgY29kZSwgZS5nLiwgJ2VuJ1xuICogQHBhcmFtIHtzdHJpbmd9IHJlcG9Db2RlIC0gJ1RXTCcgb3IgJ09CUy1UV0wnLS0ga2VlcHMgcGFyYW1ldGVyIHNldCBjb25zaXN0ZW50IHdpdGggb3RoZXIgc2ltaWxhciBmdW5jdGlvbnNcbiAqIEBwYXJhbSB7c3RyaW5nfSBsaW5lIC0gdGhlIFRTViBsaW5lIHRvIGJlIGNoZWNrZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBib29rSUQgLSAzLWNoYXJhY3RlciBVUFBFUkNBU0UgVVNGTSBib29rIGlkZW50aWZpZXIgb3IgJ09CUydcbiAqIEBwYXJhbSB7c3RyaW5nfSBnaXZlbkMgLSBjaGFwdGVyIG51bWJlciBvciAoZm9yIE9CUykgc3RvcnkgbnVtYmVyIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IGdpdmVuViAtIHZlcnNlIG51bWJlciBvciAoZm9yIE9CUykgZnJhbWUgbnVtYmVyIHN0cmluZ1xuICogQHBhcmFtIHtzdHJpbmd9IGdpdmVuUm93TG9jYXRpb24gLSBkZXNjcmlwdGlvbiBvZiB3aGVyZSB0aGUgbGluZSBpcyBsb2NhdGVkXG4gKiBAcGFyYW0ge09iamVjdH0gY2hlY2tpbmdPcHRpb25zIC0gbWF5IGNvbnRhaW4gZXhjZXJwdExlbmd0aCBwYXJhbWV0ZXJcbiAqIEByZXR1cm4ge09iamVjdH0gLSBjb250YWluaW5nIG5vdGljZUxpc3RcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrVFdMX1RTVjZEYXRhUm93KGxhbmd1YWdlQ29kZSwgcmVwb0NvZGUsIGxpbmUsIGJvb2tJRCwgZ2l2ZW5DLCBnaXZlblYsIGdpdmVuUm93TG9jYXRpb24sIGNoZWNraW5nT3B0aW9ucykge1xuICAgIC8qIFRoaXMgZnVuY3Rpb24gaXMgb25seSBmb3IgY2hlY2tpbmcgb25lIGRhdGEgcm93XG4gICAgICAgICAgYW5kIHRoZSBmdW5jdGlvbiBkb2VzbuKAmXQgYXNzdW1lIHRoYXQgaXQgaGFzIGFueSBwcmV2aW91cyBjb250ZXh0LlxuXG4gICAgICAgIFRXTCBiZWluZyB0cmFuc2xhdGlvbiB3b3JkLWxpbmtzLlxuXG4gICAgICAgIGJvb2tJRCBpcyBhIHRocmVlLWNoYXJhY3RlciBVUFBFUkNBU0UgVVNGTSBib29rIGlkZW50aWZpZXIgb3IgJ09CUydcbiAgICAgICAgICAgIHNvIGdpdmVuQyBhbmQgZ2l2ZW5WIGFyZSB1c3VhbGx5IGNoYXB0ZXIgbnVtYmVyIGFuZCB2ZXJzZSBudW1iZXJcbiAgICAgICAgICAgICAgICBidXQgY2FuIGJlIHN0b3J5IG51bWJlciBhbmQgZnJhbWUgbnVtYmVyIGZvciBPQlMuXG5cbiAgICAgICAgSXTigJlzIGRlc2lnbmVkIHRvIGJlIGFibGUgdG8gcXVpY2tseSBzaG93IGVycm9ycyBmb3IgYSBzaW5nbGUgcm93IGJlaW5nIGRpc3BsYXllZC9lZGl0ZWQuXG5cbiAgICAgICAgUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbm90aWNlTGlzdC5cbiAgICAqL1xuICAgIC8vIGZ1bmN0aW9uTG9nKGBjaGVja1RXTF9UU1Y2RGF0YVJvdygke2xhbmd1YWdlQ29kZX0sICR7cmVwb0NvZGV9LCAke2xpbmV9LCAke2Jvb2tJRH0sICR7Z2l2ZW5Sb3dMb2NhdGlvbn0sICR7SlNPTi5zdHJpbmdpZnkoY2hlY2tpbmdPcHRpb25zKX0p4oCmYCk7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQobGFuZ3VhZ2VDb2RlICE9PSB1bmRlZmluZWQsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3c6ICdsYW5ndWFnZUNvZGUnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2YgbGFuZ3VhZ2VDb2RlID09PSAnc3RyaW5nJywgYGNoZWNrVFdMX1RTVjZEYXRhUm93OiAnbGFuZ3VhZ2VDb2RlJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiBsYW5ndWFnZUNvZGV9J2ApO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHJlcG9Db2RlID09PSAnVFdMJyB8fCByZXBvQ29kZSA9PT0gJ09CUy1UV0wnLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3c6IHJlcG9Db2RlIGV4cGVjdGVkICdUV0wnIG9yICdPQlMtVFdMJyBub3QgJyR7cmVwb0NvZGV9J2ApO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGxpbmUgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdzogJ2xpbmUnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2YgbGluZSA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdzogJ2xpbmUnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIGxpbmV9J2ApO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGJvb2tJRCAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93OiAnYm9va0lEJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIGJvb2tJRCA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdzogJ2Jvb2tJRCcgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgYm9va0lEfSdgKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChib29rSUQubGVuZ3RoID09PSAzLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3c6ICdib29rSUQnIHBhcmFtZXRlciBzaG91bGQgYmUgdGhyZWUgY2hhcmFjdGVycyBsb25nIG5vdCAke2Jvb2tJRC5sZW5ndGh9YCk7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQoYm9va0lELnRvVXBwZXJDYXNlKCkgPT09IGJvb2tJRCwgYGNoZWNrVFdMX1RTVjZEYXRhUm93OiAnYm9va0lEJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIFVQUEVSQ0FTRSBub3QgJyR7Ym9va0lEfSdgKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChib29rSUQgPT09ICdPQlMnIHx8IGJvb2tzLmlzVmFsaWRCb29rSUQoYm9va0lEKSwgYGNoZWNrVFdMX1RTVjZEYXRhUm93OiAnJHtib29rSUR9JyBpcyBub3QgYSB2YWxpZCBVU0ZNIGJvb2sgaWRlbnRpZmllcmApO1xuICAgIC8vIC8vcGFyYW1ldGVyQXNzZXJ0KGdpdmVuQyAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93OiAnZ2l2ZW5DJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgaWYgKGdpdmVuQykgeyAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2YgZ2l2ZW5DID09PSAnc3RyaW5nJywgYGNoZWNrVFdMX1RTVjZEYXRhUm93OiAnZ2l2ZW5DJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiBnaXZlbkN9J2ApO1xuICAgIH1cbiAgICAvLyAvL3BhcmFtZXRlckFzc2VydChnaXZlblYgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdzogJ2dpdmVuVicgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgIGlmIChnaXZlblYpIHsgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIGdpdmVuViA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdzogJ2dpdmVuVicgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgZ2l2ZW5WfSdgKTtcbiAgICB9XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQoZ2l2ZW5Sb3dMb2NhdGlvbiAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93OiAnZ2l2ZW5Sb3dMb2NhdGlvbicgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBnaXZlblJvd0xvY2F0aW9uID09PSAnc3RyaW5nJywgYGNoZWNrVFdMX1RTVjZEYXRhUm93OiAnZ2l2ZW5Sb3dMb2NhdGlvbicgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgZ2l2ZW5Sb3dMb2NhdGlvbn0nYCk7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQoZ2l2ZW5Sb3dMb2NhdGlvbi5pbmRleE9mKCd0cnVlJykgPT09IC0xLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93OiAnZ2l2ZW5Sb3dMb2NhdGlvbicgcGFyYW1ldGVyIHNob3VsZCBub3QgYmUgJ3RydWUnXCIpO1xuXG4gICAgbGV0IG91clJvd0xvY2F0aW9uID0gZ2l2ZW5Sb3dMb2NhdGlvbjtcbiAgICBpZiAob3VyUm93TG9jYXRpb24gJiYgb3VyUm93TG9jYXRpb25bMF0gIT09ICcgJykgb3VyUm93TG9jYXRpb24gPSBgICR7b3VyUm93TG9jYXRpb259YDtcblxuICAgIGNvbnN0IGxpbmtDaGVja2luZ09wdGlvbnMgPSB7IC4uLmNoZWNraW5nT3B0aW9ucyB9O1xuICAgIGxpbmtDaGVja2luZ09wdGlvbnMudHdSZXBvTGFuZ3VhZ2VDb2RlID0gbGFuZ3VhZ2VDb2RlO1xuXG4gICAgbGV0IGRyUmVzdWx0ID0geyBub3RpY2VMaXN0OiBbXSB9O1xuXG4gICAgZnVuY3Rpb24gYWRkTm90aWNlUGFydGlhbChub3RpY2VPYmplY3QpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICogQGRlc2NyaXB0aW9uIC0gYWRkcyBhIG5ldyBub3RpY2UgZW50cnksIGFkZGluZyBib29rSUQsQyxWIHRvIHRoZSBnaXZlbiBmaWVsZHNcbiAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJpb3JpdHkgLSBub3RpY2UgcHJpb3JpdHkgZnJvbSAxIChsb3dlc3QpIHRvIDk5OSAoaGlnaGVzdClcbiAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIHRoZSB0ZXh0IG9mIHRoZSBub3RpY2UgbWVzc2FnZVxuICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb3dJRCAtIDQtY2hhcmFjdGVyIHJvdyBJRCBmaWVsZFxuICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsaW5lTnVtYmVyIC0gb25lLWJhc2VkIGxpbmUgbnVtYmVyXG4gICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IGNoYXJhY3RlckluZGV4IC0gemVyby1iYXNlZCBpbmRleCBvZiB3aGVyZSB0aGUgaXNzdWUgb2NjdXJzIGluIHRoZSBsaW5lXG4gICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4Y2VycHQgLSBzaG9ydCBleGNlcnB0IGZyb20gdGhlIGxpbmUgY2VudHJlZCBvbiB0aGUgcHJvYmxlbSAoaWYgYXZhaWxhYmxlKVxuICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiAtIGRlc2NyaXB0aW9uIG9mIHdoZXJlIHRoZSBpc3N1ZSBpcyBsb2NhdGVkXG4gICAgICAgICovXG4gICAgICAgIC8vIGZ1bmN0aW9uTG9nKGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsKHByaW9yaXR5PSR7bm90aWNlT2JqZWN0LnByaW9yaXR5fSkgJHtub3RpY2VPYmplY3QubWVzc2FnZX0sICR7bm90aWNlT2JqZWN0LmNoYXJhY3RlckluZGV4fSwgJHtub3RpY2VPYmplY3QuZXhjZXJwdH0sICR7bm90aWNlT2JqZWN0LmxvY2F0aW9ufWApO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydChub3RpY2VPYmplY3QucHJpb3JpdHkgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAncHJpb3JpdHknIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIG5vdGljZU9iamVjdC5wcmlvcml0eSA9PT0gJ251bWJlcicsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAncHJpb3JpdHknIHBhcmFtZXRlciBzaG91bGQgYmUgYSBudW1iZXIgbm90IGEgJyR7dHlwZW9mIG5vdGljZU9iamVjdC5wcmlvcml0eX0nOiAke25vdGljZU9iamVjdC5wcmlvcml0eX1gKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQobm90aWNlT2JqZWN0Lm1lc3NhZ2UgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnbWVzc2FnZScgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2Ygbm90aWNlT2JqZWN0Lm1lc3NhZ2UgPT09ICdzdHJpbmcnLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3cgYWRkTm90aWNlUGFydGlhbDogJ21lc3NhZ2UnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIG5vdGljZU9iamVjdC5tZXNzYWdlfSc6ICR7bm90aWNlT2JqZWN0Lm1lc3NhZ2V9YCk7XG4gICAgICAgIC8vIC8vcGFyYW1ldGVyQXNzZXJ0KGxpbmVOdW1iZXIgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnbGluZU51bWJlcicgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgICAgICAvLyAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2YgbGluZU51bWJlciA9PT0gJ251bWJlcicsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnbGluZU51bWJlcicgcGFyYW1ldGVyIHNob3VsZCBiZSBhIG51bWJlciBub3QgYSAnJHt0eXBlb2YgbGluZU51bWJlcn0nOiAke2xpbmVOdW1iZXJ9YCk7XG4gICAgICAgIC8vIC8vcGFyYW1ldGVyQXNzZXJ0KGNoYXJhY3RlckluZGV4ICE9PSB1bmRlZmluZWQsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgYWRkTm90aWNlUGFydGlhbDogJ2NoYXJhY3RlckluZGV4JyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIGlmIChub3RpY2VPYmplY3QuY2hhcmFjdGVySW5kZXgpIHsgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIG5vdGljZU9iamVjdC5jaGFyYWN0ZXJJbmRleCA9PT0gJ251bWJlcicsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnY2hhcmFjdGVySW5kZXgnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBudW1iZXIgbm90IGEgJyR7dHlwZW9mIG5vdGljZU9iamVjdC5jaGFyYWN0ZXJJbmRleH0nOiAke25vdGljZU9iamVjdC5jaGFyYWN0ZXJJbmRleH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyAvL3BhcmFtZXRlckFzc2VydChleGNlcnB0ICE9PSB1bmRlZmluZWQsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgYWRkTm90aWNlUGFydGlhbDogJ2V4Y2VycHQnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgaWYgKG5vdGljZU9iamVjdC5leGNlcnB0KSB7IC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBub3RpY2VPYmplY3QuZXhjZXJwdCA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnZXhjZXJwdCcgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2Ygbm90aWNlT2JqZWN0LmV4Y2VycHR9JzogJHtub3RpY2VPYmplY3QuZXhjZXJwdH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvL3BhcmFtZXRlckFzc2VydChub3RpY2VPYmplY3QubG9jYXRpb24gIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnbG9jYXRpb24nIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIG5vdGljZU9iamVjdC5sb2NhdGlvbiA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBhZGROb3RpY2VQYXJ0aWFsOiAnbG9jYXRpb24nIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIG5vdGljZU9iamVjdC5sb2NhdGlvbn0nOiAke25vdGljZU9iamVjdC5sb2NhdGlvbn1gKTtcblxuICAgICAgICAvLyBBbHNvIHVzZXMgdGhlIGdpdmVuIGJvb2tJRCxDLFYsIHBhcmFtZXRlcnMgZnJvbSB0aGUgbWFpbiBmdW5jdGlvbiBjYWxsXG4gICAgICAgIC8vIG5vdGljZU9iamVjdC5kZWJ1Z0NoYWluID0gbm90aWNlT2JqZWN0LmRlYnVnQ2hhaW4gPyBgY2hlY2tUV0xfVFNWNkRhdGFSb3cgJHtub3RpY2VPYmplY3QuZGVidWdDaGFpbn1gIDogYGNoZWNrVFdMX1RTVjZEYXRhUm93KCR7cmVwb0NvZGV9KWA7XG4gICAgICAgIGRyUmVzdWx0Lm5vdGljZUxpc3QucHVzaCh7IC4uLm5vdGljZU9iamVjdCwgYm9va0lELCBDOiBnaXZlbkMsIFY6IGdpdmVuViB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvdXJDaGVja1RleHRGaWVsZChyb3dJRCwgZmllbGROYW1lLCBmaWVsZFRleHQsIGFsbG93ZWRMaW5rcywgcm93TG9jYXRpb24sIGNoZWNraW5nT3B0aW9ucykge1xuICAgICAgICAvKipcbiAgICAgICAgKiBAZGVzY3JpcHRpb24gLSBjaGVja3MgdGhlIGdpdmVuIHRleHQgZmllbGQgYW5kIHByb2Nlc3NlcyB0aGUgcmV0dXJuZWQgcmVzdWx0c1xuICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb3dJRCAtIDQtY2hhcmFjdGVyIHJvdyBJRCBmaWVsZFxuICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgLSBuYW1lIG9mIHRoZSBmaWVsZCBiZWluZyBjaGVja2VkXG4gICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkVGV4dCAtIHRoZSBhY3R1YWwgdGV4dCBvZiB0aGUgZmllbGQgYmVpbmcgY2hlY2tlZFxuICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dlZExpbmtzIC0gdHJ1ZSBpZiBsaW5rcyBhcmUgYWxsb3dlZCBpbiB0aGUgZmllbGQsIG90aGVyd2lzZSBmYWxzZVxuICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb3dMb2NhdGlvbiAtIGRlc2NyaXB0aW9uIG9mIHdoZXJlIHRoZSBsaW5lIGlzIGxvY2F0ZWRcbiAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gY2hlY2tpbmdPcHRpb25zIC0gcGFyYW1ldGVycyB0aGF0IG1pZ2h0IGFmZmVjdCB0aGUgY2hlY2tcbiAgICAgICAgKi9cbiAgICAgICAgLy8gRG9lcyBiYXNpYyBjaGVja3MgZm9yIHNtYWxsIGVycm9ycyBsaWtlIGxlYWRpbmcvdHJhaWxpbmcgc3BhY2VzLCBldGMuXG5cbiAgICAgICAgLy8gV2UgYXNzdW1lIHRoYXQgY2hlY2tpbmcgZm9yIGNvbXB1bHNvcnkgZmllbGRzIGlzIGRvbmUgZWxzZXdoZXJlXG5cbiAgICAgICAgLy8gVXBkYXRlcyB0aGUgZ2xvYmFsIGxpc3Qgb2Ygbm90aWNlc1xuXG4gICAgICAgIC8vIGZ1bmN0aW9uTG9nKGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1RleHRGaWVsZCgke2ZpZWxkTmFtZX0sICgke2ZpZWxkVGV4dC5sZW5ndGh9KSwgJHthbGxvd2VkTGlua3N9LCAke3Jvd0xvY2F0aW9ufSwg4oCmKWApO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydChyb3dJRCAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93IG91ckNoZWNrVGV4dEZpZWxkOiAncm93SUQnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIHJvd0lEID09PSAnc3RyaW5nJywgYGNoZWNrVFdMX1RTVjZEYXRhUm93IG91ckNoZWNrVGV4dEZpZWxkOiAncm93SUQnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIHJvd0lEfSdgKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQoZmllbGROYW1lICE9PSB1bmRlZmluZWQsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tUZXh0RmllbGQ6ICdmaWVsZE5hbWUnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIGZpZWxkTmFtZSA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1RleHRGaWVsZDogJ2ZpZWxkTmFtZScgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgZmllbGROYW1lfSdgKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQoZmllbGRUZXh0ICE9PSB1bmRlZmluZWQsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tUZXh0RmllbGQ6ICdmaWVsZFRleHQnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIGZpZWxkVGV4dCA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1RleHRGaWVsZDogJ2ZpZWxkVGV4dCcgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgZmllbGRUZXh0fSdgKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQoYWxsb3dlZExpbmtzID09PSB0cnVlIHx8IGFsbG93ZWRMaW5rcyA9PT0gZmFsc2UsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tUZXh0RmllbGQ6IGFsbG93ZWRMaW5rcyBwYXJhbWV0ZXIgbXVzdCBiZSBlaXRoZXIgdHJ1ZSBvciBmYWxzZVwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQocm93TG9jYXRpb24gIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1RleHRGaWVsZDogJ3Jvd0xvY2F0aW9uJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiByb3dMb2NhdGlvbiA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1RleHRGaWVsZDogJ3Jvd0xvY2F0aW9uJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiByb3dMb2NhdGlvbn0nYCk7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHJvd0xvY2F0aW9uLmluZGV4T2YoZmllbGROYW1lKSA8IDAsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1RleHRGaWVsZDogJ3Jvd0xvY2F0aW9uJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIG5vdCBjb250YWluIGZpZWxkTmFtZT0ke2ZpZWxkTmFtZX1gKTtcblxuICAgICAgICBjb25zdCBmaWVsZFR5cGUgPSAncmF3JztcbiAgICAgICAgY29uc3Qgb2N0ZlJlc3VsdE9iamVjdCA9IGNoZWNrVGV4dEZpZWxkKGxhbmd1YWdlQ29kZSwgcmVwb0NvZGUsIGZpZWxkVHlwZSwgZmllbGROYW1lLCBmaWVsZFRleHQsIGFsbG93ZWRMaW5rcywgcm93TG9jYXRpb24sIGNoZWNraW5nT3B0aW9ucyk7XG5cbiAgICAgICAgLy8gQ2hvb3NlIG9ubHkgT05FIG9mIHRoZSBmb2xsb3dpbmdcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmFzdCB3YXkgb2YgYXBwZW5kIHRoZSByZXN1bHRzIGZyb20gdGhpcyBmaWVsZFxuICAgICAgICAvLyByZXN1bHQubm90aWNlTGlzdCA9IHJlc3VsdC5ub3RpY2VMaXN0LmNvbmNhdChkYnRjUmVzdWx0T2JqZWN0Lm5vdGljZUxpc3QpO1xuICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIHB1dCBldmVyeXRoaW5nIHRocm91Z2ggYWRkTm90aWNlUGFydGlhbCwgZS5nLiwgZm9yIGRlYnVnZ2luZyBvciBmaWx0ZXJpbmdcbiAgICAgICAgLy8gIHByb2Nlc3MgcmVzdWx0cyBsaW5lIGJ5IGxpbmVcbiAgICAgICAgZm9yIChjb25zdCBub3RpY2VFbnRyeSBvZiBvY3RmUmVzdWx0T2JqZWN0Lm5vdGljZUxpc3QpIHtcbiAgICAgICAgICAgIC8vIC8vcGFyYW1ldGVyQXNzZXJ0KE9iamVjdC5rZXlzKG5vdGljZUVudHJ5KS5sZW5ndGggPT09IDUsIGBUTCBvdXJDaGVja1RleHRGaWVsZCBub3RpY2UgbGVuZ3RoPSR7T2JqZWN0LmtleXMobm90aWNlRW50cnkpLmxlbmd0aH1gKTtcbiAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyAuLi5ub3RpY2VFbnRyeSwgcm93SUQsIGZpZWxkTmFtZSB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2N0ZlJlc3VsdE9iamVjdC5zdWdnZXN0aW9uOyAvLyBUaGVyZSBtYXkgb3IgbWF5IG5vdCBiZSBvbmUhXG4gICAgfVxuICAgIC8vIGVuZCBvZiBvdXJDaGVja1RleHRGaWVsZCBmdW5jdGlvblxuXG5cbiAgICBhc3luYyBmdW5jdGlvbiBvdXJDaGVja1ROT3JpZ2luYWxMYW5ndWFnZVF1b3RlQW5kT2NjdXJyZW5jZShyb3dJRCwgZmllbGROYW1lLCBmaWVsZFRleHQsIG9jY3VycmVuY2UsIHJvd0xvY2F0aW9uLCBjaGVja2luZ09wdGlvbnMpIHtcbiAgICAgICAgLy8gQ2hlY2tzIHRoYXQgdGhlIEhlYnJldy9HcmVlayBxdW90ZSBjYW4gYmUgZm91bmQgaW4gdGhlIG9yaWdpbmFsIHRleHRzXG5cbiAgICAgICAgLy8gVXNlcyB0aGUgYm9va0lELEMsViB2YWx1ZXMgZnJvbSB0aGUgbWFpbiBmdW5jdGlvbiBjYWxsXG5cbiAgICAgICAgLy8gVXBkYXRlcyB0aGUgZ2xvYmFsIGxpc3Qgb2Ygbm90aWNlc1xuXG4gICAgICAgIC8vIGZ1bmN0aW9uTG9nKGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1ROT3JpZ2luYWxMYW5ndWFnZVF1b3RlQW5kT2NjdXJyZW5jZSgke2ZpZWxkTmFtZX0sICgke2ZpZWxkVGV4dC5sZW5ndGh9KSAnJHtmaWVsZFRleHR9JywgJHtyb3dMb2NhdGlvbn0sIOKApilgKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQocm93SUQgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1ROT3JpZ2luYWxMYW5ndWFnZVF1b3RlQW5kT2NjdXJyZW5jZTogJ3Jvd0lEJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiByb3dJRCA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1ROT3JpZ2luYWxMYW5ndWFnZVF1b3RlQW5kT2NjdXJyZW5jZTogJ3Jvd0lEJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiByb3dJRH0nYCk7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGZpZWxkTmFtZSAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93IG91ckNoZWNrVE5PcmlnaW5hbExhbmd1YWdlUXVvdGVBbmRPY2N1cnJlbmNlOiAnZmllbGROYW1lJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBmaWVsZE5hbWUgPT09ICdzdHJpbmcnLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tUTk9yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2U6ICdmaWVsZE5hbWUnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIGZpZWxkTmFtZX0nYCk7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGZpZWxkVGV4dCAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93IG91ckNoZWNrVE5PcmlnaW5hbExhbmd1YWdlUXVvdGVBbmRPY2N1cnJlbmNlOiAnZmllbGRUZXh0JyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBmaWVsZFRleHQgPT09ICdzdHJpbmcnLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tUTk9yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2U6ICdmaWVsZFRleHQnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIGZpZWxkVGV4dH0nYCk7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KG9jY3VycmVuY2UgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja1ROT3JpZ2luYWxMYW5ndWFnZVF1b3RlQW5kT2NjdXJyZW5jZTogJ29jY3VycmVuY2UnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIG9jY3VycmVuY2UgPT09ICdzdHJpbmcnLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tUTk9yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2U6ICdvY2N1cnJlbmNlJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiBvY2N1cnJlbmNlfSdgKTtcbiAgICAgICAgLy9wYXJhbWV0ZXJBc3NlcnQocm93TG9jYXRpb24uaW5kZXhPZihmaWVsZE5hbWUpIDwgMCwgYGNoZWNrVFdMX1RTVjZEYXRhUm93IG91ckNoZWNrVE5PcmlnaW5hbExhbmd1YWdlUXVvdGVBbmRPY2N1cnJlbmNlOiAncm93TG9jYXRpb24nIHBhcmFtZXRlciBzaG91bGQgYmUgbm90IGNvbnRhaW4gZmllbGROYW1lPSR7ZmllbGROYW1lfWApO1xuXG4gICAgICAgIGNvbnN0IGNvbHFSZXN1bHRPYmplY3QgPSBhd2FpdCBjaGVja09yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2UobGFuZ3VhZ2VDb2RlLCByZXBvQ29kZSwgZmllbGROYW1lLCBmaWVsZFRleHQsIG9jY3VycmVuY2UsIGJvb2tJRCwgZ2l2ZW5DLCBnaXZlblYsIHJvd0xvY2F0aW9uLCBjaGVja2luZ09wdGlvbnMpO1xuXG4gICAgICAgIC8vIENob29zZSBvbmx5IE9ORSBvZiB0aGUgZm9sbG93aW5nXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZhc3Qgd2F5IG9mIGFwcGVuZCB0aGUgcmVzdWx0cyBmcm9tIHRoaXMgZmllbGRcbiAgICAgICAgLy8gcmVzdWx0Lm5vdGljZUxpc3QgPSByZXN1bHQubm90aWNlTGlzdC5jb25jYXQoY29scVJlc3VsdE9iamVjdC5ub3RpY2VMaXN0KTtcbiAgICAgICAgLy8gSWYgd2UgbmVlZCB0byBwdXQgZXZlcnl0aGluZyB0aHJvdWdoIGFkZE5vdGljZVBhcnRpYWwsIGUuZy4sIGZvciBkZWJ1Z2dpbmcgb3IgZmlsdGVyaW5nXG4gICAgICAgIC8vICBwcm9jZXNzIHJlc3VsdHMgbGluZSBieSBsaW5lXG4gICAgICAgIGZvciAoY29uc3Qgbm90aWNlRW50cnkgb2YgY29scVJlc3VsdE9iamVjdC5ub3RpY2VMaXN0KSB7XG4gICAgICAgICAgICAvLyAvL3BhcmFtZXRlckFzc2VydChPYmplY3Qua2V5cyhub3RpY2VFbnRyeSkubGVuZ3RoID09PSA1LCBgVEwgb3VyQ2hlY2tUTk9yaWdpbmFsTGFuZ3VhZ2VRdW90ZUFuZE9jY3VycmVuY2Ugbm90aWNlIGxlbmd0aD0ke09iamVjdC5rZXlzKG5vdGljZUVudHJ5KS5sZW5ndGh9YCk7XG4gICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgLi4ubm90aWNlRW50cnksIHJvd0lELCBmaWVsZE5hbWUgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZW5kIG9mIG91ckNoZWNrVE5PcmlnaW5hbExhbmd1YWdlUXVvdGVBbmRPY2N1cnJlbmNlIGZ1bmN0aW9uXG5cblxuICAgIGFzeW5jIGZ1bmN0aW9uIG91ckNoZWNrTm90ZXNMaW5rc1RvT3V0c2lkZShyb3dJRCwgZmllbGROYW1lLCB0d0xpbmtUZXh0LCByb3dMb2NhdGlvbiwgY2hlY2tpbmdPcHRpb25zKSB7XG4gICAgICAgIC8vIENoZWNrcyB0aGF0IHRoZSBUQS9UVy9CaWJsZSByZWZlcmVuY2UgY2FuIGJlIGZvdW5kXG5cbiAgICAgICAgLy8gVXBkYXRlcyB0aGUgZ2xvYmFsIGxpc3Qgb2Ygbm90aWNlc1xuXG4gICAgICAgIC8vIGZ1bmN0aW9uTG9nKGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja05vdGVzTGlua3NUb091dHNpZGUoJHtyb3dJRH0sICR7ZmllbGROYW1lfSwgKCR7dHdMaW5rVGV4dC5sZW5ndGh9KSAnJHt0d0xpbmtUZXh0fScsICR7cm93TG9jYXRpb259LCAke0pTT04uc3RyaW5naWZ5KGNoZWNraW5nT3B0aW9ucyl9KWApO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydChyb3dJRCAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVFdMX1RTVjZEYXRhUm93IG91ckNoZWNrTm90ZXNMaW5rc1RvT3V0c2lkZTogJ3Jvd0lEJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiByb3dJRCA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja05vdGVzTGlua3NUb091dHNpZGU6ICdyb3dJRCcgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2Ygcm93SUR9J2ApO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydChmaWVsZE5hbWUgPT09ICdUV0xpbmsnLCBgY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tOb3Rlc0xpbmtzVG9PdXRzaWRlOiAnZmllbGROYW1lJyBwYXJhbWV0ZXIgc2hvdWxkIGJlICdUV0xpbmsnIG5vdCAnJHtmaWVsZE5hbWV9J2ApO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydCh0d0xpbmtUZXh0ICE9PSB1bmRlZmluZWQsIFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgb3VyQ2hlY2tOb3Rlc0xpbmtzVG9PdXRzaWRlOiAndHdMaW5rVGV4dCcgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2YgdHdMaW5rVGV4dCA9PT0gJ3N0cmluZycsIGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBvdXJDaGVja05vdGVzTGlua3NUb091dHNpZGU6ICd0d0xpbmtUZXh0JyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiB0d0xpbmtUZXh0fSdgKTtcblxuICAgICAgICBsZXQgYWRqdXN0ZWRMYW5ndWFnZUNvZGUgPSBsYW5ndWFnZUNvZGU7IC8vIFRoaXMgaXMgdGhlIGxhbmd1YWdlIGNvZGUgb2YgdGhlIHJlc291cmNlIHdpdGggdGhlIGxpbmtcbiAgICAgICAgaWYgKGxhbmd1YWdlQ29kZSA9PT0gJ2hibycgfHwgbGFuZ3VhZ2VDb2RlID09PSAnZWwteC1rb2luZScpIGFkanVzdGVkTGFuZ3VhZ2VDb2RlID0gJ2VuJyAvLyBUaGlzIGlzIGEgZ3Vlc3MgKGFuZCB3b24ndCBiZSBuZWVkZWQgZm9yIFRXcyB3aGVuIHdlIHN3aXRjaCB0byBUV0xzKVxuICAgICAgICBjb25zdCBjb1RObFJlc3VsdE9iamVjdCA9IGF3YWl0IGNoZWNrTm90ZXNMaW5rc1RvT3V0c2lkZShsYW5ndWFnZUNvZGUsIHJlcG9Db2RlLCBib29rSUQsIGdpdmVuQywgZ2l2ZW5WLCBmaWVsZE5hbWUsIHR3TGlua1RleHQsIHJvd0xvY2F0aW9uLCB7IC4uLmNoZWNraW5nT3B0aW9ucywgZGVmYXVsdExhbmd1YWdlQ29kZTogYWRqdXN0ZWRMYW5ndWFnZUNvZGUgfSk7XG4gICAgICAgIC8vIGRlYnVnTG9nKGBjb1RObFJlc3VsdE9iamVjdD0ke0pTT04uc3RyaW5naWZ5KGNvVE5sUmVzdWx0T2JqZWN0KX1gKTtcblxuICAgICAgICAvLyBDaG9vc2Ugb25seSBPTkUgb2YgdGhlIGZvbGxvd2luZ1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmYXN0IHdheSBvZiBhcHBlbmQgdGhlIHJlc3VsdHMgZnJvbSB0aGlzIGZpZWxkXG4gICAgICAgIC8vIHJlc3VsdC5ub3RpY2VMaXN0ID0gcmVzdWx0Lm5vdGljZUxpc3QuY29uY2F0KGNvVE5sUmVzdWx0T2JqZWN0Lm5vdGljZUxpc3QpO1xuICAgICAgICAvLyBJZiB3ZSBuZWVkIHRvIHB1dCBldmVyeXRoaW5nIHRocm91Z2ggYWRkTm90aWNlUGFydGlhbCwgZS5nLiwgZm9yIGRlYnVnZ2luZyBvciBmaWx0ZXJpbmdcbiAgICAgICAgLy8gIHByb2Nlc3MgcmVzdWx0cyBsaW5lIGJ5IGxpbmVcbiAgICAgICAgZm9yIChjb25zdCBjb3FOb3RpY2VFbnRyeSBvZiBjb1RObFJlc3VsdE9iamVjdC5ub3RpY2VMaXN0KSB7XG4gICAgICAgICAgICBpZiAoY29xTm90aWNlRW50cnkuZXh0cmEpIC8vIGl0IG11c3QgYmUgYW4gaW5kaXJlY3QgY2hlY2sgb24gYSBUQSBvciBUVyBhcnRpY2xlIGZyb20gYSBUTjIgY2hlY2tcbiAgICAgICAgICAgICAgICBkclJlc3VsdC5ub3RpY2VMaXN0LnB1c2goY29xTm90aWNlRW50cnkpOyAvLyBKdXN0IGNvcHkgdGhlIGNvbXBsZXRlIG5vdGljZSBhcyBpc1xuICAgICAgICAgICAgZWxzZSAvLyBGb3Igb3VyIGRpcmVjdCBjaGVja3MsIHdlIGFkZCB0aGUgcmVwb0NvZGUgYXMgYW4gZXh0cmEgdmFsdWVcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgLi4uY29xTm90aWNlRW50cnksIHJvd0lELCBmaWVsZE5hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBpcyBuZWVkZWQgY296IHdlIG1pZ2h0IGJlIGNoZWNraW5nIHRoZSBsaW5rZWQgVEEgYW5kL29yIFRXIGFydGljbGVzXG4gICAgICAgIGlmIChjb1RObFJlc3VsdE9iamVjdC5jaGVja2VkRmlsZUNvdW50ICYmIGNvVE5sUmVzdWx0T2JqZWN0LmNoZWNrZWRGaWxlQ291bnQgPiAwKVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBkclJlc3VsdC5jaGVja2VkRmlsZUNvdW50ID09PSAnbnVtYmVyJykgZHJSZXN1bHQuY2hlY2tlZEZpbGVDb3VudCArPSBjb1RObFJlc3VsdE9iamVjdC5jaGVja2VkRmlsZUNvdW50O1xuICAgICAgICAgICAgZWxzZSBkclJlc3VsdC5jaGVja2VkRmlsZUNvdW50ID0gY29UTmxSZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVDb3VudDtcbiAgICAgICAgaWYgKGNvVE5sUmVzdWx0T2JqZWN0LmNoZWNrZWRGaWxlc2l6ZXMgJiYgY29UTmxSZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVzaXplcyA+IDApXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRyUmVzdWx0LmNoZWNrZWRGaWxlc2l6ZXMgPT09ICdudW1iZXInKSBkclJlc3VsdC5jaGVja2VkRmlsZXNpemVzICs9IGNvVE5sUmVzdWx0T2JqZWN0LmNoZWNrZWRGaWxlc2l6ZXM7XG4gICAgICAgICAgICBlbHNlIGRyUmVzdWx0LmNoZWNrZWRGaWxlc2l6ZXMgPSBjb1RObFJlc3VsdE9iamVjdC5jaGVja2VkRmlsZXNpemVzO1xuICAgICAgICBpZiAoY29UTmxSZXN1bHRPYmplY3QuY2hlY2tlZFJlcG9OYW1lcyAmJiBjb1RObFJlc3VsdE9iamVjdC5jaGVja2VkUmVwb05hbWVzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoZWNrZWRSZXBvTmFtZSBvZiBjb1RObFJlc3VsdE9iamVjdC5jaGVja2VkUmVwb05hbWVzKVxuICAgICAgICAgICAgICAgIHRyeSB7IGlmIChkclJlc3VsdC5jaGVja2VkUmVwb05hbWVzLmluZGV4T2YoY2hlY2tlZFJlcG9OYW1lKSA8IDApIGRyUmVzdWx0LmNoZWNrZWRSZXBvTmFtZXMucHVzaChjaGVja2VkUmVwb05hbWUpOyB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggeyBkclJlc3VsdC5jaGVja2VkUmVwb05hbWVzID0gW2NoZWNrZWRSZXBvTmFtZV07IH1cbiAgICAgICAgaWYgKGNvVE5sUmVzdWx0T2JqZWN0LmNoZWNrZWRGaWxlbmFtZUV4dGVuc2lvbnMgJiYgY29UTmxSZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVuYW1lRXh0ZW5zaW9ucy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgZm9yIChjb25zdCBjaGVja2VkRmlsZW5hbWVFeHRlbnNpb24gb2YgY29UTmxSZXN1bHRPYmplY3QuY2hlY2tlZEZpbGVuYW1lRXh0ZW5zaW9ucylcbiAgICAgICAgICAgICAgICB0cnkgeyBpZiAoZHJSZXN1bHQuY2hlY2tlZEZpbGVuYW1lRXh0ZW5zaW9ucy5pbmRleE9mKGNoZWNrZWRGaWxlbmFtZUV4dGVuc2lvbikgPCAwKSBkclJlc3VsdC5jaGVja2VkRmlsZW5hbWVFeHRlbnNpb25zLnB1c2goY2hlY2tlZEZpbGVuYW1lRXh0ZW5zaW9uKTsgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHsgZHJSZXN1bHQuY2hlY2tlZEZpbGVuYW1lRXh0ZW5zaW9ucyA9IFtjaGVja2VkRmlsZW5hbWVFeHRlbnNpb25dOyB9XG4gICAgICAgIC8vIGlmIChkclJlc3VsdC5jaGVja2VkRmlsZW5hbWVFeHRlbnNpb25zKSB1c2VyTG9nKFwiZHJSZXN1bHRcIiwgSlNPTi5zdHJpbmdpZnkoZHJSZXN1bHQpKTtcbiAgICB9XG4gICAgLy8gZW5kIG9mIG91ckNoZWNrTm90ZXNMaW5rc1RvT3V0c2lkZSBmdW5jdGlvblxuXG5cbiAgICAvLyBNYWluIGNvZGUgZm9yIGNoZWNrVFdMX1RTVjZEYXRhUm93IGZ1bmN0aW9uXG4gICAgaWYgKGxpbmUgPT09IEVYUEVDVEVEX1RXTF9IRUFESU5HX0xJTkUpIC8vIEFzc3VtZSBpdCBtdXN0IGJlIG9rXG4gICAgICAgIHJldHVybiBkclJlc3VsdDsgLy8gV2UgY2Fu4oCZdCBkZXRlY3QgaWYgaXTigJlzIGluIHRoZSB3cm9uZyBwbGFjZVxuXG4gICAgbGV0IGV4Y2VycHRMZW5ndGg7XG4gICAgdHJ5IHtcbiAgICAgICAgZXhjZXJwdExlbmd0aCA9IGNoZWNraW5nT3B0aW9ucz8uZXhjZXJwdExlbmd0aDtcbiAgICB9IGNhdGNoICh0bGNFTGVycm9yKSB7IH1cbiAgICBpZiAodHlwZW9mIGV4Y2VycHRMZW5ndGggIT09ICdudW1iZXInIHx8IGlzTmFOKGV4Y2VycHRMZW5ndGgpKSB7XG4gICAgICAgIGV4Y2VycHRMZW5ndGggPSBERUZBVUxUX0VYQ0VSUFRfTEVOR1RIO1xuICAgICAgICAvLyBkZWJ1Z0xvZyhgVXNpbmcgZGVmYXVsdCBleGNlcnB0TGVuZ3RoPSR7ZXhjZXJwdExlbmd0aH1gKTtcbiAgICB9XG4gICAgLy8gZWxzZVxuICAgIC8vIGRlYnVnTG9nKGBVc2luZyBzdXBwbGllZCBleGNlcnB0TGVuZ3RoPSR7ZXhjZXJwdExlbmd0aH1gLCBgY2YuIGRlZmF1bHQ9JHtERUZBVUxUX0VYQ0VSUFRfTEVOR1RIfWApO1xuICAgIGNvbnN0IGV4Y2VycHRIYWxmTGVuZ3RoID0gTWF0aC5mbG9vcihleGNlcnB0TGVuZ3RoIC8gMik7IC8vIHJvdW5kZWQgZG93blxuICAgIGNvbnN0IGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA9IE1hdGguZmxvb3IoKGV4Y2VycHRMZW5ndGggKyAxKSAvIDIpOyAvLyByb3VuZGVkIHVwXG4gICAgLy8gZGVidWdMb2coYFVzaW5nIGV4Y2VycHRIYWxmTGVuZ3RoPSR7ZXhjZXJwdEhhbGZMZW5ndGh9YCwgYGV4Y2VycHRIYWxmTGVuZ3RoUGx1cz0ke2V4Y2VycHRIYWxmTGVuZ3RoUGx1c31gKTtcblxuICAgIGNvbnN0IGxvd2VyY2FzZUJvb2tJRCA9IGJvb2tJRC50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCBudW1DaGFwdGVyc1RoaXNCb29rO1xuICAgIGlmIChib29rSUQgPT09ICdPQlMnKVxuICAgICAgICBudW1DaGFwdGVyc1RoaXNCb29rID0gNTA7IC8vIFRoZXJlJ3MgNTAgT3BlbiBCaWJsZSBTdG9yaWVzXG4gICAgZWxzZSB7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGxvd2VyY2FzZUJvb2tJRCAhPT0gJ29icycsIFwiU2hvdWxkbuKAmXQgaGFwcGVuIGluIGNoZWNrVFdMX1RTVjZEYXRhUm93XCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbnVtQ2hhcHRlcnNUaGlzQm9vayA9IGJvb2tzLmNoYXB0ZXJzSW5Cb29rKGJvb2tJRCk7XG4gICAgICAgIH0gY2F0Y2ggKHRsY05DZXJyb3IpIHtcbiAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogOTc5LCBtZXNzYWdlOiBcIkludmFsaWQgYm9vayBpZGVudGlmaWVyIHBhc3NlZCB0byBjaGVja1RXTF9UU1Y2RGF0YVJvd1wiLCBsb2NhdGlvbjogYCAnJHtib29rSUR9JyBpbiBmaXJzdCBwYXJhbWV0ZXI6ICR7dGxjTkNlcnJvcn1gIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGhhdmVHb29kQm9va0lEID0gbnVtQ2hhcHRlcnNUaGlzQm9vayAhPT0gdW5kZWZpbmVkO1xuXG4gICAgbGV0IGZpZWxkcyA9IGxpbmUuc3BsaXQoJ1xcdCcpO1xuICAgIGxldCBSSURTdWdnZXN0aW9uLCBRU3VnZ2VzdGlvbiwgT1N1Z2dlc3Rpb24sIExTdWdnZXN0aW9uO1xuICAgIGlmIChmaWVsZHMubGVuZ3RoID09PSBOVU1fRVhQRUNURURfVFdMX1RTVl9GSUVMRFMpIHtcbiAgICAgICAgY29uc3QgW3JlZmVyZW5jZSwgcm93SUQsIHRhZ3MsIG9yaWdXb3Jkcywgb2NjdXJyZW5jZSwgVFdMaW5rXSA9IGZpZWxkcztcbiAgICAgICAgLy8gbGV0IHdpdGhTdHJpbmcgPSBgIHdpdGggJyR7cm93SUR9JyR7aW5TdHJpbmd9YDtcbiAgICAgICAgLy8gbGV0IENWX3dpdGhTdHJpbmcgPSBgICR7Q306JHtWfSR7d2l0aFN0cmluZ31gO1xuICAgICAgICAvLyBsZXQgYXRTdHJpbmcgPSBgIGF0ICR7Qn0gJHtDfToke1Z9ICgke3Jvd0lEfSkke2luU3RyaW5nfWA7XG5cbiAgICAgICAgLy8gQ2hlY2sgdGhlIGZpZWxkcyBvbmUtYnktb25lXG4gICAgICAgIGNvbnN0IFtDLCBWXSA9IHJlZmVyZW5jZS5zcGxpdCgnOicpO1xuICAgICAgICBsZXQgbnVtVmVyc2VzVGhpc0NoYXB0ZXIsIGhhdmVHb29kQ2hhcHRlck51bWJlcjtcbiAgICAgICAgaWYgKEMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoQyAhPT0gZ2l2ZW5DKVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogOTc2LCBtZXNzYWdlOiBcIldyb25nIGNoYXB0ZXIgbnVtYmVyXCIsIGRldGFpbHM6IGBleHBlY3RlZCAnJHtnaXZlbkN9J2AsIGZpZWxkTmFtZTogJ1JlZmVyZW5jZScsIHJvd0lELCBleGNlcnB0OiBDLCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG4gICAgICAgICAgICBpZiAoQyA9PT0gJ2Zyb250JykgeyB9XG4gICAgICAgICAgICBlbHNlIGlmICgvXlxcZCskLy50ZXN0KEMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGludEMgPSBOdW1iZXIoQyk7XG4gICAgICAgICAgICAgICAgaWYgKGludEMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA4MjQsIG1lc3NhZ2U6IGBJbnZhbGlkIHplcm8gY2hhcHRlciBudW1iZXJgLCBleGNlcnB0OiBDLCByb3dJRCwgZmllbGROYW1lOiAnUmVmZXJlbmNlJywgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICBoYXZlR29vZENoYXB0ZXJOdW1iZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogRG9lcyB0aGlzIG5leHQgc2VjdGlvbiBuZWVkIHJld3JpdGluZyAoc2VlIHZlcnNlIGNoZWNrIGJlbG93KT8/P1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGludEMgPiBudW1DaGFwdGVyc1RoaXNCb29rKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogODIzLCBtZXNzYWdlOiBgSW52YWxpZCBsYXJnZSBjaGFwdGVyIG51bWJlcmAsIGV4Y2VycHQ6IEMsIHJvd0lELCBmaWVsZE5hbWU6ICdSZWZlcmVuY2UnLCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG4gICAgICAgICAgICAgICAgICAgIGhhdmVHb29kQ2hhcHRlck51bWJlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobG93ZXJjYXNlQm9va0lEID09PSAnb2JzJylcbiAgICAgICAgICAgICAgICAgICAgbnVtVmVyc2VzVGhpc0NoYXB0ZXIgPSA5OTsgLy8gU2V0IHRvIG1heGltdW0gZXhwZWN0ZWQgbnVtYmVyIG9mIGZyYW1lc1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVtVmVyc2VzVGhpc0NoYXB0ZXIgPSBib29rcy52ZXJzZXNJbkNoYXB0ZXIobG93ZXJjYXNlQm9va0lELCBpbnRDKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhdmVHb29kQ2hhcHRlck51bWJlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKHRsY05WZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGF2ZUdvb2RCb29rSUQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkTm90aWNlUGFydGlhbCh7cHJpb3JpdHk6NTAwLCBcIkludmFsaWQgY2hhcHRlciBudW1iZXJcIiwgcm93TG9jYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDgyMiwgbWVzc2FnZTogXCJVbmFibGUgdG8gY2hlY2sgY2hhcHRlciBudW1iZXJcIiwgZXhjZXJwdDogQywgcm93SUQsIGZpZWxkTmFtZTogJ1JlZmVyZW5jZScsIGxvY2F0aW9uOiBvdXJSb3dMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhdmVHb29kQ2hhcHRlck51bWJlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogODIxLCBtZXNzYWdlOiBcIkJhZCBjaGFwdGVyIG51bWJlclwiLCBleGNlcnB0OiBDLCByb3dJRCwgZmllbGROYW1lOiAnUmVmZXJlbmNlJywgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogODIwLCBtZXNzYWdlOiBcIk1pc3NpbmcgY2hhcHRlciBudW1iZXJcIiwgcm93SUQsIGZpZWxkTmFtZTogJ1JlZmVyZW5jZScsIGxvY2F0aW9uOiBgID86JHtWfSR7b3VyUm93TG9jYXRpb259YCB9KTtcblxuICAgICAgICBpZiAoVj8ubGVuZ3RoKSB7IC8vIGNhbiBiZSB1bmRlZmluZWQgaWYgbm8gY29sb24gYXQgc3BsaXQgYWJvdmVcbiAgICAgICAgICAgIGlmIChWICE9PSBnaXZlblYpXG4gICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA5NzUsIG1lc3NhZ2U6IFwiV3JvbmcgdmVyc2UgbnVtYmVyXCIsIGRldGFpbHM6IGBleHBlY3RlZCAnJHtnaXZlblZ9J2AsIHJvd0lELCBmaWVsZE5hbWU6ICdSZWZlcmVuY2UnLCBleGNlcnB0OiBWLCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG4gICAgICAgICAgICBpZiAoYm9va0lEID09PSAnT0JTJyB8fCBWID09PSAnaW50cm8nKSB7IH1cbiAgICAgICAgICAgIGVsc2UgaWYgKC9eXFxkKyQvLnRlc3QoVikpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW50ViA9IE51bWJlcihWKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ViA9PT0gMCAmJiBib29rSUQgIT09ICdQU0EnKSAvLyBQc2FsbXMgaGF2ZSBcXGQgYXMgdmVyc2UgemVyb1xuICAgICAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDgxNCwgbWVzc2FnZTogXCJJbnZhbGlkIHplcm8gdmVyc2UgbnVtYmVyXCIsIHJvd0lELCBmaWVsZE5hbWU6ICdSZWZlcmVuY2UnLCBleGNlcnB0OiBWLCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXZlR29vZENoYXB0ZXJOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnRWID4gbnVtVmVyc2VzVGhpc0NoYXB0ZXIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA4MTMsIG1lc3NhZ2U6IFwiSW52YWxpZCBsYXJnZSB2ZXJzZSBudW1iZXJcIiwgZGV0YWlsczogYCR7Ym9va0lEfSBjaGFwdGVyICR7Q30gb25seSBoYXMgJHtudW1WZXJzZXNUaGlzQ2hhcHRlcn0gdmVyc2VzYCwgcm93SUQsIGZpZWxkTmFtZTogJ1JlZmVyZW5jZScsIGV4Y2VycHQ6IFYsIGxvY2F0aW9uOiBvdXJSb3dMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDgxMiwgbWVzc2FnZTogXCJVbmFibGUgdG8gY2hlY2sgdmVyc2UgbnVtYmVyXCIsIHJvd0lELCBmaWVsZE5hbWU6ICdSZWZlcmVuY2UnLCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogODExLCBtZXNzYWdlOiBcIkJhZCB2ZXJzZSBudW1iZXJcIiwgcm93SUQsIGZpZWxkTmFtZTogJ1JlZmVyZW5jZScsIGxvY2F0aW9uOiBgICcke1Z9JyR7b3VyUm93TG9jYXRpb259YCB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDgxMCwgbWVzc2FnZTogXCJNaXNzaW5nIHZlcnNlIG51bWJlclwiLCByb3dJRCwgZmllbGROYW1lOiAnUmVmZXJlbmNlJywgbG9jYXRpb246IGAgYWZ0ZXIgJHtDfTo/JHtvdXJSb3dMb2NhdGlvbn1gIH0pO1xuXG4gICAgICAgIGlmICghcm93SUQubGVuZ3RoKVxuICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA5MzEsIG1lc3NhZ2U6IFwiTWlzc2luZyByb3cgSUQgZmllbGRcIiwgZmllbGROYW1lOiAnUmVmZXJlbmNlJywgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyb3dJRC5sZW5ndGggIT09IDQpIHtcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDc3OCwgbWVzc2FnZTogXCJSb3cgSUQgc2hvdWxkIGJlIGV4YWN0bHkgNCBjaGFyYWN0ZXJzXCIsIGRldGFpbHM6IGBub3QgJHtyb3dJRC5sZW5ndGh9YCwgcm93SUQsIGZpZWxkTmFtZTogJ0lEJywgZXhjZXJwdDogcm93SUQsIGxvY2F0aW9uOiBvdXJSb3dMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgICAgICBpZiAocm93SUQubGVuZ3RoID4gNCkgUklEU3VnZ2VzdGlvbiA9IHJvd0lELnN1YnN0cmluZygwLCA1KTtcbiAgICAgICAgICAgICAgICBlbHNlIHsgLy8gbXVzdCBiZSA8IDRcbiAgICAgICAgICAgICAgICAgICAgUklEU3VnZ2VzdGlvbiA9IHJvd0lEO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoUklEU3VnZ2VzdGlvbi5sZW5ndGggPCA0KSBSSURTdWdnZXN0aW9uICs9IExDX0FMUEhBQkVUX1BMVVNfRElHSVRTW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIExDX0FMUEhBQkVUX1BMVVNfRElHSVRTLmxlbmd0aCldOztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKExDX0FMUEhBQkVULmluZGV4T2Yocm93SURbMF0pIDwgMClcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDE3NiwgbWVzc2FnZTogXCJSb3cgSUQgc2hvdWxkIHN0YXJ0IHdpdGggYSBsb3dlcmNhc2UgbGV0dGVyXCIsIGNoYXJhY3RlckluZGV4OiAwLCByb3dJRCwgZmllbGROYW1lOiAnSUQnLCBleGNlcnB0OiByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoTENfQUxQSEFCRVRfUExVU19ESUdJVFMuaW5kZXhPZihyb3dJRFszXSkgPCAwKVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogMTc1LCBtZXNzYWdlOiBcIlJvdyBJRCBzaG91bGQgZW5kIHdpdGggYSBsb3dlcmNhc2UgbGV0dGVyIG9yIGRpZ2l0XCIsIGNoYXJhY3RlckluZGV4OiAzLCByb3dJRCwgZmllbGROYW1lOiAnSUQnLCBleGNlcnB0OiByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoTENfQUxQSEFCRVRfUExVU19ESUdJVFNfUExVU19IWVBIRU4uaW5kZXhPZihyb3dJRFsxXSkgPCAwKVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogMTc0LCBtZXNzYWdlOiBcIlJvdyBJRCBjaGFyYWN0ZXJzIHNob3VsZCBvbmx5IGJlIGxvd2VyY2FzZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGVuXCIsIGZpZWxkTmFtZTogJ0lEJywgY2hhcmFjdGVySW5kZXg6IDEsIHJvd0lELCBleGNlcnB0OiByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgZWxzZSBpZiAoTENfQUxQSEFCRVRfUExVU19ESUdJVFNfUExVU19IWVBIRU4uaW5kZXhPZihyb3dJRFsyXSkgPCAwKVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogMTczLCBtZXNzYWdlOiBcIlJvdyBJRCBjaGFyYWN0ZXJzIHNob3VsZCBvbmx5IGJlIGxvd2VyY2FzZSBsZXR0ZXJzLCBkaWdpdHMsIG9yIGh5cGVuXCIsIGZpZWxkTmFtZTogJ0lEJywgY2hhcmFjdGVySW5kZXg6IDIsIHJvd0lELCBleGNlcnB0OiByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRhZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgdGFnc0xpc3QgPSB0YWdzLnNwbGl0KCc7ICcpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0aGlzVGFnIG9mIHRhZ3NMaXN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXNUYWcgIT09ICdrZXl0ZXJtJyAmJiB0aGlzVGFnICE9PSAnbmFtZScpXG4gICAgICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzQwLCBtZXNzYWdlOiBcIlVucmVjb2duaXplZCB0YWdcIiwgZGV0YWlsczogYGZvdW5kICcke3RoaXNUYWd9JyBidXQgZXhwZWN0ZWQgJ2tleXRlcm0nIG9yICduYW1lJ2AsIGV4Y2VycHQ6IHRhZ3MsIGZpZWxkTmFtZTogJ1RhZ3MnLCByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9yaWdXb3Jkcy5sZW5ndGgpIHsgLy8gbmVlZCB0byBjaGVjayBVVE4gYWdhaW5zdCBVSEIgYW5kIFVHTlRcbiAgICAgICAgICAgIFFTdWdnZXN0aW9uID0gb3VyQ2hlY2tUZXh0RmllbGQocm93SUQsICdPcmlnV29yZHMnLCBvcmlnV29yZHMsIGZhbHNlLCBvdXJSb3dMb2NhdGlvbiwgY2hlY2tpbmdPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChvY2N1cnJlbmNlLmxlbmd0aClcbiAgICAgICAgICAgICAgICBhd2FpdCBvdXJDaGVja1ROT3JpZ2luYWxMYW5ndWFnZVF1b3RlQW5kT2NjdXJyZW5jZShyb3dJRCwgJ09yaWdXb3JkcycsIG9yaWdXb3Jkcywgb2NjdXJyZW5jZSwgb3VyUm93TG9jYXRpb24sIGNoZWNraW5nT3B0aW9ucyk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA3NTAsIG1lc3NhZ2U6IFwiTWlzc2luZyBvY2N1cnJlbmNlIGZpZWxkIHdoZW4gd2UgaGF2ZSBhbiBvcmlnaW5hbCBxdW90ZVwiLCBmaWVsZE5hbWU6ICdPY2N1cnJlbmNlJywgcm93SUQsIGxvY2F0aW9uOiBvdXJSb3dMb2NhdGlvbiB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIC8vIFRPRE86IEZpbmQgbW9yZSBkZXRhaWxzIGFib3V0IHdoZW4gdGhlc2UgZmllbGRzIGFyZSByZWFsbHkgY29tcHVsc29yeSAoYW5kIHdoZW4gdGhleSdyZSBub3QsIGUuZy4sIGZvciAnaW50cm8nKSA/Pz9cbiAgICAgICAgICAgIGlmIChWICE9PSAnaW50cm8nICYmIG9jY3VycmVuY2UgIT09ICcwJylcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDkxOSwgbWVzc2FnZTogXCJNaXNzaW5nIE9yaWdXb3JkcyBmaWVsZFwiLCBmaWVsZE5hbWU6ICdPcmlnV29yZHMnLCByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuXG4gICAgICAgIGlmIChvY2N1cnJlbmNlLmxlbmd0aCkgeyAvLyBUaGlzIHNob3VsZCB1c3VhbGx5IGJlIGEgZGlnaXRcbiAgICAgICAgICAgIGlmIChvY2N1cnJlbmNlID09PSAnMCcpIHsgLy8gemVybyBtZWFucyB0aGF0IGl0IGRvZXNu4oCZdCBvY2N1clxuICAgICAgICAgICAgICAgIGlmIChvcmlnV29yZHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzUxLCBtZXNzYWdlOiBcIkludmFsaWQgemVybyBvY2N1cnJlbmNlIGZpZWxkIHdoZW4gd2UgaGF2ZSBhbiBvcmlnaW5hbCBxdW90ZVwiLCBmaWVsZE5hbWU6ICdPY2N1cnJlbmNlJywgcm93SUQsIGV4Y2VycHQ6IG9jY3VycmVuY2UsIGxvY2F0aW9uOiBvdXJSb3dMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgT1N1Z2dlc3Rpb24gPSAnMSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIChWICE9PSAnaW50cm8nKVxuICAgICAgICAgICAgICAgIC8vICAgICBhZGROb3RpY2VQYXJ0aWFsKHtwcmlvcml0eTo1MDAsIG1lc3NhZ2U6XCJJbnZhbGlkIHplcm8gb2NjdXJyZW5jZSBmaWVsZFwiLCByb3dJRCwgbG9jYXRpb246cm93TG9jYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAob2NjdXJyZW5jZSA9PT0gJy0xJykgeyB9Ly8gVE9ETyBjaGVjayB0aGUgc3BlY2lhbCBjb25kaXRpb25zIHdoZW4gdGhpcyBjYW4gb2NjdXI/Pz9cbiAgICAgICAgICAgIGVsc2UgaWYgKCcxMjM0NTY3OCcuaW5kZXhPZihvY2N1cnJlbmNlKSA8IDApIHsgLy8gaXTigJlzIG5vdCBvbmUgb2YgdGhlc2UgaW50ZWdlcnNcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDc5MiwgbWVzc2FnZTogYEludmFsaWQgb2NjdXJyZW5jZSBmaWVsZGAsIGZpZWxkTmFtZTogJ09jY3VycmVuY2UnLCByb3dJRCwgZXhjZXJwdDogb2NjdXJyZW5jZSwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgICAgIE9TdWdnZXN0aW9uID0gJzEnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9yaWdXb3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzkxLCBtZXNzYWdlOiBgTWlzc2luZyBvY2N1cnJlbmNlIGZpZWxkYCwgZmllbGROYW1lOiAnT2NjdXJyZW5jZScsIHJvd0lELCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG4gICAgICAgICAgICBPU3VnZ2VzdGlvbiA9ICcxJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChUV0xpbmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBkZWJ1Z0xvZyhgY2hlY2tUV0xfVFNWNkRhdGFSb3cgY2hlY2tpbmcgJHtib29rSUR9ICR7cm93SUR9IFRXTGluaz0nJHtUV0xpbmt9J2ApO1xuICAgICAgICAgICAgaWYgKFRXTGluay5pbmRleE9mKCdcXHUyMDBCJykgPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJDb3VudCA9IGNvdW50T2NjdXJyZW5jZXMoVFdMaW5rLCAnXFx1MjAwQicpO1xuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogMzc0LCBtZXNzYWdlOiBcIkZpZWxkIGNvbnRhaW5zIHplcm8td2lkdGggc3BhY2UocylcIiwgZGV0YWlsczogYCR7Y2hhckNvdW50fSBvY2N1cnJlbmNlJHtjaGFyQ291bnQgPT09IDEgPyAnJyA6ICdzJ30gZm91bmRgLCBmaWVsZE5hbWU6ICdUV0xpbmsnLCByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShUV0xpbmspKVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzk2LCBtZXNzYWdlOiBcIkZpZWxkIGlzIG9ubHkgd2hpdGVzcGFjZVwiLCBmaWVsZE5hbWU6ICdUV0xpbmsnLCByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgZWxzZSB7IC8vIE1vcmUgdGhhbiBqdXN0IHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICBpZiAoIVRXTGluay5zdGFydHNXaXRoKCdyYzovLyovdHcvZGljdC9iaWJsZS8nKSlcbiAgICAgICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA3OTgsIG1lc3NhZ2U6IFwiRmllbGQgZG9lc27igJl0IGNvbnRhaW4gZXhwZWN0ZWQgVFcgbGlua1wiLCBkZXRhaWxzOiBgc2hvdWxkIHN0YXJ0IHdpdGggJ3JjOi8vKi90dy9kaWN0L2JpYmxlLydgLCBmaWVsZE5hbWU6ICdUV0xpbmsnLCByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBpdCBzdGFydHMgY29ycmVjdGx5XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpdHMgPSBUV0xpbmsuc3Vic3RyaW5nKCdyYzovLyovdHcvZGljdC9iaWJsZS8nLmxlbmd0aCkuc3BsaXQoJy8nKTsgLy8gR2V0IHRoZSBsYXN0IHR3byBiaXRzIG9mIHRoZSBsaW5rIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVidWdMb2coYGNoZWNrVFdMX1RTVjZEYXRhUm93IGNoZWNraW5nICR7Ym9va0lEfSAke3Jvd0lEfSBUV0xpbms9JyR7VFdMaW5rfScgZ290IGJpdHM9JHtKU09OLnN0cmluZ2lmeShiaXRzKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHNbMF0gIT09ICdrdCcgJiYgYml0c1swXSAhPT0gJ25hbWVzJyAmJiBiaXRzWzBdICE9PSAnb3RoZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJJbmRleCA9ICdyYzovLyovdHcvZGljdC9iaWJsZS8nLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2VycHQgPSAoY2hhcmFjdGVySW5kZXggPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJycpICsgVFdMaW5rLnN1YnN0cmluZyhjaGFyYWN0ZXJJbmRleCAtIGV4Y2VycHRIYWxmTGVuZ3RoLCBjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cykgKyAoY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBUV0xpbmsubGVuZ3RoID8gJ+KApicgOiAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzk3LCBtZXNzYWdlOiBcIkZpZWxkIGRvZXNu4oCZdCBjb250YWluIHByb3BlciBUVyBsaW5rXCIsIGRldGFpbHM6IGBzaG91bGQgYmUgJ2t0JywgJ25hbWVzJywgb3IgJ290aGVyJ2AsIGZpZWxkTmFtZTogJ1RXTGluaycsIHJvd0lELCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBhbGwgZ29vZCBzbyBmYXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlYnVnTG9nKGBjaGVja1RXTF9UU1Y2RGF0YVJvdyBsb29raW5nIHVwICR7Ym9va0lEfSAke3Jvd0lEfSBUV0xpbms9JyR7VFdMaW5rfScgZ290IGJpdHM9JHtKU09OLnN0cmluZ2lmeShiaXRzKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG91ckNoZWNrTm90ZXNMaW5rc1RvT3V0c2lkZShyb3dJRCwgJ1RXTGluaycsIFRXTGluaywgb3VyUm93TG9jYXRpb24sIGxpbmtDaGVja2luZ09wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgLy8gVFdMaW5rIGlzIGVtcHR5L21pc3NpbmdcbiAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzk5LCBtZXNzYWdlOiBcIk1pc3NpbmcgVFdMaW5rIGZpZWxkXCIsIGZpZWxkTmFtZTogJ1RXTGluaycsIHJvd0lELCBsb2NhdGlvbjogb3VyUm93TG9jYXRpb24gfSk7XG5cbiAgICAgICAgLy8gNyBbcmVmZXJlbmNlLCByb3dJRCwgdGFncywgcXVvdGUsIG9jY3VycmVuY2UsIFRXTGlua11cbiAgICAgICAgY29uc3Qgc3VnZ2VzdGlvbiA9IGAke3JlZmVyZW5jZX1cXHQke1JJRFN1Z2dlc3Rpb24gPT09IHVuZGVmaW5lZCA/IHJvd0lEIDogUklEU3VnZ2VzdGlvbn1cXHQke3RhZ3N9XFx0JHtRU3VnZ2VzdGlvbiA9PT0gdW5kZWZpbmVkID8gb3JpZ1dvcmRzIDogUVN1Z2dlc3Rpb259XFx0JHtPU3VnZ2VzdGlvbiA9PT0gdW5kZWZpbmVkID8gb2NjdXJyZW5jZSA6IE9TdWdnZXN0aW9ufVxcdCR7TFN1Z2dlc3Rpb24gPT09IHVuZGVmaW5lZCA/IFRXTGluayA6IExTdWdnZXN0aW9ufWA7XG4gICAgICAgIGlmIChzdWdnZXN0aW9uICE9PSBsaW5lKSB7XG4gICAgICAgICAgICBkclJlc3VsdC5zdWdnZXN0aW9uID0gc3VnZ2VzdGlvbjtcbiAgICAgICAgfVxuXG4gICAgfSBlbHNlIHsgLy8gd3JvbmcgbnVtYmVyIG9mIGZpZWxkcyBpbiB0aGUgcm93XG4gICAgICAgIC8vIEhhdmUgYSBnbyBhdCBnZXR0aW5nIHNvbWUgb2YgdGhlIGZpcnN0IGZpZWxkcyBvdXQgb2YgdGhlIHJvd1xuICAgICAgICBsZXQgcm93SUQgPSAnPz8/Pyc7XG4gICAgICAgIHRyeSB7IHJvd0lEID0gZmllbGRzWzFdOyB9IGNhdGNoIHsgfVxuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDk4NCwgbWVzc2FnZTogYEZvdW5kIHdyb25nIG51bWJlciBvZiBUU1YgZmllbGRzIChleHBlY3RlZCAke05VTV9FWFBFQ1RFRF9UV0xfVFNWX0ZJRUxEU30pYCwgZGV0YWlsczogYEZvdW5kICR7ZmllbGRzLmxlbmd0aH0gZmllbGQke2ZpZWxkcy5sZW5ndGggPT09IDEgPyAnJyA6ICdzJ31gLCByb3dJRCwgbG9jYXRpb246IG91clJvd0xvY2F0aW9uIH0pO1xuICAgIH1cblxuICAgIC8vIGRlYnVnTG9nKGAgIGNoZWNrVFdMX1RTVjZEYXRhUm93IHJldHVybmluZyB3aXRoICR7ZHJSZXN1bHQubm90aWNlTGlzdC5sZW5ndGgudG9Mb2NhbGVTdHJpbmcoKX0gbm90aWNlKHMpLmApO1xuICAgIC8vIGRlYnVnTG9nKFwiY2hlY2tUV0xfVFNWNkRhdGFSb3cgcmVzdWx0IGlzXCIsIEpTT04uc3RyaW5naWZ5KGRyUmVzdWx0KSk7XG4gICAgcmV0dXJuIGRyUmVzdWx0OyAvLyBvYmplY3Qgd2l0aCBub3RpY2VMaXN0IGFuZCBwb3NzaWJseSBzdWdnZXN0aW9uIG9ubHlcbn1cbi8vIGVuZCBvZiBjaGVja1RXTF9UU1Y2RGF0YVJvdyBmdW5jdGlvblxuIl19