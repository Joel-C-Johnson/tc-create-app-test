"use strict";Object.defineProperty(exports, "__esModule", { value: true });exports.checkTextField = checkTextField;
var _defaults = require("./defaults");
var _textHandlingFunctions = require("./text-handling-functions");

var _utilities = require("./utilities");function _createForOfIteratorHelper(o, allowArrayLike) {var it = typeof Symbol !== "undefined" && o[Symbol.iterator] || o["@@iterator"];if (!it) {if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {if (it) o = it;var i = 0;var F = function F() {};return { s: F, n: function n() {if (i >= o.length) return { done: true };return { done: false, value: o[i++] };}, e: function e(_e) {throw _e;}, f: F };}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion = true,didErr = false,err;return { s: function s() {it = it.call(o);}, n: function n() {var step = it.next();normalCompletion = step.done;return step;}, e: function e(_e2) {didErr = true;err = _e2;}, f: function f() {try {if (!normalCompletion && it.return != null) it.return();} finally {if (didErr) throw err;}} };}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}


// const FIELD_TEXT_VALIDATOR_VERSION_STRING = '0.3.6';


/**
 * @description -- Does basic checks for small errors like leading/trailing spaces, etc.
 * @param {string} languageCode -- can be an empty string
 * @param {string} repoCode -- e.g., 'TN' or 'TQ2', etc.
 * @param {string} fieldType -- classification, e.g., TSV, USFM, YAML, link, markdown, raw
 * @param {string} fieldName -- used for identification
 * @param {string} fieldText -- the field being checked
 * @param {boolean} allowedLinks -- doesn’t check links -- only checks lack of links
 * @param {string} optionalFieldLocation -- used to inform where this field is located
 * @param {Object} checkingOptions
 */
function checkTextField(languageCode, repoCode, fieldType, fieldName, fieldText, allowedLinks, optionalFieldLocation, checkingOptions) {
  // We assume that checking for compulsory fields is done elsewhere

  // Returns a single notice list
  //  The list contains objects with the following fields:
  //      priority (compulsory): the priority number 0..999 (usually 800+ are errors, lower are warnings)
  //      message (compulsory): the error description string
  //      characterIndex: the 0-based index for the position in the string
  //      excerpt: a short excerpt of the string containing the error (or empty-string if irrelevant)
  //      location: the detailed location string
  //  (Returned in this way for more intelligent processing at a higher level)
  // functionLog(`checkTextField(${fieldName}, ${fieldText.length.toLocaleString()} chars, ${allowedLinks}, '${optionalFieldLocation}')…`);
  //parameterAssert(languageCode !== undefined, "checkTextField: 'languageCode' parameter should be defined");
  //parameterAssert(typeof languageCode === 'string', `checkTextField: 'languageCode' parameter should be a string not a '${typeof languageCode}': ${languageCode}`);
  //parameterAssert(languageCode !== 'unfoldingWord', `checkTextField: 'languageCode' ${languageCode} parameter should be not be 'unfoldingWord'`);
  //parameterAssert(repoCode !== undefined, "checkTextField: 'repoCode' parameter should be defined");
  //parameterAssert(typeof repoCode === 'string', `checkTextField: 'repoCode' parameter should be a string not a '${typeof repoCode}': ${repoCode}`);
  //parameterAssert(REPO_CODES_LIST.includes(repoCode), `checkTextField: 'repoCode' parameter should not be '${repoCode}'`);
  //parameterAssert(fieldType !== undefined, "checkTextField: 'fieldType' parameter should be defined");
  //parameterAssert(typeof fieldType === 'string', `checkTextField: 'fieldType' parameter should be a string not a '${typeof fieldType}': ${fieldType}`);
  //parameterAssert(fieldType !== '', `checkTextField: 'fieldType' ${fieldType} parameter should be not be an empty string`);
  //parameterAssert(fieldType === 'markdown' || fieldType === 'USFM' || fieldType === 'YAML' || fieldType === 'text' || fieldType === 'raw' || fieldType === 'link', `checkTextField: unrecognised 'fieldType' parameter: '${fieldType}'`);
  //parameterAssert(fieldName !== undefined, "checkTextField: 'fieldName' parameter should be defined");
  //parameterAssert(typeof fieldName === 'string', `checkTextField: 'fieldName' parameter should be a string not a '${typeof fieldName}': ${fieldName}`);
  // if (fieldType !== 'markdown')
  //     //parameterAssert(fieldName !== '', `checkTextField: ${fieldType} 'fieldName' parameter should be not be an empty string`);
  //parameterAssert(fieldText !== undefined, "checkTextField: 'fieldText' parameter should be defined");
  //parameterAssert(typeof fieldText === 'string', `checkTextField: 'fieldText' parameter should be a string not a '${typeof fieldText}': ${fieldText}`);
  //parameterAssert(allowedLinks === true || allowedLinks === false, "checkTextField: allowedLinks parameter must be either true or false");
  if (!allowedLinks) {//parameterAssert(fieldText.indexOf('x-tw') < 0, `checkTextField should be allowedLinks for ${fieldType} ${fieldName} ${fieldText}`);
  }
  //parameterAssert(optionalFieldLocation !== undefined, "checkTextField: 'optionalFieldLocation' parameter should be defined");
  //parameterAssert(typeof optionalFieldLocation === 'string', `checkTextField: 'optionalFieldLocation' parameter should be a string not a '${typeof optionalFieldLocation}': ${optionalFieldLocation}`);
  //parameterAssert(optionalFieldLocation.indexOf('true') === -1, `checkTextField: 'optionalFieldLocation' parameter should not be '${optionalFieldLocation}'`);
  if (checkingOptions !== undefined) {//parameterAssert(typeof checkingOptions === 'object', `checkTextField: 'checkingOptions' parameter should be an object not a '${typeof checkingOptions}': ${JSON.stringify(checkingOptions)}`);
  }

  var result = { noticeList: [] };

  function addNoticePartial(noticeObject) {
    // We add the fieldName here
    // debugLog(`dBTC Notice: (priority=${priority}) ${message}${characterIndex > 0 ? ` (at character ${characterIndex})` : ""}${excerpt ? ` ${excerpt}` : ""}${location}`);
    //parameterAssert(noticeObject.priority !== undefined, "dBTCs addNoticePartial: 'priority' parameter should be defined");
    //parameterAssert(typeof noticeObject.priority === 'number', `dBTCs addNoticePartial: 'priority' parameter should be a number not a '${typeof noticeObject.priority}': ${noticeObject.priority}`);
    //parameterAssert(noticeObject.message !== undefined, "dBTCs addNoticePartial: 'message' parameter should be defined");
    //parameterAssert(typeof noticeObject.message === 'string', `dBTCs addNoticePartial: 'message' parameter should be a string not a '${typeof noticeObject.message}': ${noticeObject.message}`);
    // //parameterAssert(characterIndex !== undefined, "dBTCs addNoticePartial: 'characterIndex' parameter should be defined");
    if (noticeObject.characterIndex) {//parameterAssert(typeof noticeObject.characterIndex === 'number', `dBTCs addNoticePartial: 'characterIndex' parameter should be a number not a '${typeof noticeObject.characterIndex}': ${noticeObject.characterIndex}`);
    }
    // //parameterAssert(excerpt !== undefined, "dBTCs addNoticePartial: 'excerpt' parameter should be defined");
    if (noticeObject.excerpt) {//parameterAssert(typeof noticeObject.excerpt === 'string', `dBTCs addNoticePartial: 'excerpt' parameter should be a string not a '${typeof noticeObject.excerpt}': ${noticeObject.excerpt}`);
    }
    //parameterAssert(noticeObject.location !== undefined, "dBTCs addNoticePartial: 'location' parameter should be defined");
    //parameterAssert(typeof noticeObject.location === 'string', `dBTCs addNoticePartial: 'location' parameter should be a string not a '${typeof noticeObject.location}': ${noticeObject.location}`);

    // noticeObject.debugChain = noticeObject.debugChain ? `checkTextField(${fieldType}, ${fieldName}, ${allowedLinks}) ${noticeObject.debugChain}` : `checkTextField(${fieldType}, ${fieldName}, ${allowedLinks})`;
    if (fieldName.length) noticeObject.fieldName = fieldName; // Don’t add the field if it’s blank
    result.noticeList.push(noticeObject);
  }


  // Main code for checkTextField()
  if (!fieldText) // Nothing to check
    return result;

  // Create our more detailed location string by prepending the fieldName
  var ourLocation = optionalFieldLocation;
  if (ourLocation && ourLocation[0] !== ' ') ourLocation = " ".concat(ourLocation);

  var excerptLength;
  try {
    excerptLength = checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.excerptLength;
  } catch (btcError) {}
  if (typeof excerptLength !== 'number' || isNaN(excerptLength)) {
    excerptLength = _defaults.DEFAULT_EXCERPT_LENGTH;
    // debugLog(`Using default excerptLength=${excerptLength}`);
  }
  // else
  // debugLog(`Using supplied excerptLength=${excerptLength}`, `cf. default=${DEFAULT_EXCERPT_LENGTH}`);
  var excerptHalfLength = Math.floor(excerptLength / 2); // rounded down
  var excerptHalfLengthPlus = Math.floor((excerptLength + 1) / 2); // rounded up
  // debugLog(`Using excerptHalfLength=${excerptHalfLength}`, `excerptHalfLengthPlus=${excerptHalfLengthPlus}`);

  var suggestion = fieldText.trim();

  var characterIndex;
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 895) &&
  (characterIndex = fieldText.indexOf("\u200B")) >= 0) {
    var charCount = (0, _textHandlingFunctions.countOccurrences)(fieldText, "\u200B");
    var excerpt = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/\u200B/g, '‼') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 895, message: "Field contains zero-width space(s)", details: "".concat(charCount, " occurrence").concat(charCount === 1 ? '' : 's', " found"), characterIndex: characterIndex, excerpt: excerpt, location: ourLocation });
    suggestion = suggestion.replace(/\u200B/g, ''); // Or should it be space ???
  }

  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 638) &&
  (0, _textHandlingFunctions.isWhitespace)(fieldText)) {
    addNoticePartial({ priority: 638, message: "Only found whitespace", location: ourLocation });
    return result;
  }

  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 993) &&
  (characterIndex = fieldText.indexOf('<<<<<<<')) >= 0) {
    var iy = characterIndex + excerptHalfLength; // Want excerpt to focus more on what follows
    var _excerpt = (iy > excerptHalfLength ? '…' : '') + fieldText.substring(iy - excerptHalfLength, iy + excerptHalfLengthPlus).replace(/ /g, '␣') + (iy + excerptHalfLengthPlus < fieldText.length ? '…' : '');

    addNoticePartial({ priority: 993, message: "Unresolved GIT conflict", characterIndex: characterIndex, excerpt: _excerpt, location: ourLocation });
  } else {
    if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 992) &&
    (characterIndex = fieldText.indexOf('=======')) >= 0) {
      var _iy = characterIndex + excerptHalfLength; // Want excerpt to focus more on what follows
      var _excerpt2 = (_iy > excerptHalfLength ? '…' : '') + fieldText.substring(_iy - excerptHalfLength, _iy + excerptHalfLengthPlus).replace(/ /g, '␣') + (_iy + excerptHalfLengthPlus < fieldText.length ? '…' : '');
      addNoticePartial({ priority: 992, message: "Unresolved GIT conflict", characterIndex: characterIndex, excerpt: _excerpt2, location: ourLocation });
    } else {
      if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 991) &&
      (characterIndex = fieldText.indexOf('>>>>>>>>')) >= 0) {
        var _iy2 = characterIndex + excerptHalfLength; // Want excerpt to focus more on what follows
        var _excerpt3 = (_iy2 > excerptHalfLength ? '…' : '') + fieldText.substring(_iy2 - excerptHalfLength, _iy2 + excerptHalfLengthPlus).replace(/ /g, '␣') + (_iy2 + excerptHalfLengthPlus < fieldText.length ? '…' : '');
        addNoticePartial({ priority: 991, message: "Unresolved GIT conflict", characterIndex: characterIndex, excerpt: _excerpt3, location: ourLocation });
      }
    }
  }

  if (fieldText[0] === ' ') {
    var _excerpt4 = fieldText.substring(0, excerptLength).replace(/ /g, '␣') + (fieldText.length > excerptLength ? '…' : '');
    if (fieldText[1] === ' ') // spaces plural
      addNoticePartial({ priority: 110, message: "Unexpected leading spaces", characterIndex: 0, excerpt: _excerpt4, location: ourLocation });else

    addNoticePartial({ priority: 109, message: "Unexpected leading space", characterIndex: 0, excerpt: _excerpt4, location: ourLocation });
  } else if (fieldText[0] === "\u2060") {
    var _excerpt5 = fieldText.substring(0, excerptLength).replace(/\u2060/g, '‼') + (fieldText.length > excerptLength ? '…' : '');
    addNoticePartial({ priority: 770, message: "Unexpected leading word-joiner", characterIndex: 0, excerpt: _excerpt5, location: ourLocation });
    if (suggestion[0] === "\u2060") suggestion = suggestion.substring(1);
  } else if (fieldText[0] === "\u200D") {
    var _excerpt6 = fieldText.substring(0, excerptLength).replace(/\u200D/g, '‼') + (fieldText.length > excerptLength ? '…' : '');
    addNoticePartial({ priority: 771, message: "Unexpected leading zero-width joiner", characterIndex: 0, excerpt: _excerpt6, location: ourLocation });
    if (suggestion[0] === "\u200D") suggestion = suggestion.substring(1);
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 64) &&
  (characterIndex = fieldText.indexOf('<br> ')) >= 0) {
    var _excerpt7 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/ /g, '␣') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 64, message: "Unexpected leading space(s) after break", characterIndex: characterIndex, excerpt: _excerpt7, location: ourLocation });
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 63) &&
  (characterIndex = fieldText.indexOf('\\n ')) >= 0) {
    var _excerpt8 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/ /g, '␣') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 63, message: "Unexpected leading space(s) after line break", characterIndex: characterIndex, excerpt: _excerpt8, location: ourLocation });
  }

  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 772) &&
  fieldText[fieldText.length - 1] === "\u2060") {
    var _excerpt9 = fieldText.substring(0, excerptLength).replace(/\u2060/g, '‼') + (fieldText.length > excerptLength ? '…' : '');
    addNoticePartial({ priority: 772, message: "Unexpected trailing word-joiner", characterIndex: 0, excerpt: _excerpt9, location: ourLocation });
    if (suggestion[suggestion.length - 1] === "\u2060") suggestion = suggestion.substring(0, suggestion.length - 1);
  } else if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 773) &&
  fieldText[fieldText.length - 1] === "\u200D") {
    var _excerpt10 = fieldText.substring(0, excerptLength).replace(/\u200D/g, '‼') + (fieldText.length > excerptLength ? '…' : '');
    addNoticePartial({ priority: 773, message: "Unexpected trailing zero-width joiner", characterIndex: 0, excerpt: _excerpt10, location: ourLocation });
    if (suggestion[suggestion.length - 1] === "\u200D") suggestion = suggestion.substring(0, suggestion.length - 1);
  }

  // Find leading line breaks (but not if the whole line is just the line break sequence)
  var fieldTextLower = fieldText.toLowerCase();
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 107) && (
  fieldTextLower.substring(0, 2) === '\\n' || fieldTextLower.substring(0, 4) === '<br>' || fieldTextLower.substring(0, 5) === '<br/>' || fieldTextLower.substring(0, 6) === '<br />') &&
  fieldTextLower !== '\\n' && fieldTextLower !== '<br>' && fieldTextLower !== '<br/>' && fieldTextLower !== '<br />') {
    var _excerpt11 = fieldText.substring(0, excerptLength) + (fieldText.length > excerptLength ? '…' : '');
    addNoticePartial({ priority: 107, message: "Unexpected leading line break", characterIndex: 0, excerpt: _excerpt11, location: ourLocation });
    while (suggestion.toLowerCase().substring(0, 2) === '\\n') {suggestion = suggestion.substring(2);}
    while (suggestion.toLowerCase().substring(0, 4) === '<br>') {suggestion = suggestion.substring(4);}
    while (suggestion.toLowerCase().substring(0, 5) === '<br/>') {suggestion = suggestion.substring(5);}
    while (suggestion.toLowerCase().substring(0, 6) === '<br />') {suggestion = suggestion.substring(6);}
  }

  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 95) &&
  fieldText[fieldText.length - 1] === ' ')
    // Markdown gives meaning to two spaces at the end of a line
    if (fieldType !== 'markdown' || fieldText.length < 3 || fieldText[fieldText.length - 2] !== ' ' || fieldText[fieldText.length - 3] === ' ') {
      var _excerpt12 = (fieldText.length > excerptLength ? '…' : '') + fieldText.substring(fieldText.length - 10).replace(/ /g, '␣');
      var notice = { priority: 95, message: "Unexpected trailing space(s)", excerpt: _excerpt12, location: ourLocation };
      if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
      notice.characterIndex = fieldText.length - 1; // characterIndex means nothing for processed USFM
      addNoticePartial(notice);
    }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 94) &&
  (characterIndex = fieldText.indexOf(' <br')) >= 0) {
    var _excerpt13 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/ /g, '␣') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 94, message: "Unexpected trailing space(s) before break", characterIndex: characterIndex, excerpt: _excerpt13, location: ourLocation });
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 93) &&
  (characterIndex = fieldText.indexOf(' \\n')) >= 0) {
    var _excerpt14 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/ /g, '␣') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 93, message: "Unexpected trailing space(s) before line break", characterIndex: characterIndex, excerpt: _excerpt14, location: ourLocation });
  }

  // Find trailing line breaks (but not if the whole line is just the line break sequence)
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 104) && (
  fieldTextLower.substring(fieldTextLower.length - 2) === '\\n' || fieldTextLower.substring(fieldTextLower.length - 4) === '<br>' || fieldTextLower.substring(fieldTextLower.length - 5) === '<br/>' || fieldTextLower.substring(fieldTextLower.length - 6) === '<br />') &&
  fieldTextLower !== '\\n' && fieldTextLower !== '<br>' && fieldTextLower !== '<br/>' && fieldTextLower !== '<br />') {
    var _excerpt15 = (fieldText.length > excerptLength ? '…' : '') + fieldText.substring(fieldText.length - 10);
    addNoticePartial({ priority: 104, message: "Unexpected trailing line break", characterIndex: fieldText.length - 1, excerpt: _excerpt15, location: ourLocation });
    while (suggestion.toLowerCase().substring(suggestion.length - 2) === '\\n') {suggestion = suggestion.substring(0, suggestion.length - 2);}
    while (suggestion.toLowerCase().substring(suggestion.length - 4) === '<br>') {suggestion = suggestion.substring(0, suggestion.length - 4);}
    while (suggestion.toLowerCase().substring(suggestion.length - 5) === '<br/>') {suggestion = suggestion.substring(0, suggestion.length - 5);}
    while (suggestion.toLowerCase().substring(suggestion.length - 6) === '<br />') {suggestion = suggestion.substring(0, suggestion.length - 6);}
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 124) &&
  (characterIndex = fieldText.indexOf('  ')) >= 0 && (
  fieldType !== 'markdown' || characterIndex !== fieldText.length - 2)) {
    var _excerpt16 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/ /g, '␣') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    var doubleCount = (0, _textHandlingFunctions.countOccurrences)(fieldText, '  ');
    var _notice;
    if (doubleCount === 1)
    _notice = { priority: 124, message: "Unexpected double spaces", excerpt: _excerpt16, location: ourLocation };else

    _notice = { priority: 224, message: "Multiple unexpected double spaces", details: "".concat(doubleCount, " occurrences\u2014only first is displayed"), excerpt: _excerpt16, location: ourLocation };
    if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
    _notice.characterIndex = characterIndex; // characterIndex means nothing for processed USFM
    if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < _notice.priority)
    addNoticePartial(_notice);
    // Note: replacing double-spaces in the suggestion is done later -- after other suggestion modifications which might affect it
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 583) &&
  (characterIndex = fieldText.indexOf('\n')) >= 0) {
    var _excerpt17 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 583, message: "Unexpected newLine character", characterIndex: characterIndex, excerpt: _excerpt17, location: ourLocation });
    suggestion = suggestion.replace(/\n/g, ' ');
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 582) &&
  (characterIndex = fieldText.indexOf('\r')) >= 0) {
    var _excerpt18 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 582, message: "Unexpected carriageReturn character", characterIndex: characterIndex, excerpt: _excerpt18, location: ourLocation });
    suggestion = suggestion.replace(/\r/g, ' ');
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 581) &&
  (characterIndex = fieldText.indexOf('\xA0')) >= 0) {// non-break space
    var _excerpt19 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/\xA0/g, '⍽') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    addNoticePartial({ priority: 581, message: "Unexpected non-break space (uA0) character", characterIndex: characterIndex, excerpt: _excerpt19, location: ourLocation });
    suggestion = suggestion.replace(/\xA0/g, ' ');
  }
  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 580) &&
  (characterIndex = fieldText.indexOf("\u202F")) >= 0) {// narrow non-break space
    var _excerpt20 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus).replace(/\u202F/g, '⍽') + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
    var _notice2 = { priority: 580, message: "Unexpected narrow non-break space (u202F) character", excerpt: _excerpt20, location: ourLocation };
    if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
    _notice2.characterIndex = characterIndex; // characterIndex means nothing for processed USFM
    addNoticePartial(_notice2);
    suggestion = suggestion.replace(/\u202F/g, ' ');
  }
  if (fieldName === 'OrigQuote' || fieldName === 'Quote') {
    if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 179) &&
    (characterIndex = fieldText.indexOf(' …')) >= 0) {
      var _excerpt21 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
      addNoticePartial({ priority: 179, message: "Unexpected space before ellipse character", characterIndex: characterIndex, excerpt: _excerpt21, location: ourLocation });
      suggestion = suggestion.replace(/ …/g, '…');
    }
    if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 178) &&
    (characterIndex = fieldText.indexOf('… ')) >= 0) {
      var _excerpt22 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
      addNoticePartial({ priority: 178, message: "Unexpected space after ellipse character", characterIndex: characterIndex, excerpt: _excerpt22, location: ourLocation });
      suggestion = suggestion.replace(/… /g, '…');
    }
  }
  suggestion = suggestion.replace(/ {2}/g, ' ');

  if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 177) {
    // Check for doubled punctuation chars (international)
    // Doesn’t check for doubled forward slash by default coz that might occur in a link, e.g., https://etc…
    //  or doubled # coz that occurs in markdown
    var doubledPunctuationCheckList = '({}<>⟨⟩:،、‒–—―…!‹›«»‐?‘’“”\';⁄·&@•^†‡°¡¿※№÷×ºª%‰+−=‱¶′″‴§|‖¦©℗®℠™¤₳฿₵¢₡₢$₫₯֏₠€ƒ₣₲₴₭₺₾ℳ₥₦₧₱₰£៛₽₹₨₪৳₸₮₩¥';
    if (!allowedLinks) doubledPunctuationCheckList += '/[].)'; // Double square brackets can be part of markdown links, double periods can be part of a path
    if (fieldType !== 'markdown') doubledPunctuationCheckList += '_*#~'; // There are used for markdown formatting
    if (fieldType !== 'USFM' || fieldText.indexOf('x-morph') < 0) doubledPunctuationCheckList += ',"'; // Allowed in original language morphology fields
    if (fieldType !== 'YAML' || !fieldText.startsWith('--')) // NOTE: First hyphen may have been removed in preprocessing
      doubledPunctuationCheckList += '-';var _iterator = _createForOfIteratorHelper(
    doubledPunctuationCheckList),_step;try {for (_iterator.s(); !(_step = _iterator.n()).done;) {var punctChar = _step.value;
        if ((characterIndex = fieldText.indexOf(punctChar + punctChar)) >= 0) {
          var _excerpt23 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          var _notice3 = { priority: 177, message: "Unexpected doubled ".concat(punctChar, " characters"), excerpt: _excerpt23, location: ourLocation };
          if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
          _notice3.characterIndex = characterIndex; // characterIndex means nothing for processed USFM
          addNoticePartial(_notice3);
        }
      }} catch (err) {_iterator.e(err);} finally {_iterator.f();}
  }
  if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 195) {
    // Check for punctuation chars following space and at start of line
    //  Removed ©$€₱
    var afterSpaceCheckList = ')}>⟩:,،、‒–—―!.›»‐-?’”;/⁄·@•^†‡°¡¿※#№÷×ºª%‰‱¶′″‴§‖¦℗®℠™¤₳฿₵¢₡₢₫₯֏₠ƒ₣₲₴₭₺₾ℳ₥₦₧₰£៛₽₹₨₪৳₸₮₩¥';
    if (fieldType !== 'markdown') afterSpaceCheckList += '_*~'; // These are used for markdown formatting
    if (fieldType !== 'USFM' || fieldText.indexOf('x-lemma') < 0 && fieldText.indexOf('x-tw') < 0) afterSpaceCheckList += '|';
    if (fieldType !== 'YAML') afterSpaceCheckList += '\'"'; // These are used for YAML strings, e.g., version: '0.15'
    // if (fieldName === 'OrigQuote' || fieldName === 'Quote') afterSpaceCheckList += '…'; // NOT NEEDED -- this is specifically checked elsewhere
    var _iterator2 = _createForOfIteratorHelper(afterSpaceCheckList),_step2;try {for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {var _punctChar = _step2.value;
        if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 191) &&
        (characterIndex = fieldText.indexOf(' ' + _punctChar)) >= 0) {
          var _excerpt24 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          var _notice4 = { priority: 191, message: "Unexpected ".concat(_punctChar, " character after space"), excerpt: _excerpt24, location: ourLocation };
          if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
          _notice4.characterIndex = characterIndex; // characterIndex means nothing for processed USFM
          addNoticePartial(_notice4);
        }
        if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 195) && (
        _punctChar !== '-' || fieldType !== 'YAML') && (
        _punctChar !== '!' || fieldType !== 'markdown') // image tag
        && fieldText[0] === _punctChar) {
          characterIndex = 0;
          var _excerpt25 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          addNoticePartial({ priority: 195, message: "Unexpected ".concat(_punctChar, " character at start of line"), characterIndex: characterIndex, excerpt: _excerpt25, location: ourLocation });
        }
      }} catch (err) {_iterator2.e(err);} finally {_iterator2.f();}
    if (fieldType === 'USFM')
    suggestion = suggestion.replace(/| /g, '|');
  }

  if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 192) {
    // Check for punctuation chars before space
    //  Removed ' (can be normal, e.g., Jesus' cloak)
    //  Removed ©
    var beforeSpaceCheckList = '({<⟨،、‒–—―‹«‐‘“/⁄·@\\•^†‡°¡¿※№×ºª‰‱¶′″‴§|‖¦℗℠™¤₳฿₵¢₡₢$₫₯֏₠€ƒ₣₲₴₭₺₾ℳ₥₦₧₱₰£៛₽₹₨₪৳₸₮₩¥';
    if (fieldType !== 'markdown') beforeSpaceCheckList += '_~'; // These are used for markdown formatting
    if (fieldType !== 'markdown' && fieldType !== 'USFM') beforeSpaceCheckList += '*'; // There are used for markdown formatting and USFM closing markers
    if (fieldType !== 'YAML') beforeSpaceCheckList += '[';var _iterator3 = _createForOfIteratorHelper(
    beforeSpaceCheckList),_step3;try {for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {var _punctChar2 = _step3.value;
        if ((characterIndex = fieldText.indexOf(_punctChar2 + ' ')) >= 0) {
          var _excerpt26 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          var _notice5 = { priority: 192, message: "Unexpected space after ".concat(_punctChar2, " character"), excerpt: _excerpt26, location: ourLocation };
          if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
          _notice5.characterIndex = characterIndex; // characterIndex means nothing for processed USFM
          addNoticePartial(_notice5);
        }
      }} catch (err) {_iterator3.e(err);} finally {_iterator3.f();}
  }

  if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 193) {
    // Check for punctuation chars at end of line
    //  Removed ' (can be normal, e.g., Jesus' cloak)
    var beforeEOLCheckList = '([{<⟨،、‒–—―‹«‐‘“/⁄·@©\\•^†‡°¡¿※№×ºª‰‱¶′″‴§|‖¦℗℠™¤₳฿₵¢₡₢$₫₯֏₠€ƒ₣₲₴₭₺₾ℳ₥₦₧₱₰£៛₽₹₨₪৳₸₮₩¥';
    if (fieldType !== 'markdown') beforeEOLCheckList += '_~'; // These are used for markdown formatting
    if (fieldType !== 'markdown' && fieldType !== 'USFM') beforeEOLCheckList += '*'; // There are used for markdown formatting and USFM closing markers
    var _iterator4 = _createForOfIteratorHelper(beforeEOLCheckList),_step4;try {for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {var _punctChar3 = _step4.value;
        if (_punctChar3 !== '—' && fieldText[fieldText.length - 1] === _punctChar3) {
          characterIndex = fieldText.length - 1;
          var _excerpt27 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          var _notice6 = { priority: 193, message: "Unexpected ".concat(_punctChar3, " character at end of line"), excerpt: _excerpt27, location: ourLocation };
          if (fieldType !== 'raw' && fieldType !== 'text' || fieldName.substring(0, 6) !== 'from \\')
          _notice6.characterIndex = characterIndex; // characterIndex means nothing for processed USFM
          addNoticePartial(_notice6);
        }
      }} catch (err) {_iterator4.e(err);} finally {_iterator4.f();}
  }

  if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 849) {
    // Check for bad combinations of characters
    var _iterator5 = _createForOfIteratorHelper(_textHandlingFunctions.BAD_CHARACTER_COMBINATIONS),_step5;try {for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {var badCharCombination = _step5.value;
        if ((characterIndex = fieldText.indexOf(badCharCombination)) >= 0) {
          var _excerpt28 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          addNoticePartial({ priority: 849, message: "Unexpected '".concat(badCharCombination, "' character combination"), characterIndex: characterIndex, excerpt: _excerpt28, location: ourLocation });
        }}} catch (err) {_iterator5.e(err);} finally {_iterator5.f();}}

  if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 92) {
    // Check for leading zeroes in numbers
    var _iterator6 = _createForOfIteratorHelper(_textHandlingFunctions.LEADING_ZERO_COMBINATIONS),_step6;try {for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {var badZeroCharCombination = _step6.value;
        if ((characterIndex = fieldText.indexOf(badZeroCharCombination)) >= 0
        // but not an error perhaps if followed by period, e.g., 0.32.
        && fieldText.substring(characterIndex + badZeroCharCombination.length, characterIndex + badZeroCharCombination.length + 1) !== '.') {
          var _excerpt29 = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
          addNoticePartial({ priority: 92, message: "Unexpected leading zero", characterIndex: characterIndex, excerpt: _excerpt29, location: ourLocation });
        }}} catch (err) {_iterator6.e(err);} finally {_iterator6.f();}}

  // // Check for problems created by tC Create or something
  // characterIndex = fieldText.indexOf('\\[');
  // if (characterIndex === -1) characterIndex = fieldText.indexOf('\\]');
  // if (characterIndex !== -1) {
  //     const excerpt = (characterIndex > excerptHalfLength ? '…' : '') + fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus) + (characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
  //     addNoticePartial({ priority: 849, message: "Unexpected \\[ or \\] characters", characterIndex, excerpt, location: ourLocation });
  // }

  // if (countOccurrences(fieldText, '(') !== countOccurrences(fieldText, ')')) {
  //     userLog(`checkTextField(${fieldType}, ${fieldName}, '${fieldText}', ${allowedLinks}, ${ourLocation}) found ${countOccurrences(fieldText, '(')} '(' but ${countOccurrences(fieldText, ')')} ')'`);
  //     addNoticePartial({ priority: 1, message: `Mismatched ( ) characters`, details: `left=${countOccurrences(fieldText, '(').toLocaleString()}, right=${countOccurrences(fieldText, ')').toLocaleString()}`, location: ourLocation });
  // }
  // Check matched pairs in the field
  var _iterator7 = _createForOfIteratorHelper(_textHandlingFunctions.OPEN_CLOSE_PUNCTUATION_PAIRS),_step7;try {for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {var punctSet = _step7.value;
      // Can’t check '‘’' coz they might be used as apostrophe
      var leftChar = punctSet[0],rightChar = punctSet[1];
      // if (fieldType === 'markdown' && leftChar === '<') continue; // markdown uses this for block quote
      // TODO: The following 'continue' might not be doing the 2nd lot of checks
      if ((fieldType === 'USFM' || fieldName.startsWith('from \\') || fieldType === 'markdown' && fieldName === '') &&
      '([{“‘«'.indexOf(leftChar) >= 0) continue; // Start/end can be on different lines
      if (fieldType !== 'markdown' || leftChar !== '<') {// > is a markdown block marker and also used for HTML, e.g., <br>
        var leftCount = (0, _textHandlingFunctions.countOccurrences)(fieldText, leftChar),
        rightCount = (0, _textHandlingFunctions.countOccurrences)(fieldText, rightChar);
        if (leftCount !== rightCount && (
        rightChar !== '’' || leftCount > rightCount)) {// Closing single quote is also used as apostrophe in English
          // NOTE: These are higher priority than similar checks in a whole file which is less specific
          var thisPriority = leftChar === '“' ? 163 : 563;
          if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < thisPriority)
          addNoticePartial({ priority: thisPriority, message: "Mismatched ".concat(leftChar).concat(rightChar, " characters"), details: "left=".concat(leftCount.toLocaleString(), ", right=").concat(rightCount.toLocaleString()), location: ourLocation });
        }
        try {// This regex build fails for some of the characters
          var leftRegex = new RegExp("(\\w)\\".concat(leftChar, "(\\w)"), 'g'),rightRegex = new RegExp("(\\w)\\".concat(rightChar, "(\\w)"), 'g');
          // debugLog(`leftRegex is ${leftRegex}`);
          var regexResultArray = void 0;
          while (regexResultArray = leftRegex.exec(fieldText)) {
            if ((fieldType !== 'markdown' || regexResultArray[0][0] !== '_') && (
            fieldType !== 'YAML' || leftChar !== '{')
            // TODO: We have to allow for a blank language code until we change checkPlainText()
            && (languageCode !== 'en' || regexResultArray[0][2] !== 's' || fieldText.indexOf('(s)') === -1)) {
              // debugLog(`Got possible misplaced '${languageCode}' left ${leftChar} in ${fieldType} ${fieldName} '${fieldText}': ${JSON.stringify(regexResultArray)}`);
              var _thisPriority = 717,thisMessage = "Misplaced ".concat(leftChar, " character");
              if (leftChar === '(' && regexResultArray[0][2] === 's') {_thisPriority = 17;thisMessage = "Possible misplaced ".concat(leftChar, " character");} // Lower priority for words like 'thing(s)'
              if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < _thisPriority)
              addNoticePartial({ priority: _thisPriority, message: thisMessage, excerpt: regexResultArray[0], location: ourLocation });
            }}
          if (rightChar !== '’') // Can’t check '‘’' coz they might be used as apostrophe
            while (regexResultArray = rightRegex.exec(fieldText)) {
              if ((fieldType !== 'markdown' || regexResultArray[0][2] !== '_') && (
              fieldType !== 'YAML' || rightChar !== '}')) {
                // debugLog(`Got misplaced right ${rightChar} in ${fieldType} ${fieldName} '${fieldText}':`, JSON.stringify(regexResultArray));
                if (!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 716)
                addNoticePartial({ priority: 716, message: "Misplaced ".concat(rightChar, " character"), excerpt: regexResultArray[0], location: ourLocation });
              }}
        } catch (_unused) {}
      }
    }} catch (err) {_iterator7.e(err);} finally {_iterator7.f();}

  if ((!(checkingOptions !== null && checkingOptions !== void 0 && checkingOptions.cutoffPriorityLevel) || (checkingOptions === null || checkingOptions === void 0 ? void 0 : checkingOptions.cutoffPriorityLevel) < 765) &&
  !allowedLinks) {
    // Simple check that there aren’t any
    characterIndex = fieldText.indexOf('://');
    if (characterIndex === -1) characterIndex = fieldText.indexOf('http');
    if (characterIndex === -1) characterIndex = fieldText.indexOf('ftp');
    // The following might have to be removed if text fields can contain email addresses
    if (characterIndex === -1) characterIndex = fieldText.indexOf('.org');
    if (characterIndex === -1) characterIndex = fieldText.indexOf('.com');
    if (characterIndex === -1) characterIndex = fieldText.indexOf('.info');
    if (characterIndex === -1) characterIndex = fieldText.indexOf('.bible');
    if (characterIndex >= 0) {
      var _excerpt30 = "".concat(characterIndex > excerptHalfLength ? '…' : '').concat(fieldText.substring(characterIndex - excerptHalfLength, characterIndex + excerptHalfLengthPlus)).concat(characterIndex + excerptHalfLengthPlus < fieldText.length ? '…' : '');
      addNoticePartial({ priority: 765, message: "Unexpected link", characterIndex: characterIndex, excerpt: _excerpt30, location: ourLocation });
    }
  }

  // See if we have a suggestion
  if (suggestion !== fieldText) {
    // debugLog(`Had text ${fieldText}`);
    // debugLog(`Sug text ${suggestion}`);
    result.suggestion = suggestion;
  }

  return result;
}
// end of checkTextField function
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb3JlL2ZpZWxkLXRleHQtY2hlY2suanMiXSwibmFtZXMiOlsiY2hlY2tUZXh0RmllbGQiLCJsYW5ndWFnZUNvZGUiLCJyZXBvQ29kZSIsImZpZWxkVHlwZSIsImZpZWxkTmFtZSIsImZpZWxkVGV4dCIsImFsbG93ZWRMaW5rcyIsIm9wdGlvbmFsRmllbGRMb2NhdGlvbiIsImNoZWNraW5nT3B0aW9ucyIsInVuZGVmaW5lZCIsInJlc3VsdCIsIm5vdGljZUxpc3QiLCJhZGROb3RpY2VQYXJ0aWFsIiwibm90aWNlT2JqZWN0IiwiY2hhcmFjdGVySW5kZXgiLCJleGNlcnB0IiwibGVuZ3RoIiwicHVzaCIsIm91ckxvY2F0aW9uIiwiZXhjZXJwdExlbmd0aCIsImJ0Y0Vycm9yIiwiaXNOYU4iLCJERUZBVUxUX0VYQ0VSUFRfTEVOR1RIIiwiZXhjZXJwdEhhbGZMZW5ndGgiLCJNYXRoIiwiZmxvb3IiLCJleGNlcnB0SGFsZkxlbmd0aFBsdXMiLCJzdWdnZXN0aW9uIiwidHJpbSIsImN1dG9mZlByaW9yaXR5TGV2ZWwiLCJpbmRleE9mIiwiY2hhckNvdW50Iiwic3Vic3RyaW5nIiwicmVwbGFjZSIsInByaW9yaXR5IiwibWVzc2FnZSIsImRldGFpbHMiLCJsb2NhdGlvbiIsIml5IiwiZmllbGRUZXh0TG93ZXIiLCJ0b0xvd2VyQ2FzZSIsIm5vdGljZSIsImRvdWJsZUNvdW50IiwiZG91YmxlZFB1bmN0dWF0aW9uQ2hlY2tMaXN0Iiwic3RhcnRzV2l0aCIsInB1bmN0Q2hhciIsImFmdGVyU3BhY2VDaGVja0xpc3QiLCJiZWZvcmVTcGFjZUNoZWNrTGlzdCIsImJlZm9yZUVPTENoZWNrTGlzdCIsIkJBRF9DSEFSQUNURVJfQ09NQklOQVRJT05TIiwiYmFkQ2hhckNvbWJpbmF0aW9uIiwiTEVBRElOR19aRVJPX0NPTUJJTkFUSU9OUyIsImJhZFplcm9DaGFyQ29tYmluYXRpb24iLCJPUEVOX0NMT1NFX1BVTkNUVUFUSU9OX1BBSVJTIiwicHVuY3RTZXQiLCJsZWZ0Q2hhciIsInJpZ2h0Q2hhciIsImxlZnRDb3VudCIsInJpZ2h0Q291bnQiLCJ0aGlzUHJpb3JpdHkiLCJ0b0xvY2FsZVN0cmluZyIsImxlZnRSZWdleCIsIlJlZ0V4cCIsInJpZ2h0UmVnZXgiLCJyZWdleFJlc3VsdEFycmF5IiwiZXhlYyIsInRoaXNNZXNzYWdlIl0sIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTs7QUFFQSx3Qzs7O0FBR0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxTQUFTQSxjQUFULENBQXdCQyxZQUF4QixFQUFzQ0MsUUFBdEMsRUFBZ0RDLFNBQWhELEVBQTJEQyxTQUEzRCxFQUFzRUMsU0FBdEUsRUFBaUZDLFlBQWpGLEVBQStGQyxxQkFBL0YsRUFBc0hDLGVBQXRILEVBQXVJO0FBQzFJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFJLENBQUNGLFlBQUwsRUFBbUIsQ0FBRTtBQUNwQjtBQUNEO0FBQ0E7QUFDQTtBQUNBLE1BQUlFLGVBQWUsS0FBS0MsU0FBeEIsRUFBbUMsQ0FBRTtBQUNwQzs7QUFFRCxNQUFJQyxNQUFNLEdBQUcsRUFBRUMsVUFBVSxFQUFFLEVBQWQsRUFBYjs7QUFFQSxXQUFTQyxnQkFBVCxDQUEwQkMsWUFBMUIsRUFBd0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFJQSxZQUFZLENBQUNDLGNBQWpCLEVBQWlDLENBQUU7QUFDbEM7QUFDRDtBQUNBLFFBQUlELFlBQVksQ0FBQ0UsT0FBakIsRUFBMEIsQ0FBRTtBQUMzQjtBQUNEO0FBQ0E7O0FBRUE7QUFDQSxRQUFJWCxTQUFTLENBQUNZLE1BQWQsRUFBc0JILFlBQVksQ0FBQ1QsU0FBYixH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YyxLQUFLLENBQUMsQ0FBeEIsRUFBMkJBLGNBQWMsR0FBR1QsU0FBUyxDQUFDeUIsT0FBVixDQUFrQixRQUFsQixDQUFqQjtBQUMzQixRQUFJaEIsY0FBYyxJQUFJLENBQXRCLEVBQXlCO0FBQ3JCLFVBQU1DLFVBQU8sYUFBTUQsY0FBYyxHQUFHUyxpQkFBakIsR0FBcUMsR0FBckMsR0FBMkMsRUFBakQsU0FBc0RsQixTQUFTLENBQUMyQixTQUFWLENBQW9CbEIsY0FBYyxHQUFHUyxpQkFBckMsRUFBd0RULGNBQWMsR0FBR1kscUJBQXpFLENBQXRELFNBQXdKWixjQUFjLEdBQUdZLHFCQUFqQixHQUF5Q3JCLFNBQVMsQ0FBQ1csTUFBbkQsR0FBNEQsR0FBNUQsR0FBa0UsRUFBMU4sQ0FBYjtBQUNBSixNQUFBQSxnQkFBZ0IsQ0FBQyxFQUFFc0IsUUFBUSxFQUFFLEdBQVosRUFBaUJDLE9BQU8sRUFBRSxpQkFBMUIsRUFBNkNyQixjQUFjLEVBQWRBLGNBQTdDLEVBQTZEQyxPQUFPLEVBQVBBLFVBQTdELEVBQXNFc0IsUUFBUSxFQUFFbkIsV0FBaEYsRUFBRCxDQUFoQjtBQUNIO0FBQ0o7O0FBRUQ7QUFDQSxNQUFJUyxVQUFVLEtBQUt0QixTQUFuQixFQUE4QjtBQUMxQjtBQUNBO0FBQ0FLLElBQUFBLE1BQU0sQ0FBQ2lCLFVBQVAsR0FBb0JBLFVBQXBCO0FBQ0g7O0FBRUQsU0FBT2pCLE1BQVA7QUFDSDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5pbXBvcnQgeyBERUZBVUxUX0VYQ0VSUFRfTEVOR1RILCBSRVBPX0NPREVTX0xJU1QgfSBmcm9tICcuL2RlZmF1bHRzJ1xuaW1wb3J0IHsgT1BFTl9DTE9TRV9QVU5DVFVBVElPTl9QQUlSUywgQkFEX0NIQVJBQ1RFUl9DT01CSU5BVElPTlMsIExFQURJTkdfWkVST19DT01CSU5BVElPTlMsIGlzV2hpdGVzcGFjZSwgY291bnRPY2N1cnJlbmNlcyB9IGZyb20gJy4vdGV4dC1oYW5kbGluZy1mdW5jdGlvbnMnXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbmltcG9ydCB7IHBhcmFtZXRlckFzc2VydCB9IGZyb20gJy4vdXRpbGl0aWVzJztcblxuXG4vLyBjb25zdCBGSUVMRF9URVhUX1ZBTElEQVRPUl9WRVJTSU9OX1NUUklORyA9ICcwLjMuNic7XG5cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gLS0gRG9lcyBiYXNpYyBjaGVja3MgZm9yIHNtYWxsIGVycm9ycyBsaWtlIGxlYWRpbmcvdHJhaWxpbmcgc3BhY2VzLCBldGMuXG4gKiBAcGFyYW0ge3N0cmluZ30gbGFuZ3VhZ2VDb2RlIC0tIGNhbiBiZSBhbiBlbXB0eSBzdHJpbmdcbiAqIEBwYXJhbSB7c3RyaW5nfSByZXBvQ29kZSAtLSBlLmcuLCAnVE4nIG9yICdUUTInLCBldGMuXG4gKiBAcGFyYW0ge3N0cmluZ30gZmllbGRUeXBlIC0tIGNsYXNzaWZpY2F0aW9uLCBlLmcuLCBUU1YsIFVTRk0sIFlBTUwsIGxpbmssIG1hcmtkb3duLCByYXdcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE5hbWUgLS0gdXNlZCBmb3IgaWRlbnRpZmljYXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZFRleHQgLS0gdGhlIGZpZWxkIGJlaW5nIGNoZWNrZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gYWxsb3dlZExpbmtzIC0tIGRvZXNu4oCZdCBjaGVjayBsaW5rcyAtLSBvbmx5IGNoZWNrcyBsYWNrIG9mIGxpbmtzXG4gKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9uYWxGaWVsZExvY2F0aW9uIC0tIHVzZWQgdG8gaW5mb3JtIHdoZXJlIHRoaXMgZmllbGQgaXMgbG9jYXRlZFxuICogQHBhcmFtIHtPYmplY3R9IGNoZWNraW5nT3B0aW9uc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tUZXh0RmllbGQobGFuZ3VhZ2VDb2RlLCByZXBvQ29kZSwgZmllbGRUeXBlLCBmaWVsZE5hbWUsIGZpZWxkVGV4dCwgYWxsb3dlZExpbmtzLCBvcHRpb25hbEZpZWxkTG9jYXRpb24sIGNoZWNraW5nT3B0aW9ucykge1xuICAgIC8vIFdlIGFzc3VtZSB0aGF0IGNoZWNraW5nIGZvciBjb21wdWxzb3J5IGZpZWxkcyBpcyBkb25lIGVsc2V3aGVyZVxuXG4gICAgLy8gUmV0dXJucyBhIHNpbmdsZSBub3RpY2UgbGlzdFxuICAgIC8vICBUaGUgbGlzdCBjb250YWlucyBvYmplY3RzIHdpdGggdGhlIGZvbGxvd2luZyBmaWVsZHM6XG4gICAgLy8gICAgICBwcmlvcml0eSAoY29tcHVsc29yeSk6IHRoZSBwcmlvcml0eSBudW1iZXIgMC4uOTk5ICh1c3VhbGx5IDgwMCsgYXJlIGVycm9ycywgbG93ZXIgYXJlIHdhcm5pbmdzKVxuICAgIC8vICAgICAgbWVzc2FnZSAoY29tcHVsc29yeSk6IHRoZSBlcnJvciBkZXNjcmlwdGlvbiBzdHJpbmdcbiAgICAvLyAgICAgIGNoYXJhY3RlckluZGV4OiB0aGUgMC1iYXNlZCBpbmRleCBmb3IgdGhlIHBvc2l0aW9uIGluIHRoZSBzdHJpbmdcbiAgICAvLyAgICAgIGV4Y2VycHQ6IGEgc2hvcnQgZXhjZXJwdCBvZiB0aGUgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIGVycm9yIChvciBlbXB0eS1zdHJpbmcgaWYgaXJyZWxldmFudClcbiAgICAvLyAgICAgIGxvY2F0aW9uOiB0aGUgZGV0YWlsZWQgbG9jYXRpb24gc3RyaW5nXG4gICAgLy8gIChSZXR1cm5lZCBpbiB0aGlzIHdheSBmb3IgbW9yZSBpbnRlbGxpZ2VudCBwcm9jZXNzaW5nIGF0IGEgaGlnaGVyIGxldmVsKVxuICAgIC8vIGZ1bmN0aW9uTG9nKGBjaGVja1RleHRGaWVsZCgke2ZpZWxkTmFtZX0sICR7ZmllbGRUZXh0Lmxlbmd0aC50b0xvY2FsZVN0cmluZygpfSBjaGFycywgJHthbGxvd2VkTGlua3N9LCAnJHtvcHRpb25hbEZpZWxkTG9jYXRpb259JynigKZgKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChsYW5ndWFnZUNvZGUgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RleHRGaWVsZDogJ2xhbmd1YWdlQ29kZScgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBsYW5ndWFnZUNvZGUgPT09ICdzdHJpbmcnLCBgY2hlY2tUZXh0RmllbGQ6ICdsYW5ndWFnZUNvZGUnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIGxhbmd1YWdlQ29kZX0nOiAke2xhbmd1YWdlQ29kZX1gKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChsYW5ndWFnZUNvZGUgIT09ICd1bmZvbGRpbmdXb3JkJywgYGNoZWNrVGV4dEZpZWxkOiAnbGFuZ3VhZ2VDb2RlJyAke2xhbmd1YWdlQ29kZX0gcGFyYW1ldGVyIHNob3VsZCBiZSBub3QgYmUgJ3VuZm9sZGluZ1dvcmQnYCk7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQocmVwb0NvZGUgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RleHRGaWVsZDogJ3JlcG9Db2RlJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIHJlcG9Db2RlID09PSAnc3RyaW5nJywgYGNoZWNrVGV4dEZpZWxkOiAncmVwb0NvZGUnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIHJlcG9Db2RlfSc6ICR7cmVwb0NvZGV9YCk7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQoUkVQT19DT0RFU19MSVNULmluY2x1ZGVzKHJlcG9Db2RlKSwgYGNoZWNrVGV4dEZpZWxkOiAncmVwb0NvZGUnIHBhcmFtZXRlciBzaG91bGQgbm90IGJlICcke3JlcG9Db2RlfSdgKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChmaWVsZFR5cGUgIT09IHVuZGVmaW5lZCwgXCJjaGVja1RleHRGaWVsZDogJ2ZpZWxkVHlwZScgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBmaWVsZFR5cGUgPT09ICdzdHJpbmcnLCBgY2hlY2tUZXh0RmllbGQ6ICdmaWVsZFR5cGUnIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIGZpZWxkVHlwZX0nOiAke2ZpZWxkVHlwZX1gKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChmaWVsZFR5cGUgIT09ICcnLCBgY2hlY2tUZXh0RmllbGQ6ICdmaWVsZFR5cGUnICR7ZmllbGRUeXBlfSBwYXJhbWV0ZXIgc2hvdWxkIGJlIG5vdCBiZSBhbiBlbXB0eSBzdHJpbmdgKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChmaWVsZFR5cGUgPT09ICdtYXJrZG93bicgfHwgZmllbGRUeXBlID09PSAnVVNGTScgfHwgZmllbGRUeXBlID09PSAnWUFNTCcgfHwgZmllbGRUeXBlID09PSAndGV4dCcgfHwgZmllbGRUeXBlID09PSAncmF3JyB8fCBmaWVsZFR5cGUgPT09ICdsaW5rJywgYGNoZWNrVGV4dEZpZWxkOiB1bnJlY29nbmlzZWQgJ2ZpZWxkVHlwZScgcGFyYW1ldGVyOiAnJHtmaWVsZFR5cGV9J2ApO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGZpZWxkTmFtZSAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVGV4dEZpZWxkOiAnZmllbGROYW1lJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIGZpZWxkTmFtZSA9PT0gJ3N0cmluZycsIGBjaGVja1RleHRGaWVsZDogJ2ZpZWxkTmFtZScgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgZmllbGROYW1lfSc6ICR7ZmllbGROYW1lfWApO1xuICAgIC8vIGlmIChmaWVsZFR5cGUgIT09ICdtYXJrZG93bicpXG4gICAgLy8gICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGZpZWxkTmFtZSAhPT0gJycsIGBjaGVja1RleHRGaWVsZDogJHtmaWVsZFR5cGV9ICdmaWVsZE5hbWUnIHBhcmFtZXRlciBzaG91bGQgYmUgbm90IGJlIGFuIGVtcHR5IHN0cmluZ2ApO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGZpZWxkVGV4dCAhPT0gdW5kZWZpbmVkLCBcImNoZWNrVGV4dEZpZWxkOiAnZmllbGRUZXh0JyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIGZpZWxkVGV4dCA9PT0gJ3N0cmluZycsIGBjaGVja1RleHRGaWVsZDogJ2ZpZWxkVGV4dCcgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2YgZmllbGRUZXh0fSc6ICR7ZmllbGRUZXh0fWApO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KGFsbG93ZWRMaW5rcyA9PT0gdHJ1ZSB8fCBhbGxvd2VkTGlua3MgPT09IGZhbHNlLCBcImNoZWNrVGV4dEZpZWxkOiBhbGxvd2VkTGlua3MgcGFyYW1ldGVyIG11c3QgYmUgZWl0aGVyIHRydWUgb3IgZmFsc2VcIik7XG4gICAgaWYgKCFhbGxvd2VkTGlua3MpIHsgLy9wYXJhbWV0ZXJBc3NlcnQoZmllbGRUZXh0LmluZGV4T2YoJ3gtdHcnKSA8IDAsIGBjaGVja1RleHRGaWVsZCBzaG91bGQgYmUgYWxsb3dlZExpbmtzIGZvciAke2ZpZWxkVHlwZX0gJHtmaWVsZE5hbWV9ICR7ZmllbGRUZXh0fWApO1xuICAgIH1cbiAgICAvL3BhcmFtZXRlckFzc2VydChvcHRpb25hbEZpZWxkTG9jYXRpb24gIT09IHVuZGVmaW5lZCwgXCJjaGVja1RleHRGaWVsZDogJ29wdGlvbmFsRmllbGRMb2NhdGlvbicgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBvcHRpb25hbEZpZWxkTG9jYXRpb24gPT09ICdzdHJpbmcnLCBgY2hlY2tUZXh0RmllbGQ6ICdvcHRpb25hbEZpZWxkTG9jYXRpb24nIHBhcmFtZXRlciBzaG91bGQgYmUgYSBzdHJpbmcgbm90IGEgJyR7dHlwZW9mIG9wdGlvbmFsRmllbGRMb2NhdGlvbn0nOiAke29wdGlvbmFsRmllbGRMb2NhdGlvbn1gKTtcbiAgICAvL3BhcmFtZXRlckFzc2VydChvcHRpb25hbEZpZWxkTG9jYXRpb24uaW5kZXhPZigndHJ1ZScpID09PSAtMSwgYGNoZWNrVGV4dEZpZWxkOiAnb3B0aW9uYWxGaWVsZExvY2F0aW9uJyBwYXJhbWV0ZXIgc2hvdWxkIG5vdCBiZSAnJHtvcHRpb25hbEZpZWxkTG9jYXRpb259J2ApO1xuICAgIGlmIChjaGVja2luZ09wdGlvbnMgIT09IHVuZGVmaW5lZCkgeyAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2YgY2hlY2tpbmdPcHRpb25zID09PSAnb2JqZWN0JywgYGNoZWNrVGV4dEZpZWxkOiAnY2hlY2tpbmdPcHRpb25zJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGFuIG9iamVjdCBub3QgYSAnJHt0eXBlb2YgY2hlY2tpbmdPcHRpb25zfSc6ICR7SlNPTi5zdHJpbmdpZnkoY2hlY2tpbmdPcHRpb25zKX1gKTtcbiAgICB9XG5cbiAgICBsZXQgcmVzdWx0ID0geyBub3RpY2VMaXN0OiBbXSB9O1xuXG4gICAgZnVuY3Rpb24gYWRkTm90aWNlUGFydGlhbChub3RpY2VPYmplY3QpIHtcbiAgICAgICAgLy8gV2UgYWRkIHRoZSBmaWVsZE5hbWUgaGVyZVxuICAgICAgICAvLyBkZWJ1Z0xvZyhgZEJUQyBOb3RpY2U6IChwcmlvcml0eT0ke3ByaW9yaXR5fSkgJHttZXNzYWdlfSR7Y2hhcmFjdGVySW5kZXggPiAwID8gYCAoYXQgY2hhcmFjdGVyICR7Y2hhcmFjdGVySW5kZXh9KWAgOiBcIlwifSR7ZXhjZXJwdCA/IGAgJHtleGNlcnB0fWAgOiBcIlwifSR7bG9jYXRpb259YCk7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KG5vdGljZU9iamVjdC5wcmlvcml0eSAhPT0gdW5kZWZpbmVkLCBcImRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdwcmlvcml0eScgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2Ygbm90aWNlT2JqZWN0LnByaW9yaXR5ID09PSAnbnVtYmVyJywgYGRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdwcmlvcml0eScgcGFyYW1ldGVyIHNob3VsZCBiZSBhIG51bWJlciBub3QgYSAnJHt0eXBlb2Ygbm90aWNlT2JqZWN0LnByaW9yaXR5fSc6ICR7bm90aWNlT2JqZWN0LnByaW9yaXR5fWApO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydChub3RpY2VPYmplY3QubWVzc2FnZSAhPT0gdW5kZWZpbmVkLCBcImRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdtZXNzYWdlJyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGRlZmluZWRcIik7XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KHR5cGVvZiBub3RpY2VPYmplY3QubWVzc2FnZSA9PT0gJ3N0cmluZycsIGBkQlRDcyBhZGROb3RpY2VQYXJ0aWFsOiAnbWVzc2FnZScgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2Ygbm90aWNlT2JqZWN0Lm1lc3NhZ2V9JzogJHtub3RpY2VPYmplY3QubWVzc2FnZX1gKTtcbiAgICAgICAgLy8gLy9wYXJhbWV0ZXJBc3NlcnQoY2hhcmFjdGVySW5kZXggIT09IHVuZGVmaW5lZCwgXCJkQlRDcyBhZGROb3RpY2VQYXJ0aWFsOiAnY2hhcmFjdGVySW5kZXgnIHBhcmFtZXRlciBzaG91bGQgYmUgZGVmaW5lZFwiKTtcbiAgICAgICAgaWYgKG5vdGljZU9iamVjdC5jaGFyYWN0ZXJJbmRleCkgeyAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2Ygbm90aWNlT2JqZWN0LmNoYXJhY3RlckluZGV4ID09PSAnbnVtYmVyJywgYGRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdjaGFyYWN0ZXJJbmRleCcgcGFyYW1ldGVyIHNob3VsZCBiZSBhIG51bWJlciBub3QgYSAnJHt0eXBlb2Ygbm90aWNlT2JqZWN0LmNoYXJhY3RlckluZGV4fSc6ICR7bm90aWNlT2JqZWN0LmNoYXJhY3RlckluZGV4fWApO1xuICAgICAgICB9XG4gICAgICAgIC8vIC8vcGFyYW1ldGVyQXNzZXJ0KGV4Y2VycHQgIT09IHVuZGVmaW5lZCwgXCJkQlRDcyBhZGROb3RpY2VQYXJ0aWFsOiAnZXhjZXJwdCcgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgICAgICBpZiAobm90aWNlT2JqZWN0LmV4Y2VycHQpIHsgLy9wYXJhbWV0ZXJBc3NlcnQodHlwZW9mIG5vdGljZU9iamVjdC5leGNlcnB0ID09PSAnc3RyaW5nJywgYGRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdleGNlcnB0JyBwYXJhbWV0ZXIgc2hvdWxkIGJlIGEgc3RyaW5nIG5vdCBhICcke3R5cGVvZiBub3RpY2VPYmplY3QuZXhjZXJwdH0nOiAke25vdGljZU9iamVjdC5leGNlcnB0fWApO1xuICAgICAgICB9XG4gICAgICAgIC8vcGFyYW1ldGVyQXNzZXJ0KG5vdGljZU9iamVjdC5sb2NhdGlvbiAhPT0gdW5kZWZpbmVkLCBcImRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdsb2NhdGlvbicgcGFyYW1ldGVyIHNob3VsZCBiZSBkZWZpbmVkXCIpO1xuICAgICAgICAvL3BhcmFtZXRlckFzc2VydCh0eXBlb2Ygbm90aWNlT2JqZWN0LmxvY2F0aW9uID09PSAnc3RyaW5nJywgYGRCVENzIGFkZE5vdGljZVBhcnRpYWw6ICdsb2NhdGlvbicgcGFyYW1ldGVyIHNob3VsZCBiZSBhIHN0cmluZyBub3QgYSAnJHt0eXBlb2Ygbm90aWNlT2JqZWN0LmxvY2F0aW9ufSc6ICR7bm90aWNlT2JqZWN0LmxvY2F0aW9ufWApO1xuXG4gICAgICAgIC8vIG5vdGljZU9iamVjdC5kZWJ1Z0NoYWluID0gbm90aWNlT2JqZWN0LmRlYnVnQ2hhaW4gPyBgY2hlY2tUZXh0RmllbGQoJHtmaWVsZFR5cGV9LCAke2ZpZWxkTmFtZX0sICR7YWxsb3dlZExpbmtzfSkgJHtub3RpY2VPYmplY3QuZGVidWdDaGFpbn1gIDogYGNoZWNrVGV4dEZpZWxkKCR7ZmllbGRUeXBlfSwgJHtmaWVsZE5hbWV9LCAke2FsbG93ZWRMaW5rc30pYDtcbiAgICAgICAgaWYgKGZpZWxkTmFtZS5sZW5ndGgpIG5vdGljZU9iamVjdC5maWVsZE5hbWUgPSBmaWVsZE5hbWU7IC8vIERvbuKAmXQgYWRkIHRoZSBmaWVsZCBpZiBpdOKAmXMgYmxhbmtcbiAgICAgICAgcmVzdWx0Lm5vdGljZUxpc3QucHVzaChub3RpY2VPYmplY3QpO1xuICAgIH1cblxuXG4gICAgLy8gTWFpbiBjb2RlIGZvciBjaGVja1RleHRGaWVsZCgpXG4gICAgaWYgKCFmaWVsZFRleHQpIC8vIE5vdGhpbmcgdG8gY2hlY2tcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcblxuICAgIC8vIENyZWF0ZSBvdXIgbW9yZSBkZXRhaWxlZCBsb2NhdGlvbiBzdHJpbmcgYnkgcHJlcGVuZGluZyB0aGUgZmllbGROYW1lXG4gICAgbGV0IG91ckxvY2F0aW9uID0gb3B0aW9uYWxGaWVsZExvY2F0aW9uO1xuICAgIGlmIChvdXJMb2NhdGlvbiAmJiBvdXJMb2NhdGlvblswXSAhPT0gJyAnKSBvdXJMb2NhdGlvbiA9IGAgJHtvdXJMb2NhdGlvbn1gO1xuXG4gICAgbGV0IGV4Y2VycHRMZW5ndGg7XG4gICAgdHJ5IHtcbiAgICAgICAgZXhjZXJwdExlbmd0aCA9IGNoZWNraW5nT3B0aW9ucz8uZXhjZXJwdExlbmd0aDtcbiAgICB9IGNhdGNoIChidGNFcnJvcikgeyB9XG4gICAgaWYgKHR5cGVvZiBleGNlcnB0TGVuZ3RoICE9PSAnbnVtYmVyJyB8fCBpc05hTihleGNlcnB0TGVuZ3RoKSkge1xuICAgICAgICBleGNlcnB0TGVuZ3RoID0gREVGQVVMVF9FWENFUlBUX0xFTkdUSDtcbiAgICAgICAgLy8gZGVidWdMb2coYFVzaW5nIGRlZmF1bHQgZXhjZXJwdExlbmd0aD0ke2V4Y2VycHRMZW5ndGh9YCk7XG4gICAgfVxuICAgIC8vIGVsc2VcbiAgICAvLyBkZWJ1Z0xvZyhgVXNpbmcgc3VwcGxpZWQgZXhjZXJwdExlbmd0aD0ke2V4Y2VycHRMZW5ndGh9YCwgYGNmLiBkZWZhdWx0PSR7REVGQVVMVF9FWENFUlBUX0xFTkdUSH1gKTtcbiAgICBjb25zdCBleGNlcnB0SGFsZkxlbmd0aCA9IE1hdGguZmxvb3IoZXhjZXJwdExlbmd0aCAvIDIpOyAvLyByb3VuZGVkIGRvd25cbiAgICBjb25zdCBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPSBNYXRoLmZsb29yKChleGNlcnB0TGVuZ3RoICsgMSkgLyAyKTsgLy8gcm91bmRlZCB1cFxuICAgIC8vIGRlYnVnTG9nKGBVc2luZyBleGNlcnB0SGFsZkxlbmd0aD0ke2V4Y2VycHRIYWxmTGVuZ3RofWAsIGBleGNlcnB0SGFsZkxlbmd0aFBsdXM9JHtleGNlcnB0SGFsZkxlbmd0aFBsdXN9YCk7XG5cbiAgICBsZXQgc3VnZ2VzdGlvbiA9IGZpZWxkVGV4dC50cmltKCk7XG5cbiAgICBsZXQgY2hhcmFjdGVySW5kZXg7XG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDg5NSlcbiAgICAgICAgJiYgKGNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0LmluZGV4T2YoJ1xcdTIwMEInKSkgPj0gMCkge1xuICAgICAgICBjb25zdCBjaGFyQ291bnQgPSBjb3VudE9jY3VycmVuY2VzKGZpZWxkVGV4dCwgJ1xcdTIwMEInKTtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKS5yZXBsYWNlKC9cXHUyMDBCL2csICfigLwnKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA4OTUsIG1lc3NhZ2U6IFwiRmllbGQgY29udGFpbnMgemVyby13aWR0aCBzcGFjZShzKVwiLCBkZXRhaWxzOiBgJHtjaGFyQ291bnR9IG9jY3VycmVuY2Uke2NoYXJDb3VudCA9PT0gMSA/ICcnIDogJ3MnfSBmb3VuZGAsIGNoYXJhY3RlckluZGV4LCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnJlcGxhY2UoL1xcdTIwMEIvZywgJycpOyAvLyBPciBzaG91bGQgaXQgYmUgc3BhY2UgPz8/XG4gICAgfVxuXG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDYzOClcbiAgICAgICAgJiYgaXNXaGl0ZXNwYWNlKGZpZWxkVGV4dCkpIHtcbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA2MzgsIG1lc3NhZ2U6IFwiT25seSBmb3VuZCB3aGl0ZXNwYWNlXCIsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgOTkzKVxuICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignPDw8PDw8PCcpKSA+PSAwKSB7XG4gICAgICAgIGNvbnN0IGl5ID0gY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aDsgLy8gV2FudCBleGNlcnB0IHRvIGZvY3VzIG1vcmUgb24gd2hhdCBmb2xsb3dzXG4gICAgICAgIGNvbnN0IGV4Y2VycHQgPSAoaXkgPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhpeSAtIGV4Y2VycHRIYWxmTGVuZ3RoLCBpeSArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cykucmVwbGFjZSgvIC9nLCAn4pCjJykgKyAoaXkgKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBmaWVsZFRleHQubGVuZ3RoID8gJ+KApicgOiAnJyk7XG5cbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA5OTMsIG1lc3NhZ2U6IFwiVW5yZXNvbHZlZCBHSVQgY29uZmxpY3RcIiwgY2hhcmFjdGVySW5kZXgsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgOTkyKVxuICAgICAgICAgICAgJiYgKGNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0LmluZGV4T2YoJz09PT09PT0nKSkgPj0gMCkge1xuICAgICAgICAgICAgY29uc3QgaXkgPSBjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoOyAvLyBXYW50IGV4Y2VycHQgdG8gZm9jdXMgbW9yZSBvbiB3aGF0IGZvbGxvd3NcbiAgICAgICAgICAgIGNvbnN0IGV4Y2VycHQgPSAoaXkgPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhpeSAtIGV4Y2VycHRIYWxmTGVuZ3RoLCBpeSArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cykucmVwbGFjZSgvIC9nLCAn4pCjJykgKyAoaXkgKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBmaWVsZFRleHQubGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDk5MiwgbWVzc2FnZTogXCJVbnJlc29sdmVkIEdJVCBjb25mbGljdFwiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDk5MSlcbiAgICAgICAgICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignPj4+Pj4+Pj4nKSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl5ID0gY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aDsgLy8gV2FudCBleGNlcnB0IHRvIGZvY3VzIG1vcmUgb24gd2hhdCBmb2xsb3dzXG4gICAgICAgICAgICAgICAgY29uc3QgZXhjZXJwdCA9IChpeSA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGl5IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGl5ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKS5yZXBsYWNlKC8gL2csICfikKMnKSArIChpeSArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDk5MSwgbWVzc2FnZTogXCJVbnJlc29sdmVkIEdJVCBjb25mbGljdFwiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZpZWxkVGV4dFswXSA9PT0gJyAnKSB7XG4gICAgICAgIGNvbnN0IGV4Y2VycHQgPSBmaWVsZFRleHQuc3Vic3RyaW5nKDAsIGV4Y2VycHRMZW5ndGgpLnJlcGxhY2UoLyAvZywgJ+KQoycpICsgKGZpZWxkVGV4dC5sZW5ndGggPiBleGNlcnB0TGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgIGlmIChmaWVsZFRleHRbMV0gPT09ICcgJykgLy8gc3BhY2VzIHBsdXJhbFxuICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiAxMTAsIG1lc3NhZ2U6IGBVbmV4cGVjdGVkIGxlYWRpbmcgc3BhY2VzYCwgY2hhcmFjdGVySW5kZXg6IDAsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiAxMDksIG1lc3NhZ2U6IGBVbmV4cGVjdGVkIGxlYWRpbmcgc3BhY2VgLCBjaGFyYWN0ZXJJbmRleDogMCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgIH0gZWxzZSBpZiAoZmllbGRUZXh0WzBdID09PSAnXFx1MjA2MCcpIHtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IGZpZWxkVGV4dC5zdWJzdHJpbmcoMCwgZXhjZXJwdExlbmd0aCkucmVwbGFjZSgvXFx1MjA2MC9nLCAn4oC8JykgKyAoZmllbGRUZXh0Lmxlbmd0aCA+IGV4Y2VycHRMZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA3NzAsIG1lc3NhZ2U6IGBVbmV4cGVjdGVkIGxlYWRpbmcgd29yZC1qb2luZXJgLCBjaGFyYWN0ZXJJbmRleDogMCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICBpZiAoc3VnZ2VzdGlvblswXSA9PT0gJ1xcdTIwNjAnKSBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbi5zdWJzdHJpbmcoMSk7XG4gICAgfSBlbHNlIGlmIChmaWVsZFRleHRbMF0gPT09ICdcXHUyMDBEJykge1xuICAgICAgICBjb25zdCBleGNlcnB0ID0gZmllbGRUZXh0LnN1YnN0cmluZygwLCBleGNlcnB0TGVuZ3RoKS5yZXBsYWNlKC9cXHUyMDBEL2csICfigLwnKSArIChmaWVsZFRleHQubGVuZ3RoID4gZXhjZXJwdExlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDc3MSwgbWVzc2FnZTogYFVuZXhwZWN0ZWQgbGVhZGluZyB6ZXJvLXdpZHRoIGpvaW5lcmAsIGNoYXJhY3RlckluZGV4OiAwLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgIGlmIChzdWdnZXN0aW9uWzBdID09PSAnXFx1MjAwRCcpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDY0KVxuICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignPGJyPiAnKSkgPj0gMCkge1xuICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpLnJlcGxhY2UoLyAvZywgJ+KQoycpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDY0LCBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgbGVhZGluZyBzcGFjZShzKSBhZnRlciBicmVha1wiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgNjMpXG4gICAgICAgICYmIChjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKCdcXFxcbiAnKSkgPj0gMCkge1xuICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpLnJlcGxhY2UoLyAvZywgJ+KQoycpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDYzLCBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgbGVhZGluZyBzcGFjZShzKSBhZnRlciBsaW5lIGJyZWFrXCIsIGNoYXJhY3RlckluZGV4LCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgfVxuXG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDc3MilcbiAgICAgICAgJiYgZmllbGRUZXh0W2ZpZWxkVGV4dC5sZW5ndGggLSAxXSA9PT0gJ1xcdTIwNjAnKSB7XG4gICAgICAgIGNvbnN0IGV4Y2VycHQgPSBmaWVsZFRleHQuc3Vic3RyaW5nKDAsIGV4Y2VycHRMZW5ndGgpLnJlcGxhY2UoL1xcdTIwNjAvZywgJ+KAvCcpICsgKGZpZWxkVGV4dC5sZW5ndGggPiBleGNlcnB0TGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzcyLCBtZXNzYWdlOiBgVW5leHBlY3RlZCB0cmFpbGluZyB3b3JkLWpvaW5lcmAsIGNoYXJhY3RlckluZGV4OiAwLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgIGlmIChzdWdnZXN0aW9uW3N1Z2dlc3Rpb24ubGVuZ3RoIC0gMV0gPT09ICdcXHUyMDYwJykgc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb24uc3Vic3RyaW5nKDAsIHN1Z2dlc3Rpb24ubGVuZ3RoIC0gMSk7XG4gICAgfSBlbHNlIGlmICgoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCA3NzMpXG4gICAgICAgICYmIGZpZWxkVGV4dFtmaWVsZFRleHQubGVuZ3RoIC0gMV0gPT09ICdcXHUyMDBEJykge1xuICAgICAgICBjb25zdCBleGNlcnB0ID0gZmllbGRUZXh0LnN1YnN0cmluZygwLCBleGNlcnB0TGVuZ3RoKS5yZXBsYWNlKC9cXHUyMDBEL2csICfigLwnKSArIChmaWVsZFRleHQubGVuZ3RoID4gZXhjZXJwdExlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDc3MywgbWVzc2FnZTogYFVuZXhwZWN0ZWQgdHJhaWxpbmcgemVyby13aWR0aCBqb2luZXJgLCBjaGFyYWN0ZXJJbmRleDogMCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICBpZiAoc3VnZ2VzdGlvbltzdWdnZXN0aW9uLmxlbmd0aCAtIDFdID09PSAnXFx1MjAwRCcpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZygwLCBzdWdnZXN0aW9uLmxlbmd0aCAtIDEpO1xuICAgIH1cblxuICAgIC8vIEZpbmQgbGVhZGluZyBsaW5lIGJyZWFrcyAoYnV0IG5vdCBpZiB0aGUgd2hvbGUgbGluZSBpcyBqdXN0IHRoZSBsaW5lIGJyZWFrIHNlcXVlbmNlKVxuICAgIGNvbnN0IGZpZWxkVGV4dExvd2VyID0gZmllbGRUZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDEwNylcbiAgICAgICAgJiYgKGZpZWxkVGV4dExvd2VyLnN1YnN0cmluZygwLCAyKSA9PT0gJ1xcXFxuJyB8fCBmaWVsZFRleHRMb3dlci5zdWJzdHJpbmcoMCwgNCkgPT09ICc8YnI+JyB8fCBmaWVsZFRleHRMb3dlci5zdWJzdHJpbmcoMCwgNSkgPT09ICc8YnIvPicgfHwgZmllbGRUZXh0TG93ZXIuc3Vic3RyaW5nKDAsIDYpID09PSAnPGJyIC8+JylcbiAgICAgICAgJiYgZmllbGRUZXh0TG93ZXIgIT09ICdcXFxcbicgJiYgZmllbGRUZXh0TG93ZXIgIT09ICc8YnI+JyAmJiBmaWVsZFRleHRMb3dlciAhPT0gJzxici8+JyAmJiBmaWVsZFRleHRMb3dlciAhPT0gJzxiciAvPicpIHtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IGZpZWxkVGV4dC5zdWJzdHJpbmcoMCwgZXhjZXJwdExlbmd0aCkgKyAoZmllbGRUZXh0Lmxlbmd0aCA+IGV4Y2VycHRMZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiAxMDcsIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBsZWFkaW5nIGxpbmUgYnJlYWtcIiwgY2hhcmFjdGVySW5kZXg6IDAsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgd2hpbGUgKHN1Z2dlc3Rpb24udG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwgMikgPT09ICdcXFxcbicpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZygyKTtcbiAgICAgICAgd2hpbGUgKHN1Z2dlc3Rpb24udG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCwgNCkgPT09ICc8YnI+Jykgc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb24uc3Vic3RyaW5nKDQpO1xuICAgICAgICB3aGlsZSAoc3VnZ2VzdGlvbi50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLCA1KSA9PT0gJzxici8+Jykgc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb24uc3Vic3RyaW5nKDUpO1xuICAgICAgICB3aGlsZSAoc3VnZ2VzdGlvbi50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLCA2KSA9PT0gJzxiciAvPicpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZyg2KTtcbiAgICB9XG5cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgOTUpXG4gICAgICAgICYmIGZpZWxkVGV4dFtmaWVsZFRleHQubGVuZ3RoIC0gMV0gPT09ICcgJylcbiAgICAgICAgLy8gTWFya2Rvd24gZ2l2ZXMgbWVhbmluZyB0byB0d28gc3BhY2VzIGF0IHRoZSBlbmQgb2YgYSBsaW5lXG4gICAgICAgIGlmIChmaWVsZFR5cGUgIT09ICdtYXJrZG93bicgfHwgZmllbGRUZXh0Lmxlbmd0aCA8IDMgfHwgZmllbGRUZXh0W2ZpZWxkVGV4dC5sZW5ndGggLSAyXSAhPT0gJyAnIHx8IGZpZWxkVGV4dFtmaWVsZFRleHQubGVuZ3RoIC0gM10gPT09ICcgJykge1xuICAgICAgICAgICAgY29uc3QgZXhjZXJwdCA9IChmaWVsZFRleHQubGVuZ3RoID4gZXhjZXJwdExlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhmaWVsZFRleHQubGVuZ3RoIC0gMTApLnJlcGxhY2UoLyAvZywgJ+KQoycpO1xuICAgICAgICAgICAgY29uc3Qgbm90aWNlID0geyBwcmlvcml0eTogOTUsIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCB0cmFpbGluZyBzcGFjZShzKVwiLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfTtcbiAgICAgICAgICAgIGlmICgoZmllbGRUeXBlICE9PSAncmF3JyAmJiBmaWVsZFR5cGUgIT09ICd0ZXh0JykgfHwgZmllbGROYW1lLnN1YnN0cmluZygwLCA2KSAhPT0gJ2Zyb20gXFxcXCcpXG4gICAgICAgICAgICAgICAgbm90aWNlLmNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0Lmxlbmd0aCAtIDE7IC8vIGNoYXJhY3RlckluZGV4IG1lYW5zIG5vdGhpbmcgZm9yIHByb2Nlc3NlZCBVU0ZNXG4gICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKG5vdGljZSk7XG4gICAgICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgOTQpXG4gICAgICAgICYmIChjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKCcgPGJyJykpID49IDApIHtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKS5yZXBsYWNlKC8gL2csICfikKMnKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA5NCwgbWVzc2FnZTogXCJVbmV4cGVjdGVkIHRyYWlsaW5nIHNwYWNlKHMpIGJlZm9yZSBicmVha1wiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgOTMpXG4gICAgICAgICYmIChjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKCcgXFxcXG4nKSkgPj0gMCkge1xuICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpLnJlcGxhY2UoLyAvZywgJ+KQoycpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDkzLCBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgdHJhaWxpbmcgc3BhY2UocykgYmVmb3JlIGxpbmUgYnJlYWtcIiwgY2hhcmFjdGVySW5kZXgsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICB9XG5cbiAgICAvLyBGaW5kIHRyYWlsaW5nIGxpbmUgYnJlYWtzIChidXQgbm90IGlmIHRoZSB3aG9sZSBsaW5lIGlzIGp1c3QgdGhlIGxpbmUgYnJlYWsgc2VxdWVuY2UpXG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDEwNClcbiAgICAgICAgJiYgKGZpZWxkVGV4dExvd2VyLnN1YnN0cmluZyhmaWVsZFRleHRMb3dlci5sZW5ndGggLSAyKSA9PT0gJ1xcXFxuJyB8fCBmaWVsZFRleHRMb3dlci5zdWJzdHJpbmcoZmllbGRUZXh0TG93ZXIubGVuZ3RoIC0gNCkgPT09ICc8YnI+JyB8fCBmaWVsZFRleHRMb3dlci5zdWJzdHJpbmcoZmllbGRUZXh0TG93ZXIubGVuZ3RoIC0gNSkgPT09ICc8YnIvPicgfHwgZmllbGRUZXh0TG93ZXIuc3Vic3RyaW5nKGZpZWxkVGV4dExvd2VyLmxlbmd0aCAtIDYpID09PSAnPGJyIC8+JylcbiAgICAgICAgJiYgZmllbGRUZXh0TG93ZXIgIT09ICdcXFxcbicgJiYgZmllbGRUZXh0TG93ZXIgIT09ICc8YnI+JyAmJiBmaWVsZFRleHRMb3dlciAhPT0gJzxici8+JyAmJiBmaWVsZFRleHRMb3dlciAhPT0gJzxiciAvPicpIHtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChmaWVsZFRleHQubGVuZ3RoID4gZXhjZXJwdExlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhmaWVsZFRleHQubGVuZ3RoIC0gMTApO1xuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDEwNCwgbWVzc2FnZTogXCJVbmV4cGVjdGVkIHRyYWlsaW5nIGxpbmUgYnJlYWtcIiwgY2hhcmFjdGVySW5kZXg6IGZpZWxkVGV4dC5sZW5ndGggLSAxLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgIHdoaWxlIChzdWdnZXN0aW9uLnRvTG93ZXJDYXNlKCkuc3Vic3RyaW5nKHN1Z2dlc3Rpb24ubGVuZ3RoIC0gMikgPT09ICdcXFxcbicpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZygwLCBzdWdnZXN0aW9uLmxlbmd0aCAtIDIpO1xuICAgICAgICB3aGlsZSAoc3VnZ2VzdGlvbi50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZyhzdWdnZXN0aW9uLmxlbmd0aCAtIDQpID09PSAnPGJyPicpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZygwLCBzdWdnZXN0aW9uLmxlbmd0aCAtIDQpO1xuICAgICAgICB3aGlsZSAoc3VnZ2VzdGlvbi50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZyhzdWdnZXN0aW9uLmxlbmd0aCAtIDUpID09PSAnPGJyLz4nKSBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbi5zdWJzdHJpbmcoMCwgc3VnZ2VzdGlvbi5sZW5ndGggLSA1KTtcbiAgICAgICAgd2hpbGUgKHN1Z2dlc3Rpb24udG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoc3VnZ2VzdGlvbi5sZW5ndGggLSA2KSA9PT0gJzxiciAvPicpIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnN1YnN0cmluZygwLCBzdWdnZXN0aW9uLmxlbmd0aCAtIDYpO1xuICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgMTI0KVxuICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignICAnKSkgPj0gMFxuICAgICAgICAmJiAoZmllbGRUeXBlICE9PSAnbWFya2Rvd24nIHx8IGNoYXJhY3RlckluZGV4ICE9PSBmaWVsZFRleHQubGVuZ3RoIC0gMikpIHtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKS5yZXBsYWNlKC8gL2csICfikKMnKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgY29uc3QgZG91YmxlQ291bnQgPSBjb3VudE9jY3VycmVuY2VzKGZpZWxkVGV4dCwgJyAgJyk7XG4gICAgICAgIGxldCBub3RpY2U7XG4gICAgICAgIGlmIChkb3VibGVDb3VudCA9PT0gMSlcbiAgICAgICAgICAgIG5vdGljZSA9IHsgcHJpb3JpdHk6IDEyNCwgbWVzc2FnZTogXCJVbmV4cGVjdGVkIGRvdWJsZSBzcGFjZXNcIiwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIG5vdGljZSA9IHsgcHJpb3JpdHk6IDIyNCwgbWVzc2FnZTogXCJNdWx0aXBsZSB1bmV4cGVjdGVkIGRvdWJsZSBzcGFjZXNcIiwgZGV0YWlsczogYCR7ZG91YmxlQ291bnR9IG9jY3VycmVuY2Vz4oCUb25seSBmaXJzdCBpcyBkaXNwbGF5ZWRgLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfTtcbiAgICAgICAgaWYgKChmaWVsZFR5cGUgIT09ICdyYXcnICYmIGZpZWxkVHlwZSAhPT0gJ3RleHQnKSB8fCBmaWVsZE5hbWUuc3Vic3RyaW5nKDAsIDYpICE9PSAnZnJvbSBcXFxcJylcbiAgICAgICAgICAgIG5vdGljZS5jaGFyYWN0ZXJJbmRleCA9IGNoYXJhY3RlckluZGV4OyAvLyBjaGFyYWN0ZXJJbmRleCBtZWFucyBub3RoaW5nIGZvciBwcm9jZXNzZWQgVVNGTVxuICAgICAgICBpZiAoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCBub3RpY2UucHJpb3JpdHkpXG4gICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKG5vdGljZSk7XG4gICAgICAgIC8vIE5vdGU6IHJlcGxhY2luZyBkb3VibGUtc3BhY2VzIGluIHRoZSBzdWdnZXN0aW9uIGlzIGRvbmUgbGF0ZXIgLS0gYWZ0ZXIgb3RoZXIgc3VnZ2VzdGlvbiBtb2RpZmljYXRpb25zIHdoaWNoIG1pZ2h0IGFmZmVjdCBpdFxuICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgNTgzKVxuICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignXFxuJykpID49IDApIHtcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA1ODMsIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBuZXdMaW5lIGNoYXJhY3RlclwiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbi5yZXBsYWNlKC9cXG4vZywgJyAnKTtcbiAgICB9XG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDU4MilcbiAgICAgICAgJiYgKGNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0LmluZGV4T2YoJ1xccicpKSA+PSAwKSB7XG4gICAgICAgIGNvbnN0IGV4Y2VycHQgPSAoY2hhcmFjdGVySW5kZXggPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhjaGFyYWN0ZXJJbmRleCAtIGV4Y2VycHRIYWxmTGVuZ3RoLCBjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cykgKyAoY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBmaWVsZFRleHQubGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNTgyLCBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgY2FycmlhZ2VSZXR1cm4gY2hhcmFjdGVyXCIsIGNoYXJhY3RlckluZGV4LCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnJlcGxhY2UoL1xcci9nLCAnICcpO1xuICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgNTgxKVxuICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignXFx4QTAnKSkgPj0gMCkgeyAvLyBub24tYnJlYWsgc3BhY2VcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKS5yZXBsYWNlKC9cXHhBMC9nLCAn4o29JykgKyAoY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBmaWVsZFRleHQubGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNTgxLCBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgbm9uLWJyZWFrIHNwYWNlICh1QTApIGNoYXJhY3RlclwiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbi5yZXBsYWNlKC9cXHhBMC9nLCAnICcpO1xuICAgIH1cbiAgICBpZiAoKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgNTgwKVxuICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignXFx1MjAyRicpKSA+PSAwKSB7IC8vIG5hcnJvdyBub24tYnJlYWsgc3BhY2VcbiAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKS5yZXBsYWNlKC9cXHUyMDJGL2csICfijb0nKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgY29uc3Qgbm90aWNlID0geyBwcmlvcml0eTogNTgwLCBtZXNzYWdlOiBcIlVuZXhwZWN0ZWQgbmFycm93IG5vbi1icmVhayBzcGFjZSAodTIwMkYpIGNoYXJhY3RlclwiLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfTtcbiAgICAgICAgaWYgKChmaWVsZFR5cGUgIT09ICdyYXcnICYmIGZpZWxkVHlwZSAhPT0gJ3RleHQnKSB8fCBmaWVsZE5hbWUuc3Vic3RyaW5nKDAsIDYpICE9PSAnZnJvbSBcXFxcJylcbiAgICAgICAgICAgIG5vdGljZS5jaGFyYWN0ZXJJbmRleCA9IGNoYXJhY3RlckluZGV4OyAvLyBjaGFyYWN0ZXJJbmRleCBtZWFucyBub3RoaW5nIGZvciBwcm9jZXNzZWQgVVNGTVxuICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKG5vdGljZSk7XG4gICAgICAgIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnJlcGxhY2UoL1xcdTIwMkYvZywgJyAnKTtcbiAgICB9XG4gICAgaWYgKGZpZWxkTmFtZSA9PT0gJ09yaWdRdW90ZScgfHwgZmllbGROYW1lID09PSAnUXVvdGUnKSB7XG4gICAgICAgIGlmICgoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCAxNzkpXG4gICAgICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignIOKApicpKSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiAxNzksIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBzcGFjZSBiZWZvcmUgZWxsaXBzZSBjaGFyYWN0ZXJcIiwgY2hhcmFjdGVySW5kZXgsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uLnJlcGxhY2UoLyDigKYvZywgJ+KApicpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCAxNzgpXG4gICAgICAgICAgICAmJiAoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZign4oCmICcpKSA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiAxNzgsIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBzcGFjZSBhZnRlciBlbGxpcHNlIGNoYXJhY3RlclwiLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICAgICAgc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb24ucmVwbGFjZSgv4oCmIC9nLCAn4oCmJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3VnZ2VzdGlvbiA9IHN1Z2dlc3Rpb24ucmVwbGFjZSgvIHsyfS9nLCAnICcpO1xuXG4gICAgaWYgKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgMTc3KSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBkb3VibGVkIHB1bmN0dWF0aW9uIGNoYXJzIChpbnRlcm5hdGlvbmFsKVxuICAgICAgICAvLyBEb2VzbuKAmXQgY2hlY2sgZm9yIGRvdWJsZWQgZm9yd2FyZCBzbGFzaCBieSBkZWZhdWx0IGNveiB0aGF0IG1pZ2h0IG9jY3VyIGluIGEgbGluaywgZS5nLiwgaHR0cHM6Ly9ldGPigKZcbiAgICAgICAgLy8gIG9yIGRvdWJsZWQgIyBjb3ogdGhhdCBvY2N1cnMgaW4gbWFya2Rvd25cbiAgICAgICAgbGV0IGRvdWJsZWRQdW5jdHVhdGlvbkNoZWNrTGlzdCA9ICcoe308PuKfqOKfqTrYjOOAgeKAkuKAk+KAlOKAleKApiHigLnigLrCq8K74oCQP+KAmOKAmeKAnOKAnVxcJzvigYTCtyZA4oCiXuKAoOKAocKwwqHCv+KAu+KElsO3w5fCusKqJeKAsCviiJI94oCxwrbigLLigLPigLTCp3zigJbCpsKp4oSXwq7ihKDihKLCpOKCs+C4v+KCtcKi4oKh4oKiJOKCq+KCr9aP4oKg4oKsxpLigqPigrLigrTigq3igrrigr7ihLPigqXigqbigqfigrHigrDCo+Gfm+KCveKCueKCqOKCquCns+KCuOKCruKCqcKlJztcbiAgICAgICAgaWYgKCFhbGxvd2VkTGlua3MpIGRvdWJsZWRQdW5jdHVhdGlvbkNoZWNrTGlzdCArPSAnL1tdLiknOyAvLyBEb3VibGUgc3F1YXJlIGJyYWNrZXRzIGNhbiBiZSBwYXJ0IG9mIG1hcmtkb3duIGxpbmtzLCBkb3VibGUgcGVyaW9kcyBjYW4gYmUgcGFydCBvZiBhIHBhdGhcbiAgICAgICAgaWYgKGZpZWxkVHlwZSAhPT0gJ21hcmtkb3duJykgZG91YmxlZFB1bmN0dWF0aW9uQ2hlY2tMaXN0ICs9ICdfKiN+JzsgLy8gVGhlcmUgYXJlIHVzZWQgZm9yIG1hcmtkb3duIGZvcm1hdHRpbmdcbiAgICAgICAgaWYgKGZpZWxkVHlwZSAhPT0gJ1VTRk0nIHx8IGZpZWxkVGV4dC5pbmRleE9mKCd4LW1vcnBoJykgPCAwKSBkb3VibGVkUHVuY3R1YXRpb25DaGVja0xpc3QgKz0gJyxcIic7IC8vIEFsbG93ZWQgaW4gb3JpZ2luYWwgbGFuZ3VhZ2UgbW9ycGhvbG9neSBmaWVsZHNcbiAgICAgICAgaWYgKGZpZWxkVHlwZSAhPT0gJ1lBTUwnIHx8ICFmaWVsZFRleHQuc3RhcnRzV2l0aCgnLS0nKSkgLy8gTk9URTogRmlyc3QgaHlwaGVuIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBwcmVwcm9jZXNzaW5nXG4gICAgICAgICAgICBkb3VibGVkUHVuY3R1YXRpb25DaGVja0xpc3QgKz0gJy0nO1xuICAgICAgICBmb3IgKGNvbnN0IHB1bmN0Q2hhciBvZiBkb3VibGVkUHVuY3R1YXRpb25DaGVja0xpc3QpIHtcbiAgICAgICAgICAgIGlmICgoY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZihwdW5jdENoYXIgKyBwdW5jdENoYXIpKSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RpY2UgPSB7IHByaW9yaXR5OiAxNzcsIG1lc3NhZ2U6IGBVbmV4cGVjdGVkIGRvdWJsZWQgJHtwdW5jdENoYXJ9IGNoYXJhY3RlcnNgLCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfTtcbiAgICAgICAgICAgICAgICBpZiAoKGZpZWxkVHlwZSAhPT0gJ3JhdycgJiYgZmllbGRUeXBlICE9PSAndGV4dCcpIHx8IGZpZWxkTmFtZS5zdWJzdHJpbmcoMCwgNikgIT09ICdmcm9tIFxcXFwnKVxuICAgICAgICAgICAgICAgICAgICBub3RpY2UuY2hhcmFjdGVySW5kZXggPSBjaGFyYWN0ZXJJbmRleDsgLy8gY2hhcmFjdGVySW5kZXggbWVhbnMgbm90aGluZyBmb3IgcHJvY2Vzc2VkIFVTRk1cbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKG5vdGljZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgMTk1KSB7XG4gICAgICAgIC8vIENoZWNrIGZvciBwdW5jdHVhdGlvbiBjaGFycyBmb2xsb3dpbmcgc3BhY2UgYW5kIGF0IHN0YXJ0IG9mIGxpbmVcbiAgICAgICAgLy8gIFJlbW92ZWQgwqkk4oKs4oKxXG4gICAgICAgIGxldCBhZnRlclNwYWNlQ2hlY2tMaXN0ID0gJyl9PuKfqTos2IzjgIHigJLigJPigJTigJUhLuKAusK74oCQLT/igJnigJ07L+KBhMK3QOKAol7igKDigKHCsMKhwr/igLsj4oSWw7fDl8K6wqol4oCw4oCxwrbigLLigLPigLTCp+KAlsKm4oSXwq7ihKDihKLCpOKCs+C4v+KCtcKi4oKh4oKi4oKr4oKv1o/igqDGkuKCo+KCsuKCtOKCreKCuuKCvuKEs+KCpeKCpuKCp+KCsMKj4Z+b4oK94oK54oKo4oKq4Kez4oK44oKu4oKpwqUnO1xuICAgICAgICBpZiAoZmllbGRUeXBlICE9PSAnbWFya2Rvd24nKSBhZnRlclNwYWNlQ2hlY2tMaXN0ICs9ICdfKn4nOyAvLyBUaGVzZSBhcmUgdXNlZCBmb3IgbWFya2Rvd24gZm9ybWF0dGluZ1xuICAgICAgICBpZiAoZmllbGRUeXBlICE9PSAnVVNGTScgfHwgKGZpZWxkVGV4dC5pbmRleE9mKCd4LWxlbW1hJykgPCAwICYmIGZpZWxkVGV4dC5pbmRleE9mKCd4LXR3JykgPCAwKSkgYWZ0ZXJTcGFjZUNoZWNrTGlzdCArPSAnfCc7XG4gICAgICAgIGlmIChmaWVsZFR5cGUgIT09ICdZQU1MJykgYWZ0ZXJTcGFjZUNoZWNrTGlzdCArPSAnXFwnXCInOyAvLyBUaGVzZSBhcmUgdXNlZCBmb3IgWUFNTCBzdHJpbmdzLCBlLmcuLCB2ZXJzaW9uOiAnMC4xNSdcbiAgICAgICAgLy8gaWYgKGZpZWxkTmFtZSA9PT0gJ09yaWdRdW90ZScgfHwgZmllbGROYW1lID09PSAnUXVvdGUnKSBhZnRlclNwYWNlQ2hlY2tMaXN0ICs9ICfigKYnOyAvLyBOT1QgTkVFREVEIC0tIHRoaXMgaXMgc3BlY2lmaWNhbGx5IGNoZWNrZWQgZWxzZXdoZXJlXG4gICAgICAgIGZvciAoY29uc3QgcHVuY3RDaGFyIG9mIGFmdGVyU3BhY2VDaGVja0xpc3QpIHtcbiAgICAgICAgICAgIGlmICgoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCAxOTEpXG4gICAgICAgICAgICAgICAgJiYgKGNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0LmluZGV4T2YoJyAnICsgcHVuY3RDaGFyKSkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2VycHQgPSAoY2hhcmFjdGVySW5kZXggPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhjaGFyYWN0ZXJJbmRleCAtIGV4Y2VycHRIYWxmTGVuZ3RoLCBjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cykgKyAoY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBmaWVsZFRleHQubGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90aWNlID0geyBwcmlvcml0eTogMTkxLCBtZXNzYWdlOiBgVW5leHBlY3RlZCAke3B1bmN0Q2hhcn0gY2hhcmFjdGVyIGFmdGVyIHNwYWNlYCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH07XG4gICAgICAgICAgICAgICAgaWYgKChmaWVsZFR5cGUgIT09ICdyYXcnICYmIGZpZWxkVHlwZSAhPT0gJ3RleHQnKSB8fCBmaWVsZE5hbWUuc3Vic3RyaW5nKDAsIDYpICE9PSAnZnJvbSBcXFxcJylcbiAgICAgICAgICAgICAgICAgICAgbm90aWNlLmNoYXJhY3RlckluZGV4ID0gY2hhcmFjdGVySW5kZXg7IC8vIGNoYXJhY3RlckluZGV4IG1lYW5zIG5vdGhpbmcgZm9yIHByb2Nlc3NlZCBVU0ZNXG4gICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbChub3RpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDE5NSlcbiAgICAgICAgICAgICAgICAmJiAocHVuY3RDaGFyICE9PSAnLScgfHwgZmllbGRUeXBlICE9PSAnWUFNTCcpXG4gICAgICAgICAgICAgICAgJiYgKHB1bmN0Q2hhciAhPT0gJyEnIHx8IGZpZWxkVHlwZSAhPT0gJ21hcmtkb3duJykgLy8gaW1hZ2UgdGFnXG4gICAgICAgICAgICAgICAgJiYgZmllbGRUZXh0WzBdID09PSBwdW5jdENoYXIpIHtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IDE5NSwgbWVzc2FnZTogYFVuZXhwZWN0ZWQgJHtwdW5jdENoYXJ9IGNoYXJhY3RlciBhdCBzdGFydCBvZiBsaW5lYCwgY2hhcmFjdGVySW5kZXgsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGRUeXBlID09PSAnVVNGTScpXG4gICAgICAgICAgICBzdWdnZXN0aW9uID0gc3VnZ2VzdGlvbi5yZXBsYWNlKC98IC9nLCAnfCcpO1xuICAgIH1cblxuICAgIGlmICghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDE5Mikge1xuICAgICAgICAvLyBDaGVjayBmb3IgcHVuY3R1YXRpb24gY2hhcnMgYmVmb3JlIHNwYWNlXG4gICAgICAgIC8vICBSZW1vdmVkICcgKGNhbiBiZSBub3JtYWwsIGUuZy4sIEplc3VzJyBjbG9haylcbiAgICAgICAgLy8gIFJlbW92ZWQgwqlcbiAgICAgICAgbGV0IGJlZm9yZVNwYWNlQ2hlY2tMaXN0ID0gJyh7POKfqNiM44CB4oCS4oCT4oCU4oCV4oC5wqvigJDigJjigJwv4oGEwrdAXFxcXOKAol7igKDigKHCsMKhwr/igLvihJbDl8K6wqrigLDigLHCtuKAsuKAs+KAtMKnfOKAlsKm4oSX4oSg4oSiwqTigrPguL/igrXCouKCoeKCoiTigqvigq/Wj+KCoOKCrMaS4oKj4oKy4oK04oKt4oK64oK+4oSz4oKl4oKm4oKn4oKx4oKwwqPhn5vigr3igrnigqjigqrgp7Pigrjigq7igqnCpSc7XG4gICAgICAgIGlmIChmaWVsZFR5cGUgIT09ICdtYXJrZG93bicpIGJlZm9yZVNwYWNlQ2hlY2tMaXN0ICs9ICdffic7IC8vIFRoZXNlIGFyZSB1c2VkIGZvciBtYXJrZG93biBmb3JtYXR0aW5nXG4gICAgICAgIGlmIChmaWVsZFR5cGUgIT09ICdtYXJrZG93bicgJiYgZmllbGRUeXBlICE9PSAnVVNGTScpIGJlZm9yZVNwYWNlQ2hlY2tMaXN0ICs9ICcqJzsgLy8gVGhlcmUgYXJlIHVzZWQgZm9yIG1hcmtkb3duIGZvcm1hdHRpbmcgYW5kIFVTRk0gY2xvc2luZyBtYXJrZXJzXG4gICAgICAgIGlmIChmaWVsZFR5cGUgIT09ICdZQU1MJykgYmVmb3JlU3BhY2VDaGVja0xpc3QgKz0gJ1snO1xuICAgICAgICBmb3IgKGNvbnN0IHB1bmN0Q2hhciBvZiBiZWZvcmVTcGFjZUNoZWNrTGlzdCkge1xuICAgICAgICAgICAgaWYgKChjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKHB1bmN0Q2hhciArICcgJykpID49IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGljZSA9IHsgcHJpb3JpdHk6IDE5MiwgbWVzc2FnZTogYFVuZXhwZWN0ZWQgc3BhY2UgYWZ0ZXIgJHtwdW5jdENoYXJ9IGNoYXJhY3RlcmAsIGV4Y2VycHQsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9O1xuICAgICAgICAgICAgICAgIGlmICgoZmllbGRUeXBlICE9PSAncmF3JyAmJiBmaWVsZFR5cGUgIT09ICd0ZXh0JykgfHwgZmllbGROYW1lLnN1YnN0cmluZygwLCA2KSAhPT0gJ2Zyb20gXFxcXCcpXG4gICAgICAgICAgICAgICAgICAgIG5vdGljZS5jaGFyYWN0ZXJJbmRleCA9IGNoYXJhY3RlckluZGV4OyAvLyBjaGFyYWN0ZXJJbmRleCBtZWFucyBub3RoaW5nIGZvciBwcm9jZXNzZWQgVVNGTVxuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwobm90aWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDE5Mykge1xuICAgICAgICAvLyBDaGVjayBmb3IgcHVuY3R1YXRpb24gY2hhcnMgYXQgZW5kIG9mIGxpbmVcbiAgICAgICAgLy8gIFJlbW92ZWQgJyAoY2FuIGJlIG5vcm1hbCwgZS5nLiwgSmVzdXMnIGNsb2FrKVxuICAgICAgICBsZXQgYmVmb3JlRU9MQ2hlY2tMaXN0ID0gJyhbezzin6jYjOOAgeKAkuKAk+KAlOKAleKAucKr4oCQ4oCY4oCcL+KBhMK3QMKpXFxcXOKAol7igKDigKHCsMKhwr/igLvihJbDl8K6wqrigLDigLHCtuKAsuKAs+KAtMKnfOKAlsKm4oSX4oSg4oSiwqTigrPguL/igrXCouKCoeKCoiTigqvigq/Wj+KCoOKCrMaS4oKj4oKy4oK04oKt4oK64oK+4oSz4oKl4oKm4oKn4oKx4oKwwqPhn5vigr3igrnigqjigqrgp7Pigrjigq7igqnCpSc7XG4gICAgICAgIGlmIChmaWVsZFR5cGUgIT09ICdtYXJrZG93bicpIGJlZm9yZUVPTENoZWNrTGlzdCArPSAnX34nOyAvLyBUaGVzZSBhcmUgdXNlZCBmb3IgbWFya2Rvd24gZm9ybWF0dGluZ1xuICAgICAgICBpZiAoZmllbGRUeXBlICE9PSAnbWFya2Rvd24nICYmIGZpZWxkVHlwZSAhPT0gJ1VTRk0nKSBiZWZvcmVFT0xDaGVja0xpc3QgKz0gJyonOyAvLyBUaGVyZSBhcmUgdXNlZCBmb3IgbWFya2Rvd24gZm9ybWF0dGluZyBhbmQgVVNGTSBjbG9zaW5nIG1hcmtlcnNcbiAgICAgICAgZm9yIChjb25zdCBwdW5jdENoYXIgb2YgYmVmb3JlRU9MQ2hlY2tMaXN0KSB7XG4gICAgICAgICAgICBpZiAocHVuY3RDaGFyICE9PSAn4oCUJyAmJiBmaWVsZFRleHRbZmllbGRUZXh0Lmxlbmd0aCAtIDFdID09PSBwdW5jdENoYXIpIHtcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIGNvbnN0IGV4Y2VycHQgPSAoY2hhcmFjdGVySW5kZXggPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJycpICsgZmllbGRUZXh0LnN1YnN0cmluZyhjaGFyYWN0ZXJJbmRleCAtIGV4Y2VycHRIYWxmTGVuZ3RoLCBjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cykgKyAoY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMgPCBmaWVsZFRleHQubGVuZ3RoID8gJ+KApicgOiAnJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm90aWNlID0geyBwcmlvcml0eTogMTkzLCBtZXNzYWdlOiBgVW5leHBlY3RlZCAke3B1bmN0Q2hhcn0gY2hhcmFjdGVyIGF0IGVuZCBvZiBsaW5lYCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH07XG4gICAgICAgICAgICAgICAgaWYgKChmaWVsZFR5cGUgIT09ICdyYXcnICYmIGZpZWxkVHlwZSAhPT0gJ3RleHQnKSB8fCBmaWVsZE5hbWUuc3Vic3RyaW5nKDAsIDYpICE9PSAnZnJvbSBcXFxcJylcbiAgICAgICAgICAgICAgICAgICAgbm90aWNlLmNoYXJhY3RlckluZGV4ID0gY2hhcmFjdGVySW5kZXg7IC8vIGNoYXJhY3RlckluZGV4IG1lYW5zIG5vdGhpbmcgZm9yIHByb2Nlc3NlZCBVU0ZNXG4gICAgICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbChub3RpY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgODQ5KVxuICAgICAgICAvLyBDaGVjayBmb3IgYmFkIGNvbWJpbmF0aW9ucyBvZiBjaGFyYWN0ZXJzXG4gICAgICAgIGZvciAoY29uc3QgYmFkQ2hhckNvbWJpbmF0aW9uIG9mIEJBRF9DSEFSQUNURVJfQ09NQklOQVRJT05TKVxuICAgICAgICAgICAgaWYgKChjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKGJhZENoYXJDb21iaW5hdGlvbikpID49IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogODQ5LCBtZXNzYWdlOiBgVW5leHBlY3RlZCAnJHtiYWRDaGFyQ29tYmluYXRpb259JyBjaGFyYWN0ZXIgY29tYmluYXRpb25gLCBjaGFyYWN0ZXJJbmRleCwgZXhjZXJwdCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgaWYgKCFjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgfHwgY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIDwgOTIpXG4gICAgICAgIC8vIENoZWNrIGZvciBsZWFkaW5nIHplcm9lcyBpbiBudW1iZXJzXG4gICAgICAgIGZvciAoY29uc3QgYmFkWmVyb0NoYXJDb21iaW5hdGlvbiBvZiBMRUFESU5HX1pFUk9fQ09NQklOQVRJT05TKVxuICAgICAgICAgICAgaWYgKChjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKGJhZFplcm9DaGFyQ29tYmluYXRpb24pKSA+PSAwXG4gICAgICAgICAgICAgICAgLy8gYnV0IG5vdCBhbiBlcnJvciBwZXJoYXBzIGlmIGZvbGxvd2VkIGJ5IHBlcmlvZCwgZS5nLiwgMC4zMi5cbiAgICAgICAgICAgICAgICAmJiAoZmllbGRUZXh0LnN1YnN0cmluZyhjaGFyYWN0ZXJJbmRleCArIGJhZFplcm9DaGFyQ29tYmluYXRpb24ubGVuZ3RoLCBjaGFyYWN0ZXJJbmRleCArIGJhZFplcm9DaGFyQ29tYmluYXRpb24ubGVuZ3RoICsgMSkgIT09ICcuJykpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBleGNlcnB0ID0gKGNoYXJhY3RlckluZGV4ID4gZXhjZXJwdEhhbGZMZW5ndGggPyAn4oCmJyA6ICcnKSArIGZpZWxkVGV4dC5zdWJzdHJpbmcoY2hhcmFjdGVySW5kZXggLSBleGNlcnB0SGFsZkxlbmd0aCwgY2hhcmFjdGVySW5kZXggKyBleGNlcnB0SGFsZkxlbmd0aFBsdXMpICsgKGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJycpO1xuICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogOTIsIG1lc3NhZ2U6IGBVbmV4cGVjdGVkIGxlYWRpbmcgemVyb2AsIGNoYXJhY3RlckluZGV4LCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAvLyAvLyBDaGVjayBmb3IgcHJvYmxlbXMgY3JlYXRlZCBieSB0QyBDcmVhdGUgb3Igc29tZXRoaW5nXG4gICAgLy8gY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignXFxcXFsnKTtcbiAgICAvLyBpZiAoY2hhcmFjdGVySW5kZXggPT09IC0xKSBjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKCdcXFxcXScpO1xuICAgIC8vIGlmIChjaGFyYWN0ZXJJbmRleCAhPT0gLTEpIHtcbiAgICAvLyAgICAgY29uc3QgZXhjZXJwdCA9IChjaGFyYWN0ZXJJbmRleCA+IGV4Y2VycHRIYWxmTGVuZ3RoID8gJ+KApicgOiAnJykgKyBmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKSArIChjaGFyYWN0ZXJJbmRleCArIGV4Y2VycHRIYWxmTGVuZ3RoUGx1cyA8IGZpZWxkVGV4dC5sZW5ndGggPyAn4oCmJyA6ICcnKTtcbiAgICAvLyAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA4NDksIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBcXFxcWyBvciBcXFxcXSBjaGFyYWN0ZXJzXCIsIGNoYXJhY3RlckluZGV4LCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgLy8gfVxuXG4gICAgLy8gaWYgKGNvdW50T2NjdXJyZW5jZXMoZmllbGRUZXh0LCAnKCcpICE9PSBjb3VudE9jY3VycmVuY2VzKGZpZWxkVGV4dCwgJyknKSkge1xuICAgIC8vICAgICB1c2VyTG9nKGBjaGVja1RleHRGaWVsZCgke2ZpZWxkVHlwZX0sICR7ZmllbGROYW1lfSwgJyR7ZmllbGRUZXh0fScsICR7YWxsb3dlZExpbmtzfSwgJHtvdXJMb2NhdGlvbn0pIGZvdW5kICR7Y291bnRPY2N1cnJlbmNlcyhmaWVsZFRleHQsICcoJyl9ICcoJyBidXQgJHtjb3VudE9jY3VycmVuY2VzKGZpZWxkVGV4dCwgJyknKX0gJyknYCk7XG4gICAgLy8gICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogMSwgbWVzc2FnZTogYE1pc21hdGNoZWQgKCApIGNoYXJhY3RlcnNgLCBkZXRhaWxzOiBgbGVmdD0ke2NvdW50T2NjdXJyZW5jZXMoZmllbGRUZXh0LCAnKCcpLnRvTG9jYWxlU3RyaW5nKCl9LCByaWdodD0ke2NvdW50T2NjdXJyZW5jZXMoZmllbGRUZXh0LCAnKScpLnRvTG9jYWxlU3RyaW5nKCl9YCwgbG9jYXRpb246IG91ckxvY2F0aW9uIH0pO1xuICAgIC8vIH1cbiAgICAvLyBDaGVjayBtYXRjaGVkIHBhaXJzIGluIHRoZSBmaWVsZFxuICAgIGZvciAoY29uc3QgcHVuY3RTZXQgb2YgT1BFTl9DTE9TRV9QVU5DVFVBVElPTl9QQUlSUykge1xuICAgICAgICAvLyBDYW7igJl0IGNoZWNrICfigJjigJknIGNveiB0aGV5IG1pZ2h0IGJlIHVzZWQgYXMgYXBvc3Ryb3BoZVxuICAgICAgICBjb25zdCBsZWZ0Q2hhciA9IHB1bmN0U2V0WzBdLCByaWdodENoYXIgPSBwdW5jdFNldFsxXTtcbiAgICAgICAgLy8gaWYgKGZpZWxkVHlwZSA9PT0gJ21hcmtkb3duJyAmJiBsZWZ0Q2hhciA9PT0gJzwnKSBjb250aW51ZTsgLy8gbWFya2Rvd24gdXNlcyB0aGlzIGZvciBibG9jayBxdW90ZVxuICAgICAgICAvLyBUT0RPOiBUaGUgZm9sbG93aW5nICdjb250aW51ZScgbWlnaHQgbm90IGJlIGRvaW5nIHRoZSAybmQgbG90IG9mIGNoZWNrc1xuICAgICAgICBpZiAoKGZpZWxkVHlwZSA9PT0gJ1VTRk0nIHx8IGZpZWxkTmFtZS5zdGFydHNXaXRoKCdmcm9tIFxcXFwnKSB8fCAoZmllbGRUeXBlID09PSAnbWFya2Rvd24nICYmIGZpZWxkTmFtZSA9PT0gJycpKVxuICAgICAgICAgICAgJiYgJyhbe+KAnOKAmMKrJy5pbmRleE9mKGxlZnRDaGFyKSA+PSAwKSBjb250aW51ZTsgLy8gU3RhcnQvZW5kIGNhbiBiZSBvbiBkaWZmZXJlbnQgbGluZXNcbiAgICAgICAgaWYgKGZpZWxkVHlwZSAhPT0gJ21hcmtkb3duJyB8fCBsZWZ0Q2hhciAhPT0gJzwnKSB7IC8vID4gaXMgYSBtYXJrZG93biBibG9jayBtYXJrZXIgYW5kIGFsc28gdXNlZCBmb3IgSFRNTCwgZS5nLiwgPGJyPlxuICAgICAgICAgICAgY29uc3QgbGVmdENvdW50ID0gY291bnRPY2N1cnJlbmNlcyhmaWVsZFRleHQsIGxlZnRDaGFyKSxcbiAgICAgICAgICAgICAgICByaWdodENvdW50ID0gY291bnRPY2N1cnJlbmNlcyhmaWVsZFRleHQsIHJpZ2h0Q2hhcik7XG4gICAgICAgICAgICBpZiAobGVmdENvdW50ICE9PSByaWdodENvdW50XG4gICAgICAgICAgICAgICAgJiYgKHJpZ2h0Q2hhciAhPT0gJ+KAmScgfHwgbGVmdENvdW50ID4gcmlnaHRDb3VudCkpIHsgLy8gQ2xvc2luZyBzaW5nbGUgcXVvdGUgaXMgYWxzbyB1c2VkIGFzIGFwb3N0cm9waGUgaW4gRW5nbGlzaFxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IFRoZXNlIGFyZSBoaWdoZXIgcHJpb3JpdHkgdGhhbiBzaW1pbGFyIGNoZWNrcyBpbiBhIHdob2xlIGZpbGUgd2hpY2ggaXMgbGVzcyBzcGVjaWZpY1xuICAgICAgICAgICAgICAgIGNvbnN0IHRoaXNQcmlvcml0eSA9IGxlZnRDaGFyID09PSAn4oCcJyA/IDE2MyA6IDU2MztcbiAgICAgICAgICAgICAgICBpZiAoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCB0aGlzUHJpb3JpdHkpXG4gICAgICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogdGhpc1ByaW9yaXR5LCBtZXNzYWdlOiBgTWlzbWF0Y2hlZCAke2xlZnRDaGFyfSR7cmlnaHRDaGFyfSBjaGFyYWN0ZXJzYCwgZGV0YWlsczogYGxlZnQ9JHtsZWZ0Q291bnQudG9Mb2NhbGVTdHJpbmcoKX0sIHJpZ2h0PSR7cmlnaHRDb3VudC50b0xvY2FsZVN0cmluZygpfWAsIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7IC8vIFRoaXMgcmVnZXggYnVpbGQgZmFpbHMgZm9yIHNvbWUgb2YgdGhlIGNoYXJhY3RlcnNcbiAgICAgICAgICAgICAgICBjb25zdCBsZWZ0UmVnZXggPSBuZXcgUmVnRXhwKGAoXFxcXHcpXFxcXCR7bGVmdENoYXJ9KFxcXFx3KWAsICdnJyksIHJpZ2h0UmVnZXggPSBuZXcgUmVnRXhwKGAoXFxcXHcpXFxcXCR7cmlnaHRDaGFyfShcXFxcdylgLCAnZycpO1xuICAgICAgICAgICAgICAgIC8vIGRlYnVnTG9nKGBsZWZ0UmVnZXggaXMgJHtsZWZ0UmVnZXh9YCk7XG4gICAgICAgICAgICAgICAgbGV0IHJlZ2V4UmVzdWx0QXJyYXk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKChyZWdleFJlc3VsdEFycmF5ID0gbGVmdFJlZ2V4LmV4ZWMoZmllbGRUZXh0KSkpXG4gICAgICAgICAgICAgICAgICAgIGlmICgoZmllbGRUeXBlICE9PSAnbWFya2Rvd24nIHx8IHJlZ2V4UmVzdWx0QXJyYXlbMF1bMF0gIT09ICdfJylcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIChmaWVsZFR5cGUgIT09ICdZQU1MJyB8fCBsZWZ0Q2hhciAhPT0gJ3snKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogV2UgaGF2ZSB0byBhbGxvdyBmb3IgYSBibGFuayBsYW5ndWFnZSBjb2RlIHVudGlsIHdlIGNoYW5nZSBjaGVja1BsYWluVGV4dCgpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAobGFuZ3VhZ2VDb2RlICE9PSAnZW4nIHx8IHJlZ2V4UmVzdWx0QXJyYXlbMF1bMl0gIT09ICdzJyB8fCBmaWVsZFRleHQuaW5kZXhPZignKHMpJykgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVidWdMb2coYEdvdCBwb3NzaWJsZSBtaXNwbGFjZWQgJyR7bGFuZ3VhZ2VDb2RlfScgbGVmdCAke2xlZnRDaGFyfSBpbiAke2ZpZWxkVHlwZX0gJHtmaWVsZE5hbWV9ICcke2ZpZWxkVGV4dH0nOiAke0pTT04uc3RyaW5naWZ5KHJlZ2V4UmVzdWx0QXJyYXkpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRoaXNQcmlvcml0eSA9IDcxNywgdGhpc01lc3NhZ2UgPSBgTWlzcGxhY2VkICR7bGVmdENoYXJ9IGNoYXJhY3RlcmA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVmdENoYXIgPT09ICcoJyAmJiByZWdleFJlc3VsdEFycmF5WzBdWzJdID09PSAncycpIHsgdGhpc1ByaW9yaXR5ID0gMTc7IHRoaXNNZXNzYWdlID0gYFBvc3NpYmxlIG1pc3BsYWNlZCAke2xlZnRDaGFyfSBjaGFyYWN0ZXJgOyB9IC8vIExvd2VyIHByaW9yaXR5IGZvciB3b3JkcyBsaWtlICd0aGluZyhzKSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IHRoaXNQcmlvcml0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGROb3RpY2VQYXJ0aWFsKHsgcHJpb3JpdHk6IHRoaXNQcmlvcml0eSwgbWVzc2FnZTogdGhpc01lc3NhZ2UsIGV4Y2VycHQ6IHJlZ2V4UmVzdWx0QXJyYXlbMF0sIGxvY2F0aW9uOiBvdXJMb2NhdGlvbiB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyaWdodENoYXIgIT09ICfigJknKSAvLyBDYW7igJl0IGNoZWNrICfigJjigJknIGNveiB0aGV5IG1pZ2h0IGJlIHVzZWQgYXMgYXBvc3Ryb3BoZVxuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHJlZ2V4UmVzdWx0QXJyYXkgPSByaWdodFJlZ2V4LmV4ZWMoZmllbGRUZXh0KSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGZpZWxkVHlwZSAhPT0gJ21hcmtkb3duJyB8fCByZWdleFJlc3VsdEFycmF5WzBdWzJdICE9PSAnXycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgKGZpZWxkVHlwZSAhPT0gJ1lBTUwnIHx8IHJpZ2h0Q2hhciAhPT0gJ30nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlYnVnTG9nKGBHb3QgbWlzcGxhY2VkIHJpZ2h0ICR7cmlnaHRDaGFyfSBpbiAke2ZpZWxkVHlwZX0gJHtmaWVsZE5hbWV9ICcke2ZpZWxkVGV4dH0nOmAsIEpTT04uc3RyaW5naWZ5KHJlZ2V4UmVzdWx0QXJyYXkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCB8fCBjaGVja2luZ09wdGlvbnM/LmN1dG9mZlByaW9yaXR5TGV2ZWwgPCA3MTYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZE5vdGljZVBhcnRpYWwoeyBwcmlvcml0eTogNzE2LCBtZXNzYWdlOiBgTWlzcGxhY2VkICR7cmlnaHRDaGFyfSBjaGFyYWN0ZXJgLCBleGNlcnB0OiByZWdleFJlc3VsdEFycmF5WzBdLCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIHsgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCghY2hlY2tpbmdPcHRpb25zPy5jdXRvZmZQcmlvcml0eUxldmVsIHx8IGNoZWNraW5nT3B0aW9ucz8uY3V0b2ZmUHJpb3JpdHlMZXZlbCA8IDc2NSlcbiAgICAgICAgJiYgIWFsbG93ZWRMaW5rcykge1xuICAgICAgICAvLyBTaW1wbGUgY2hlY2sgdGhhdCB0aGVyZSBhcmVu4oCZdCBhbnlcbiAgICAgICAgY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignOi8vJyk7XG4gICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA9PT0gLTEpIGNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0LmluZGV4T2YoJ2h0dHAnKTtcbiAgICAgICAgaWYgKGNoYXJhY3RlckluZGV4ID09PSAtMSkgY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignZnRwJyk7XG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgbWlnaHQgaGF2ZSB0byBiZSByZW1vdmVkIGlmIHRleHQgZmllbGRzIGNhbiBjb250YWluIGVtYWlsIGFkZHJlc3Nlc1xuICAgICAgICBpZiAoY2hhcmFjdGVySW5kZXggPT09IC0xKSBjaGFyYWN0ZXJJbmRleCA9IGZpZWxkVGV4dC5pbmRleE9mKCcub3JnJyk7XG4gICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA9PT0gLTEpIGNoYXJhY3RlckluZGV4ID0gZmllbGRUZXh0LmluZGV4T2YoJy5jb20nKTtcbiAgICAgICAgaWYgKGNoYXJhY3RlckluZGV4ID09PSAtMSkgY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignLmluZm8nKTtcbiAgICAgICAgaWYgKGNoYXJhY3RlckluZGV4ID09PSAtMSkgY2hhcmFjdGVySW5kZXggPSBmaWVsZFRleHQuaW5kZXhPZignLmJpYmxlJyk7XG4gICAgICAgIGlmIChjaGFyYWN0ZXJJbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBleGNlcnB0ID0gYCR7Y2hhcmFjdGVySW5kZXggPiBleGNlcnB0SGFsZkxlbmd0aCA/ICfigKYnIDogJyd9JHtmaWVsZFRleHQuc3Vic3RyaW5nKGNoYXJhY3RlckluZGV4IC0gZXhjZXJwdEhhbGZMZW5ndGgsIGNoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzKX0ke2NoYXJhY3RlckluZGV4ICsgZXhjZXJwdEhhbGZMZW5ndGhQbHVzIDwgZmllbGRUZXh0Lmxlbmd0aCA/ICfigKYnIDogJyd9YFxuICAgICAgICAgICAgYWRkTm90aWNlUGFydGlhbCh7IHByaW9yaXR5OiA3NjUsIG1lc3NhZ2U6IFwiVW5leHBlY3RlZCBsaW5rXCIsIGNoYXJhY3RlckluZGV4LCBleGNlcnB0LCBsb2NhdGlvbjogb3VyTG9jYXRpb24gfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTZWUgaWYgd2UgaGF2ZSBhIHN1Z2dlc3Rpb25cbiAgICBpZiAoc3VnZ2VzdGlvbiAhPT0gZmllbGRUZXh0KSB7XG4gICAgICAgIC8vIGRlYnVnTG9nKGBIYWQgdGV4dCAke2ZpZWxkVGV4dH1gKTtcbiAgICAgICAgLy8gZGVidWdMb2coYFN1ZyB0ZXh0ICR7c3VnZ2VzdGlvbn1gKTtcbiAgICAgICAgcmVzdWx0LnN1Z2dlc3Rpb24gPSBzdWdnZXN0aW9uO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBlbmQgb2YgY2hlY2tUZXh0RmllbGQgZnVuY3Rpb25cbiJdfQ==